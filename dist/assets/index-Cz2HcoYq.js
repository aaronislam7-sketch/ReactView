(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function $c(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vl={exports:{}},Jo={},Bl={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function X0(){if(Df)return _e;Df=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=S&&F[S]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function C(F,D,ce){this.props=F,this.context=D,this.refs=b,this.updater=ce||k}C.prototype.isReactComponent={},C.prototype.setState=function(F,D){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,D,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=C.prototype;function R(F,D,ce){this.props=F,this.context=D,this.refs=b,this.updater=ce||k}var j=R.prototype=new E;j.constructor=R,w(j,C.prototype),j.isPureReactComponent=!0;var $=Array.isArray,P=Object.prototype.hasOwnProperty,M={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(F,D,ce){var se,fe={},he=null,Se=null;if(D!=null)for(se in D.ref!==void 0&&(Se=D.ref),D.key!==void 0&&(he=""+D.key),D)P.call(D,se)&&!z.hasOwnProperty(se)&&(fe[se]=D[se]);var ke=arguments.length-2;if(ke===1)fe.children=ce;else if(1<ke){for(var Ee=Array(ke),ze=0;ze<ke;ze++)Ee[ze]=arguments[ze+2];fe.children=Ee}if(F&&F.defaultProps)for(se in ke=F.defaultProps,ke)fe[se]===void 0&&(fe[se]=ke[se]);return{$$typeof:r,type:F,key:he,ref:Se,props:fe,_owner:M.current}}function U(F,D){return{$$typeof:r,type:F.type,key:D,ref:F.ref,props:F.props,_owner:F._owner}}function H(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function Z(F){var D={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return D[ce]})}var ee=/\/+/g;function Y(F,D){return typeof F=="object"&&F!==null&&F.key!=null?Z(""+F.key):D.toString(36)}function X(F,D,ce,se,fe){var he=typeof F;(he==="undefined"||he==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(he){case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case r:case n:Se=!0}}if(Se)return Se=F,fe=fe(Se),F=se===""?"."+Y(Se,0):se,$(fe)?(ce="",F!=null&&(ce=F.replace(ee,"$&/")+"/"),X(fe,D,ce,"",function(ze){return ze})):fe!=null&&(H(fe)&&(fe=U(fe,ce+(!fe.key||Se&&Se.key===fe.key?"":(""+fe.key).replace(ee,"$&/")+"/")+F)),D.push(fe)),1;if(Se=0,se=se===""?".":se+":",$(F))for(var ke=0;ke<F.length;ke++){he=F[ke];var Ee=se+Y(he,ke);Se+=X(he,D,ce,Ee,fe)}else if(Ee=v(F),typeof Ee=="function")for(F=Ee.call(F),ke=0;!(he=F.next()).done;)he=he.value,Ee=se+Y(he,ke++),Se+=X(he,D,ce,Ee,fe);else if(he==="object")throw D=String(F),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Se}function ne(F,D,ce){if(F==null)return F;var se=[],fe=0;return X(F,se,"","",function(he){return D.call(ce,he,fe++)}),se}function ae(F){if(F._status===-1){var D=F._result;D=D(),D.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=D)}if(F._status===1)return F._result.default;throw F._result}var oe={current:null},B={transition:null},ie={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:B,ReactCurrentOwner:M};function G(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:ne,forEach:function(F,D,ce){ne(F,function(){D.apply(this,arguments)},ce)},count:function(F){var D=0;return ne(F,function(){D++}),D},toArray:function(F){return ne(F,function(D){return D})||[]},only:function(F){if(!H(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_e.Component=C,_e.Fragment=i,_e.Profiler=l,_e.PureComponent=R,_e.StrictMode=s,_e.Suspense=p,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,_e.act=G,_e.cloneElement=function(F,D,ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var se=w({},F.props),fe=F.key,he=F.ref,Se=F._owner;if(D!=null){if(D.ref!==void 0&&(he=D.ref,Se=M.current),D.key!==void 0&&(fe=""+D.key),F.type&&F.type.defaultProps)var ke=F.type.defaultProps;for(Ee in D)P.call(D,Ee)&&!z.hasOwnProperty(Ee)&&(se[Ee]=D[Ee]===void 0&&ke!==void 0?ke[Ee]:D[Ee])}var Ee=arguments.length-2;if(Ee===1)se.children=ce;else if(1<Ee){ke=Array(Ee);for(var ze=0;ze<Ee;ze++)ke[ze]=arguments[ze+2];se.children=ke}return{$$typeof:r,type:F.type,key:fe,ref:he,props:se,_owner:Se}},_e.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:c,_context:F},F.Consumer=F},_e.createElement=V,_e.createFactory=function(F){var D=V.bind(null,F);return D.type=F,D},_e.createRef=function(){return{current:null}},_e.forwardRef=function(F){return{$$typeof:h,render:F}},_e.isValidElement=H,_e.lazy=function(F){return{$$typeof:x,_payload:{_status:-1,_result:F},_init:ae}},_e.memo=function(F,D){return{$$typeof:g,type:F,compare:D===void 0?null:D}},_e.startTransition=function(F){var D=B.transition;B.transition={};try{F()}finally{B.transition=D}},_e.unstable_act=G,_e.useCallback=function(F,D){return oe.current.useCallback(F,D)},_e.useContext=function(F){return oe.current.useContext(F)},_e.useDebugValue=function(){},_e.useDeferredValue=function(F){return oe.current.useDeferredValue(F)},_e.useEffect=function(F,D){return oe.current.useEffect(F,D)},_e.useId=function(){return oe.current.useId()},_e.useImperativeHandle=function(F,D,ce){return oe.current.useImperativeHandle(F,D,ce)},_e.useInsertionEffect=function(F,D){return oe.current.useInsertionEffect(F,D)},_e.useLayoutEffect=function(F,D){return oe.current.useLayoutEffect(F,D)},_e.useMemo=function(F,D){return oe.current.useMemo(F,D)},_e.useReducer=function(F,D,ce){return oe.current.useReducer(F,D,ce)},_e.useRef=function(F){return oe.current.useRef(F)},_e.useState=function(F){return oe.current.useState(F)},_e.useSyncExternalStore=function(F,D,ce){return oe.current.useSyncExternalStore(F,D,ce)},_e.useTransition=function(){return oe.current.useTransition()},_e.version="18.3.1",_e}var Of;function jc(){return Of||(Of=1,Bl.exports=X0()),Bl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function J0(){if(Vf)return Jo;Vf=1;var r=jc(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var x,S={},v=null,k=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(k=p.ref);for(x in p)s.call(p,x)&&!c.hasOwnProperty(x)&&(S[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)S[x]===void 0&&(S[x]=p[x]);return{$$typeof:n,type:h,key:v,ref:k,props:S,_owner:l.current}}return Jo.Fragment=i,Jo.jsx=u,Jo.jsxs=u,Jo}var Bf;function Z0(){return Bf||(Bf=1,Vl.exports=J0()),Vl.exports}var d=Z0();const Vp=$c(d);var y=jc();const Ce=$c(y);var ks={},Wl={exports:{}},xt={},Hl={exports:{}},Ul={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function eg(){return Wf||(Wf=1,(function(r){function n(B,ie){var G=B.length;B.push(ie);e:for(;0<G;){var F=G-1>>>1,D=B[F];if(0<l(D,ie))B[F]=ie,B[G]=D,G=F;else break e}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var ie=B[0],G=B.pop();if(G!==ie){B[0]=G;e:for(var F=0,D=B.length,ce=D>>>1;F<ce;){var se=2*(F+1)-1,fe=B[se],he=se+1,Se=B[he];if(0>l(fe,G))he<D&&0>l(Se,fe)?(B[F]=Se,B[he]=G,F=he):(B[F]=fe,B[se]=G,F=se);else if(he<D&&0>l(Se,G))B[F]=Se,B[he]=G,F=he;else break e}}return ie}function l(B,ie){var G=B.sortIndex-ie.sortIndex;return G!==0?G:B.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],g=[],x=1,S=null,v=3,k=!1,w=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(B){for(var ie=i(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=B)s(g),ie.sortIndex=ie.expirationTime,n(p,ie);else break;ie=i(g)}}function $(B){if(b=!1,j(B),!w)if(i(p)!==null)w=!0,ae(P);else{var ie=i(g);ie!==null&&oe($,ie.startTime-B)}}function P(B,ie){w=!1,b&&(b=!1,E(V),V=-1),k=!0;var G=v;try{for(j(ie),S=i(p);S!==null&&(!(S.expirationTime>ie)||B&&!Z());){var F=S.callback;if(typeof F=="function"){S.callback=null,v=S.priorityLevel;var D=F(S.expirationTime<=ie);ie=r.unstable_now(),typeof D=="function"?S.callback=D:S===i(p)&&s(p),j(ie)}else s(p);S=i(p)}if(S!==null)var ce=!0;else{var se=i(g);se!==null&&oe($,se.startTime-ie),ce=!1}return ce}finally{S=null,v=G,k=!1}}var M=!1,z=null,V=-1,U=5,H=-1;function Z(){return!(r.unstable_now()-H<U)}function ee(){if(z!==null){var B=r.unstable_now();H=B;var ie=!0;try{ie=z(!0,B)}finally{ie?Y():(M=!1,z=null)}}else M=!1}var Y;if(typeof R=="function")Y=function(){R(ee)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=ee,Y=function(){ne.postMessage(null)}}else Y=function(){C(ee,0)};function ae(B){z=B,M||(M=!0,Y())}function oe(B,ie){V=C(function(){B(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_continueExecution=function(){w||k||(w=!0,ae(P))},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var G=v;v=ie;try{return B()}finally{v=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=v;v=B;try{return ie()}finally{v=G}},r.unstable_scheduleCallback=function(B,ie,G){var F=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?F+G:F):G=F,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,B={id:x++,callback:ie,priorityLevel:B,startTime:G,expirationTime:D,sortIndex:-1},G>F?(B.sortIndex=G,n(g,B),i(p)===null&&B===i(g)&&(b?(E(V),V=-1):b=!0,oe($,G-F))):(B.sortIndex=D,n(p,B),w||k||(w=!0,ae(P))),B},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(B){var ie=v;return function(){var G=v;v=ie;try{return B.apply(this,arguments)}finally{v=G}}}})(Ul)),Ul}var Hf;function tg(){return Hf||(Hf=1,Hl.exports=eg()),Hl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function ng(){if(Uf)return xt;Uf=1;var r=jc(),n=tg();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},S={};function v(e){return p.call(S,e)?!0:p.call(x,e)?!1:g.test(e)?S[e]=!0:(x[e]=!0,!1)}function k(e,t,o,a){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w(e,t,o,a){if(t===null||typeof t>"u"||k(e,t,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,o,a,f,m,_){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E,R);C[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E,R);C[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E,R);C[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,o,a){var f=C.hasOwnProperty(t)?C[t]:null;(f!==null?f.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(w(t,o,f,a)&&(o=null),a||f===null?v(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):f.mustUseProperty?e[f.propertyName]=o===null?f.type===3?!1:"":o:(t=f.attributeName,a=f.attributeNamespace,o===null?e.removeAttribute(t):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,a?e.setAttributeNS(a,t,o):e.setAttribute(t,o))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),B=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,F;function D(e){if(F===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return`
`+F+e}var ce=!1;function se(e,t){if(!e||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var a=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){a=O}e.call(t.prototype)}else{try{throw Error()}catch(O){a=O}e()}}catch(O){if(O&&a&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),m=a.stack.split(`
`),_=f.length-1,T=m.length-1;1<=_&&0<=T&&f[_]!==m[T];)T--;for(;1<=_&&0<=T;_--,T--)if(f[_]!==m[T]){if(_!==1||T!==1)do if(_--,T--,0>T||f[_]!==m[T]){var I=`
`+f[_].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=_&&0<=T);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?D(e):""}function fe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case M:return"Portal";case U:return"Profiler";case V:return"StrictMode";case Y:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ze(e){var t=Ee(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ut(e){e._valueTracker||(e._valueTracker=ze(e))}function Ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),a="";return e&&(a=Ee(e)?e.checked?"true":"false":e.value),e=a,e!==o?(t.setValue(e),!0):!1}function pt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ie(e,t){var o=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function ge(e,t){var o=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;o=ke(t.value!=null?t.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rt(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function Vt(e,t){Rt(e,t);var o=ke(t.value),a=t.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pt(e,t.type,o):t.hasOwnProperty("defaultValue")&&Pt(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mt(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Pt(e,t,o){(t!=="number"||pt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Bt=Array.isArray;function Ze(e,t,o,a){if(e=e.options,t){t={};for(var f=0;f<o.length;f++)t["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=t.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&a&&(e[o].defaultSelected=!0)}else{for(o=""+ke(o),t=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function rt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zn(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(i(92));if(Bt(o)){if(1<o.length)throw Error(i(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:ke(o)}}function Wt(e,t){var o=ke(t.value),a=ke(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function dn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ut,qt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,a,f){MSApp.execUnsafeLocalFunction(function(){return e(t,o,a,f)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tt(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){tn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function Mr(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function di(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=o.indexOf("--")===0,f=Mr(o,t[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,f):e[o]=f}}var fi=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(e,t){if(t){if(fi[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yo=null,En=null,_n=null;function pi(e){if(e=Lo(e)){if(typeof yo!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Li(t),yo(e.stateNode,e.type,t))}}function er(e){En?_n?_n.push(e):_n=[e]:En=e}function tr(){if(En){var e=En,t=_n;if(_n=En=null,pi(e),t)for(e=0;e<t.length;e++)pi(t[e])}}function hi(e,t){return e(t)}function mi(){}var $n=!1;function vo(e,t,o){if($n)return e(t,o);$n=!0;try{return hi(e,t,o)}finally{$n=!1,(En!==null||_n!==null)&&(mi(),tr())}}function Tr(e,t){var o=e.stateNode;if(o===null)return null;var a=Li(o);if(a===null)return null;o=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,t,typeof o));return o}var gi=!1;if(h)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{gi=!1}function iu(e,t,o,a,f,m,_,T,I){var O=Array.prototype.slice.call(arguments,3);try{t.apply(o,O)}catch(Q){this.onError(Q)}}var nr=!1,rr=null,$e=!1,je=null,kt={onError:function(e){nr=!0,rr=e}};function jn(e,t,o,a,f,m,_,T,I){nr=!1,rr=null,iu.apply(kt,arguments)}function su(e,t,o,a,f,m,_,T,I){if(jn.apply(this,arguments),nr){if(nr){var O=rr;nr=!1,rr=null}else throw Error(i(198));$e||($e=!0,je=O)}}function or(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function au(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(or(e)!==e)throw Error(i(188))}function am(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(i(188));return t!==e?null:e}for(var o=e,a=t;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(a=f.return,a!==null){o=a;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return lu(f),e;if(m===a)return lu(f),t;m=m.sibling}throw Error(i(188))}if(o.return!==a.return)o=f,a=m;else{for(var _=!1,T=f.child;T;){if(T===o){_=!0,o=f,a=m;break}if(T===a){_=!0,a=f,o=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===o){_=!0,o=m,a=f;break}if(T===a){_=!0,a=m,o=f;break}T=T.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:t}function cu(e){return e=am(e),e!==null?uu(e):null}function uu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uu(e);if(t!==null)return t;e=e.sibling}return null}var du=n.unstable_scheduleCallback,fu=n.unstable_cancelCallback,lm=n.unstable_shouldYield,cm=n.unstable_requestPaint,He=n.unstable_now,um=n.unstable_getCurrentPriorityLevel,aa=n.unstable_ImmediatePriority,pu=n.unstable_UserBlockingPriority,yi=n.unstable_NormalPriority,dm=n.unstable_LowPriority,hu=n.unstable_IdlePriority,vi=null,nn=null;function fm(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(vi,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:mm,pm=Math.log,hm=Math.LN2;function mm(e){return e>>>=0,e===0?32:31-(pm(e)/hm|0)|0}var xi=64,wi=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var o=e.pendingLanes;if(o===0)return 0;var a=0,f=e.suspendedLanes,m=e.pingedLanes,_=o&268435455;if(_!==0){var T=_&~f;T!==0?a=xo(T):(m&=_,m!==0&&(a=xo(m)))}else _=o&~f,_!==0?a=xo(_):m!==0&&(a=xo(m));if(a===0)return 0;if(t!==0&&t!==a&&(t&f)===0&&(f=a&-a,m=t&-t,f>=m||f===16&&(m&4194240)!==0))return t;if((a&4)!==0&&(a|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)o=31-Yt(t),f=1<<o,a|=e[o],t&=~f;return a}function gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(e,t){for(var o=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes;0<m;){var _=31-Yt(m),T=1<<_,I=f[_];I===-1?((T&o)===0||(T&a)!==0)&&(f[_]=gm(T,t)):I<=t&&(e.expiredLanes|=T),m&=~T}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mu(){var e=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),e}function ca(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function wo(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=o}function vm(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var f=31-Yt(o),m=1<<f;t[f]=0,a[f]=-1,e[f]=-1,o&=~m}}function ua(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var a=31-Yt(o),f=1<<a;f&t|e[a]&t&&(e[a]|=t),o&=~f}}var Ae=0;function gu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yu,da,vu,xu,wu,fa=!1,ki=[],Rn=null,Mn=null,Pn=null,bo=new Map,ko=new Map,Tn=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bu(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function So(e,t,o,a,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:o,eventSystemFlags:a,nativeEvent:m,targetContainers:[f]},t!==null&&(t=Lo(t),t!==null&&da(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function wm(e,t,o,a,f){switch(t){case"focusin":return Rn=So(Rn,e,t,o,a,f),!0;case"dragenter":return Mn=So(Mn,e,t,o,a,f),!0;case"mouseover":return Pn=So(Pn,e,t,o,a,f),!0;case"pointerover":var m=f.pointerId;return bo.set(m,So(bo.get(m)||null,e,t,o,a,f)),!0;case"gotpointercapture":return m=f.pointerId,ko.set(m,So(ko.get(m)||null,e,t,o,a,f)),!0}return!1}function ku(e){var t=ir(e.target);if(t!==null){var o=or(t);if(o!==null){if(t=o.tag,t===13){if(t=au(o),t!==null){e.blockedOn=t,wu(e.priority,function(){vu(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);mo=a,o.target.dispatchEvent(a),mo=null}else return t=Lo(o),t!==null&&da(t),e.blockedOn=o,!1;t.shift()}return!0}function Su(e,t,o){Si(e)&&o.delete(t)}function bm(){fa=!1,Rn!==null&&Si(Rn)&&(Rn=null),Mn!==null&&Si(Mn)&&(Mn=null),Pn!==null&&Si(Pn)&&(Pn=null),bo.forEach(Su),ko.forEach(Su)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bm)))}function Eo(e){function t(f){return Co(f,e)}if(0<ki.length){Co(ki[0],e);for(var o=1;o<ki.length;o++){var a=ki[o];a.blockedOn===e&&(a.blockedOn=null)}}for(Rn!==null&&Co(Rn,e),Mn!==null&&Co(Mn,e),Pn!==null&&Co(Pn,e),bo.forEach(t),ko.forEach(t),o=0;o<Tn.length;o++)a=Tn[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<Tn.length&&(o=Tn[0],o.blockedOn===null);)ku(o),o.blockedOn===null&&Tn.shift()}var Fr=$.ReactCurrentBatchConfig,Ci=!0;function km(e,t,o,a){var f=Ae,m=Fr.transition;Fr.transition=null;try{Ae=1,pa(e,t,o,a)}finally{Ae=f,Fr.transition=m}}function Sm(e,t,o,a){var f=Ae,m=Fr.transition;Fr.transition=null;try{Ae=4,pa(e,t,o,a)}finally{Ae=f,Fr.transition=m}}function pa(e,t,o,a){if(Ci){var f=ha(e,t,o,a);if(f===null)Pa(e,t,a,Ei,o),bu(e,a);else if(wm(f,e,t,o,a))a.stopPropagation();else if(bu(e,a),t&4&&-1<xm.indexOf(e)){for(;f!==null;){var m=Lo(f);if(m!==null&&yu(m),m=ha(e,t,o,a),m===null&&Pa(e,t,a,Ei,o),m===f)break;f=m}f!==null&&a.stopPropagation()}else Pa(e,t,a,null,o)}}var Ei=null;function ha(e,t,o,a){if(Ei=null,e=go(a),e=ir(e),e!==null)if(t=or(e),t===null)e=null;else if(o=t.tag,o===13){if(e=au(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function Cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(um()){case aa:return 1;case pu:return 4;case yi:case dm:return 16;case hu:return 536870912;default:return 16}default:return 16}}var In=null,ma=null,_i=null;function Eu(){if(_i)return _i;var e,t=ma,o=t.length,a,f="value"in In?In.value:In.textContent,m=f.length;for(e=0;e<o&&t[e]===f[e];e++);var _=o-e;for(a=1;a<=_&&t[o-a]===f[m-a];a++);return _i=f.slice(e,1<a?1-a:void 0)}function $i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function _u(){return!1}function St(e){function t(o,a,f,m,_){this._reactName=o,this._targetInst=f,this.type=a,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(o=e[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ji:_u,this.isPropagationStopped=_u,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=St(Ar),_o=G({},Ar,{view:0,detail:0}),Cm=St(_o),ya,va,$o,Ri=G({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(ya=e.screenX-$o.screenX,va=e.screenY-$o.screenY):va=ya=0,$o=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:va}}),$u=St(Ri),Em=G({},Ri,{dataTransfer:0}),_m=St(Em),$m=G({},_o,{relatedTarget:0}),xa=St($m),jm=G({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=St(jm),Mm=G({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=St(Mm),Tm=G({},Ar,{data:0}),ju=St(Tm),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function wa(){return zm}var Lm=G({},_o,{key:function(e){if(e.key){var t=Im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nm=St(Lm),Dm=G({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=St(Dm),Om=G({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Vm=St(Om),Bm=G({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=St(Bm),Hm=G({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Um=St(Hm),qm=[9,13,27,32],ba=h&&"CompositionEvent"in window,jo=null;h&&"documentMode"in document&&(jo=document.documentMode);var Ym=h&&"TextEvent"in window&&!jo,Mu=h&&(!ba||jo&&8<jo&&11>=jo),Pu=" ",Tu=!1;function Iu(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Qm(e,t){switch(e){case"compositionend":return Fu(t);case"keypress":return t.which!==32?null:(Tu=!0,Pu);case"textInput":return e=t.data,e===Pu&&Tu?null:e;default:return null}}function Gm(e,t){if(zr)return e==="compositionend"||!ba&&Iu(e,t)?(e=Eu(),_i=ma=In=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mu&&t.locale!=="ko"?null:t.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Km[e.type]:t==="textarea"}function zu(e,t,o,a){er(a),t=Fi(t,"onChange"),0<t.length&&(o=new ga("onChange","change",null,o,a),e.push({event:o,listeners:t}))}var Ro=null,Mo=null;function Xm(e){ed(e,0)}function Mi(e){var t=Vr(e);if(Ot(t))return e}function Jm(e,t){if(e==="change")return t}var Lu=!1;if(h){var ka;if(h){var Sa="oninput"in document;if(!Sa){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),Sa=typeof Nu.oninput=="function"}ka=Sa}else ka=!1;Lu=ka&&(!document.documentMode||9<document.documentMode)}function Du(){Ro&&(Ro.detachEvent("onpropertychange",Ou),Mo=Ro=null)}function Ou(e){if(e.propertyName==="value"&&Mi(Mo)){var t=[];zu(t,Mo,e,go(e)),vo(Xm,t)}}function Zm(e,t,o){e==="focusin"?(Du(),Ro=t,Mo=o,Ro.attachEvent("onpropertychange",Ou)):e==="focusout"&&Du()}function e0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(Mo)}function t0(e,t){if(e==="click")return Mi(t)}function n0(e,t){if(e==="input"||e==="change")return Mi(t)}function r0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:r0;function Po(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var f=o[a];if(!p.call(t,f)||!Qt(e[f],t[f]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bu(e,t){var o=Vu(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=t&&a>=t)return{node:o,offset:t-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vu(o)}}function Wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hu(){for(var e=window,t=pt();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=pt(e.document)}return t}function Ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o0(e){var t=Hu(),o=e.focusedElem,a=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&Wu(o.ownerDocument.documentElement,o)){if(a!==null&&Ca(o)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=o.textContent.length,m=Math.min(a.start,f);a=a.end===void 0?m:Math.min(a.end,f),!e.extend&&m>a&&(f=a,a=m,m=f),f=Bu(o,m);var _=Bu(o,a);f&&_&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),m>a?(e.addRange(t),e.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i0=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,Ea=null,To=null,_a=!1;function Uu(e,t,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_a||Lr==null||Lr!==pt(a)||(a=Lr,"selectionStart"in a&&Ca(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),To&&Po(To,a)||(To=a,a=Fi(Ea,"onSelect"),0<a.length&&(t=new ga("onSelect","select",null,t,o),e.push({event:t,listeners:a}),t.target=Lr)))}function Pi(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Nr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},$a={},qu={};h&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ti(e){if($a[e])return $a[e];if(!Nr[e])return e;var t=Nr[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in qu)return $a[e]=t[o];return e}var Yu=Ti("animationend"),Qu=Ti("animationiteration"),Gu=Ti("animationstart"),Ku=Ti("transitionend"),Xu=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){Xu.set(e,t),c(t,[e])}for(var ja=0;ja<Ju.length;ja++){var Ra=Ju[ja],s0=Ra.toLowerCase(),a0=Ra[0].toUpperCase()+Ra.slice(1);Fn(s0,"on"+a0)}Fn(Yu,"onAnimationEnd"),Fn(Qu,"onAnimationIteration"),Fn(Gu,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Ku,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Zu(e,t,o){var a=e.type||"unknown-event";e.currentTarget=o,su(a,t,void 0,e),e.currentTarget=null}function ed(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],f=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var _=a.length-1;0<=_;_--){var T=a[_],I=T.instance,O=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break e;Zu(f,T,O),m=I}else for(_=0;_<a.length;_++){if(T=a[_],I=T.instance,O=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break e;Zu(f,T,O),m=I}}}if($e)throw e=je,$e=!1,je=null,e}function Ne(e,t){var o=t[La];o===void 0&&(o=t[La]=new Set);var a=e+"__bubble";o.has(a)||(td(t,e,2,!1),o.add(a))}function Ma(e,t,o){var a=0;t&&(a|=4),td(o,e,a,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ii]){e[Ii]=!0,s.forEach(function(o){o!=="selectionchange"&&(l0.has(o)||Ma(o,!1,e),Ma(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Ma("selectionchange",!1,t))}}function td(e,t,o,a){switch(Cu(t)){case 1:var f=km;break;case 4:f=Sm;break;default:f=pa}o=f.bind(null,t,o,e),f=void 0,!gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,o,{capture:!0,passive:f}):e.addEventListener(t,o,!0):f!==void 0?e.addEventListener(t,o,{passive:f}):e.addEventListener(t,o,!1)}function Pa(e,t,o,a,f){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var T=a.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=a.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;_=_.return}for(;T!==null;){if(_=ir(T),_===null)return;if(I=_.tag,I===5||I===6){a=m=_;continue e}T=T.parentNode}}a=a.return}vo(function(){var O=m,Q=go(o),K=[];e:{var q=Xu.get(e);if(q!==void 0){var le=ga,de=e;switch(e){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":le=Nm;break;case"focusin":de="focus",le=xa;break;case"focusout":de="blur",le=xa;break;case"beforeblur":case"afterblur":le=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Vm;break;case Yu:case Qu:case Gu:le=Rm;break;case Ku:le=Wm;break;case"scroll":le=Cm;break;case"wheel":le=Um;break;case"copy":case"cut":case"paste":le=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ru}var pe=(t&4)!==0,Ue=!pe&&e==="scroll",L=pe?q!==null?q+"Capture":null:q;pe=[];for(var A=O,N;A!==null;){N=A;var J=N.stateNode;if(N.tag===5&&J!==null&&(N=J,L!==null&&(J=Tr(A,L),J!=null&&pe.push(Ao(A,J,N)))),Ue)break;A=A.return}0<pe.length&&(q=new le(q,de,null,o,Q),K.push({event:q,listeners:pe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",q&&o!==mo&&(de=o.relatedTarget||o.fromElement)&&(ir(de)||de[fn]))break e;if((le||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,le?(de=o.relatedTarget||o.toElement,le=O,de=de?ir(de):null,de!==null&&(Ue=or(de),de!==Ue||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=O),le!==de)){if(pe=$u,J="onMouseLeave",L="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Ru,J="onPointerLeave",L="onPointerEnter",A="pointer"),Ue=le==null?q:Vr(le),N=de==null?q:Vr(de),q=new pe(J,A+"leave",le,o,Q),q.target=Ue,q.relatedTarget=N,J=null,ir(Q)===O&&(pe=new pe(L,A+"enter",de,o,Q),pe.target=N,pe.relatedTarget=Ue,J=pe),Ue=J,le&&de)t:{for(pe=le,L=de,A=0,N=pe;N;N=Dr(N))A++;for(N=0,J=L;J;J=Dr(J))N++;for(;0<A-N;)pe=Dr(pe),A--;for(;0<N-A;)L=Dr(L),N--;for(;A--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=Dr(pe),L=Dr(L)}pe=null}else pe=null;le!==null&&nd(K,q,le,pe,!1),de!==null&&Ue!==null&&nd(K,Ue,de,pe,!0)}}e:{if(q=O?Vr(O):window,le=q.nodeName&&q.nodeName.toLowerCase(),le==="select"||le==="input"&&q.type==="file")var me=Jm;else if(Au(q))if(Lu)me=n0;else{me=e0;var ve=Zm}else(le=q.nodeName)&&le.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(me=t0);if(me&&(me=me(e,O))){zu(K,me,o,Q);break e}ve&&ve(e,q,O),e==="focusout"&&(ve=q._wrapperState)&&ve.controlled&&q.type==="number"&&Pt(q,"number",q.value)}switch(ve=O?Vr(O):window,e){case"focusin":(Au(ve)||ve.contentEditable==="true")&&(Lr=ve,Ea=O,To=null);break;case"focusout":To=Ea=Lr=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,Uu(K,o,Q);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Uu(K,o,Q)}var xe;if(ba)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else zr?Iu(e,o)&&(be="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(Mu&&o.locale!=="ko"&&(zr||be!=="onCompositionStart"?be==="onCompositionEnd"&&zr&&(xe=Eu()):(In=Q,ma="value"in In?In.value:In.textContent,zr=!0)),ve=Fi(O,be),0<ve.length&&(be=new ju(be,e,null,o,Q),K.push({event:be,listeners:ve}),xe?be.data=xe:(xe=Fu(o),xe!==null&&(be.data=xe)))),(xe=Ym?Qm(e,o):Gm(e,o))&&(O=Fi(O,"onBeforeInput"),0<O.length&&(Q=new ju("onBeforeInput","beforeinput",null,o,Q),K.push({event:Q,listeners:O}),Q.data=xe))}ed(K,t)})}function Ao(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Fi(e,t){for(var o=t+"Capture",a=[];e!==null;){var f=e,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Tr(e,o),m!=null&&a.unshift(Ao(e,m,f)),m=Tr(e,t),m!=null&&a.push(Ao(e,m,f))),e=e.return}return a}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,o,a,f){for(var m=t._reactName,_=[];o!==null&&o!==a;){var T=o,I=T.alternate,O=T.stateNode;if(I!==null&&I===a)break;T.tag===5&&O!==null&&(T=O,f?(I=Tr(o,m),I!=null&&_.unshift(Ao(o,I,T))):f||(I=Tr(o,m),I!=null&&_.push(Ao(o,I,T)))),o=o.return}_.length!==0&&e.push({event:t,listeners:_})}var c0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(u0,"")}function Ai(e,t,o){if(t=rd(t),rd(e)!==t&&o)throw Error(i(425))}function zi(){}var Ta=null,Ia=null;function Fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(p0)}:Aa;function p0(e){setTimeout(function(){throw e})}function za(e,t){var o=t,a=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(a===0){e.removeChild(f),Eo(t);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=f}while(o);Eo(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),rn="__reactFiber$"+Or,zo="__reactProps$"+Or,fn="__reactContainer$"+Or,La="__reactEvents$"+Or,h0="__reactListeners$"+Or,m0="__reactHandles$"+Or;function ir(e){var t=e[rn];if(t)return t;for(var o=e.parentNode;o;){if(t=o[fn]||o[rn]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=id(e);e!==null;){if(o=e[rn])return o;e=id(e)}return t}e=o,o=e.parentNode}return null}function Lo(e){return e=e[rn]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Li(e){return e[zo]||null}var Na=[],Br=-1;function zn(e){return{current:e}}function De(e){0>Br||(e.current=Na[Br],Na[Br]=null,Br--)}function Le(e,t){Br++,Na[Br]=e.current,e.current=t}var Ln={},ot=zn(Ln),ht=zn(!1),sr=Ln;function Wr(e,t){var o=e.type.contextTypes;if(!o)return Ln;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=t[m];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function mt(e){return e=e.childContextTypes,e!=null}function Ni(){De(ht),De(ot)}function sd(e,t,o){if(ot.current!==Ln)throw Error(i(168));Le(ot,t),Le(ht,o)}function ad(e,t,o){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var f in a)if(!(f in t))throw Error(i(108,Se(e)||"Unknown",f));return G({},o,a)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,sr=ot.current,Le(ot,e),Le(ht,ht.current),!0}function ld(e,t,o){var a=e.stateNode;if(!a)throw Error(i(169));o?(e=ad(e,t,sr),a.__reactInternalMemoizedMergedChildContext=e,De(ht),De(ot),Le(ot,e)):De(ht),Le(ht,o)}var pn=null,Oi=!1,Da=!1;function cd(e){pn===null?pn=[e]:pn.push(e)}function g0(e){Oi=!0,cd(e)}function Nn(){if(!Da&&pn!==null){Da=!0;var e=0,t=Ae;try{var o=pn;for(Ae=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}pn=null,Oi=!1}catch(f){throw pn!==null&&(pn=pn.slice(e+1)),du(aa,Nn),f}finally{Ae=t,Da=!1}}return null}var Hr=[],Ur=0,Vi=null,Bi=0,It=[],Ft=0,ar=null,hn=1,mn="";function lr(e,t){Hr[Ur++]=Bi,Hr[Ur++]=Vi,Vi=e,Bi=t}function ud(e,t,o){It[Ft++]=hn,It[Ft++]=mn,It[Ft++]=ar,ar=e;var a=hn;e=mn;var f=32-Yt(a)-1;a&=~(1<<f),o+=1;var m=32-Yt(t)+f;if(30<m){var _=f-f%5;m=(a&(1<<_)-1).toString(32),a>>=_,f-=_,hn=1<<32-Yt(t)+f|o<<f|a,mn=m+e}else hn=1<<m|o<<f|a,mn=e}function Oa(e){e.return!==null&&(lr(e,1),ud(e,1,0))}function Va(e){for(;e===Vi;)Vi=Hr[--Ur],Hr[Ur]=null,Bi=Hr[--Ur],Hr[Ur]=null;for(;e===ar;)ar=It[--Ft],It[Ft]=null,mn=It[--Ft],It[Ft]=null,hn=It[--Ft],It[Ft]=null}var Ct=null,Et=null,Oe=!1,Gt=null;function dd(e,t){var o=Nt(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function fd(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Et=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=ar!==null?{id:hn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Nt(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,Ct=e,Et=null,!0):!1;default:return!1}}function Ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wa(e){if(Oe){var t=Et;if(t){var o=t;if(!fd(e,t)){if(Ba(e))throw Error(i(418));t=An(o.nextSibling);var a=Ct;t&&fd(e,t)?dd(a,o):(e.flags=e.flags&-4097|2,Oe=!1,Ct=e)}}else{if(Ba(e))throw Error(i(418));e.flags=e.flags&-4097|2,Oe=!1,Ct=e}}}function pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Wi(e){if(e!==Ct)return!1;if(!Oe)return pd(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fa(e.type,e.memoizedProps)),t&&(t=Et)){if(Ba(e))throw hd(),Error(i(418));for(;t;)dd(e,t),t=An(t.nextSibling)}if(pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Et=An(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Ct?An(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=Et;e;)e=An(e.nextSibling)}function qr(){Et=Ct=null,Oe=!1}function Ha(e){Gt===null?Gt=[e]:Gt.push(e)}var y0=$.ReactCurrentBatchConfig;function No(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var a=o.stateNode}if(!a)throw Error(i(147,e));var f=a,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(_){var T=f.refs;_===null?delete T[m]:T[m]=_},t._stringRef=m,t)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function gd(e){function t(L,A){if(e){var N=L.deletions;N===null?(L.deletions=[A],L.flags|=16):N.push(A)}}function o(L,A){if(!e)return null;for(;A!==null;)t(L,A),A=A.sibling;return null}function a(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function f(L,A){return L=qn(L,A),L.index=0,L.sibling=null,L}function m(L,A,N){return L.index=N,e?(N=L.alternate,N!==null?(N=N.index,N<A?(L.flags|=2,A):N):(L.flags|=2,A)):(L.flags|=1048576,A)}function _(L){return e&&L.alternate===null&&(L.flags|=2),L}function T(L,A,N,J){return A===null||A.tag!==6?(A=Al(N,L.mode,J),A.return=L,A):(A=f(A,N),A.return=L,A)}function I(L,A,N,J){var me=N.type;return me===z?Q(L,A,N.props.children,J,N.key):A!==null&&(A.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ae&&md(me)===A.type)?(J=f(A,N.props),J.ref=No(L,A,N),J.return=L,J):(J=hs(N.type,N.key,N.props,null,L.mode,J),J.ref=No(L,A,N),J.return=L,J)}function O(L,A,N,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=zl(N,L.mode,J),A.return=L,A):(A=f(A,N.children||[]),A.return=L,A)}function Q(L,A,N,J,me){return A===null||A.tag!==7?(A=gr(N,L.mode,J,me),A.return=L,A):(A=f(A,N),A.return=L,A)}function K(L,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Al(""+A,L.mode,N),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case P:return N=hs(A.type,A.key,A.props,null,L.mode,N),N.ref=No(L,null,A),N.return=L,N;case M:return A=zl(A,L.mode,N),A.return=L,A;case ae:var J=A._init;return K(L,J(A._payload),N)}if(Bt(A)||ie(A))return A=gr(A,L.mode,N,null),A.return=L,A;Hi(L,A)}return null}function q(L,A,N,J){var me=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return me!==null?null:T(L,A,""+N,J);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return N.key===me?I(L,A,N,J):null;case M:return N.key===me?O(L,A,N,J):null;case ae:return me=N._init,q(L,A,me(N._payload),J)}if(Bt(N)||ie(N))return me!==null?null:Q(L,A,N,J,null);Hi(L,N)}return null}function le(L,A,N,J,me){if(typeof J=="string"&&J!==""||typeof J=="number")return L=L.get(N)||null,T(A,L,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return L=L.get(J.key===null?N:J.key)||null,I(A,L,J,me);case M:return L=L.get(J.key===null?N:J.key)||null,O(A,L,J,me);case ae:var ve=J._init;return le(L,A,N,ve(J._payload),me)}if(Bt(J)||ie(J))return L=L.get(N)||null,Q(A,L,J,me,null);Hi(A,J)}return null}function de(L,A,N,J){for(var me=null,ve=null,xe=A,be=A=0,Xe=null;xe!==null&&be<N.length;be++){xe.index>be?(Xe=xe,xe=null):Xe=xe.sibling;var Pe=q(L,xe,N[be],J);if(Pe===null){xe===null&&(xe=Xe);break}e&&xe&&Pe.alternate===null&&t(L,xe),A=m(Pe,A,be),ve===null?me=Pe:ve.sibling=Pe,ve=Pe,xe=Xe}if(be===N.length)return o(L,xe),Oe&&lr(L,be),me;if(xe===null){for(;be<N.length;be++)xe=K(L,N[be],J),xe!==null&&(A=m(xe,A,be),ve===null?me=xe:ve.sibling=xe,ve=xe);return Oe&&lr(L,be),me}for(xe=a(L,xe);be<N.length;be++)Xe=le(xe,L,be,N[be],J),Xe!==null&&(e&&Xe.alternate!==null&&xe.delete(Xe.key===null?be:Xe.key),A=m(Xe,A,be),ve===null?me=Xe:ve.sibling=Xe,ve=Xe);return e&&xe.forEach(function(Yn){return t(L,Yn)}),Oe&&lr(L,be),me}function pe(L,A,N,J){var me=ie(N);if(typeof me!="function")throw Error(i(150));if(N=me.call(N),N==null)throw Error(i(151));for(var ve=me=null,xe=A,be=A=0,Xe=null,Pe=N.next();xe!==null&&!Pe.done;be++,Pe=N.next()){xe.index>be?(Xe=xe,xe=null):Xe=xe.sibling;var Yn=q(L,xe,Pe.value,J);if(Yn===null){xe===null&&(xe=Xe);break}e&&xe&&Yn.alternate===null&&t(L,xe),A=m(Yn,A,be),ve===null?me=Yn:ve.sibling=Yn,ve=Yn,xe=Xe}if(Pe.done)return o(L,xe),Oe&&lr(L,be),me;if(xe===null){for(;!Pe.done;be++,Pe=N.next())Pe=K(L,Pe.value,J),Pe!==null&&(A=m(Pe,A,be),ve===null?me=Pe:ve.sibling=Pe,ve=Pe);return Oe&&lr(L,be),me}for(xe=a(L,xe);!Pe.done;be++,Pe=N.next())Pe=le(xe,L,be,Pe.value,J),Pe!==null&&(e&&Pe.alternate!==null&&xe.delete(Pe.key===null?be:Pe.key),A=m(Pe,A,be),ve===null?me=Pe:ve.sibling=Pe,ve=Pe);return e&&xe.forEach(function(K0){return t(L,K0)}),Oe&&lr(L,be),me}function Ue(L,A,N,J){if(typeof N=="object"&&N!==null&&N.type===z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case P:e:{for(var me=N.key,ve=A;ve!==null;){if(ve.key===me){if(me=N.type,me===z){if(ve.tag===7){o(L,ve.sibling),A=f(ve,N.props.children),A.return=L,L=A;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ae&&md(me)===ve.type){o(L,ve.sibling),A=f(ve,N.props),A.ref=No(L,ve,N),A.return=L,L=A;break e}o(L,ve);break}else t(L,ve);ve=ve.sibling}N.type===z?(A=gr(N.props.children,L.mode,J,N.key),A.return=L,L=A):(J=hs(N.type,N.key,N.props,null,L.mode,J),J.ref=No(L,A,N),J.return=L,L=J)}return _(L);case M:e:{for(ve=N.key;A!==null;){if(A.key===ve)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){o(L,A.sibling),A=f(A,N.children||[]),A.return=L,L=A;break e}else{o(L,A);break}else t(L,A);A=A.sibling}A=zl(N,L.mode,J),A.return=L,L=A}return _(L);case ae:return ve=N._init,Ue(L,A,ve(N._payload),J)}if(Bt(N))return de(L,A,N,J);if(ie(N))return pe(L,A,N,J);Hi(L,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,A!==null&&A.tag===6?(o(L,A.sibling),A=f(A,N),A.return=L,L=A):(o(L,A),A=Al(N,L.mode,J),A.return=L,L=A),_(L)):o(L,A)}return Ue}var Yr=gd(!0),yd=gd(!1),Ui=zn(null),qi=null,Qr=null,Ua=null;function qa(){Ua=Qr=qi=null}function Ya(e){var t=Ui.current;De(Ui),e._currentValue=t}function Qa(e,t,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===o)break;e=e.return}}function Gr(e,t){qi=e,Ua=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ua!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(qi===null)throw Error(i(308));Qr=e,qi.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var cr=null;function Ga(e){cr===null?cr=[e]:cr.push(e)}function vd(e,t,o,a){var f=t.interleaved;return f===null?(o.next=o,Ga(t)):(o.next=f.next,f.next=o),t.interleaved=o,gn(e,a)}function gn(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Dn=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,gn(e,o)}return f=a.interleaved,f===null?(t.next=t,Ga(a)):(t.next=f.next,f.next=t),a.interleaved=t,gn(e,o)}function Yi(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,ua(e,o)}}function wd(e,t){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=t:m=m.next=t}else f=m=t;o={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function Qi(e,t,o,a){var f=e.updateQueue;Dn=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,O=I.next;I.next=null,_===null?m=O:_.next=O,_=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=O:T.next=O,Q.lastBaseUpdate=I))}if(m!==null){var K=f.baseState;_=0,Q=O=I=null,T=m;do{var q=T.lane,le=T.eventTime;if((a&q)===q){Q!==null&&(Q=Q.next={eventTime:le,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var de=e,pe=T;switch(q=t,le=o,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){K=de.call(le,K,q);break e}K=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,q=typeof de=="function"?de.call(le,K,q):de,q==null)break e;K=G({},K,q);break e;case 2:Dn=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,q=f.effects,q===null?f.effects=[T]:q.push(T))}else le={eventTime:le,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(O=Q=le,I=K):Q=Q.next=le,_|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);if(Q===null&&(I=K),f.baseState=I,f.firstBaseUpdate=O,f.lastBaseUpdate=Q,t=f.shared.interleaved,t!==null){f=t;do _|=f.lane,f=f.next;while(f!==t)}else m===null&&(f.shared.lanes=0);fr|=_,e.lanes=_,e.memoizedState=K}}function bd(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],f=a.callback;if(f!==null){if(a.callback=null,a=o,typeof f!="function")throw Error(i(191,f));f.call(a)}}}var Do={},on=zn(Do),Oo=zn(Do),Vo=zn(Do);function ur(e){if(e===Do)throw Error(i(174));return e}function Xa(e,t){switch(Le(Vo,t),Le(Oo,e),Le(on,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ht(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ht(t,e)}De(on),Le(on,t)}function Kr(){De(on),De(Oo),De(Vo)}function kd(e){ur(Vo.current);var t=ur(on.current),o=Ht(t,e.type);t!==o&&(Le(Oo,e),Le(on,o))}function Ja(e){Oo.current===e&&(De(on),De(Oo))}var Ve=zn(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=[];function el(){for(var e=0;e<Za.length;e++)Za[e]._workInProgressVersionPrimary=null;Za.length=0}var Ki=$.ReactCurrentDispatcher,tl=$.ReactCurrentBatchConfig,dr=0,Be=null,Ye=null,Ge=null,Xi=!1,Bo=!1,Wo=0,v0=0;function it(){throw Error(i(321))}function nl(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!Qt(e[o],t[o]))return!1;return!0}function rl(e,t,o,a,f,m){if(dr=m,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=e===null||e.memoizedState===null?k0:S0,e=o(a,f),Bo){m=0;do{if(Bo=!1,Wo=0,25<=m)throw Error(i(301));m+=1,Ge=Ye=null,t.updateQueue=null,Ki.current=C0,e=o(a,f)}while(Bo)}if(Ki.current=es,t=Ye!==null&&Ye.next!==null,dr=0,Ge=Ye=Be=null,Xi=!1,t)throw Error(i(300));return e}function ol(){var e=Wo!==0;return Wo=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Be.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function zt(){if(Ye===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Ge===null?Be.memoizedState:Ge.next;if(t!==null)Ge=t,Ye=e;else{if(e===null)throw Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Ge===null?Be.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Ho(e,t){return typeof t=="function"?t(e):t}function il(e){var t=zt(),o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=Ye,f=a.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}a.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,a=a.baseState;var T=_=null,I=null,O=m;do{var Q=O.lane;if((dr&Q)===Q)I!==null&&(I=I.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),a=O.hasEagerState?O.eagerState:e(a,O.action);else{var K={lane:Q,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};I===null?(T=I=K,_=a):I=I.next=K,Be.lanes|=Q,fr|=Q}O=O.next}while(O!==null&&O!==m);I===null?_=a:I.next=T,Qt(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseState=_,t.baseQueue=I,o.lastRenderedState=a}if(e=o.interleaved,e!==null){f=e;do m=f.lane,Be.lanes|=m,fr|=m,f=f.next;while(f!==e)}else f===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function sl(e){var t=zt(),o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=o.dispatch,f=o.pending,m=t.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=e(m,_.action),_=_.next;while(_!==f);Qt(m,t.memoizedState)||(gt=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),o.lastRenderedState=m}return[m,a]}function Sd(){}function Cd(e,t){var o=Be,a=zt(),f=t(),m=!Qt(a.memoizedState,f);if(m&&(a.memoizedState=f,gt=!0),a=a.queue,al($d.bind(null,o,a,e),[e]),a.getSnapshot!==t||m||Ge!==null&&Ge.memoizedState.tag&1){if(o.flags|=2048,Uo(9,_d.bind(null,o,a,f,t),void 0,null),Ke===null)throw Error(i(349));(dr&30)!==0||Ed(o,t,f)}return f}function Ed(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function _d(e,t,o,a){t.value=o,t.getSnapshot=a,jd(t)&&Rd(e)}function $d(e,t,o){return o(function(){jd(t)&&Rd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!Qt(e,o)}catch{return!0}}function Rd(e){var t=gn(e,1);t!==null&&Zt(t,e,1,-1)}function Md(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=b0.bind(null,Be,e),[t.memoizedState,e]}function Uo(e,t,o,a){return e={tag:e,create:t,destroy:o,deps:a,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,t.lastEffect=e)),e}function Pd(){return zt().memoizedState}function Ji(e,t,o,a){var f=sn();Be.flags|=e,f.memoizedState=Uo(1|t,o,void 0,a===void 0?null:a)}function Zi(e,t,o,a){var f=zt();a=a===void 0?null:a;var m=void 0;if(Ye!==null){var _=Ye.memoizedState;if(m=_.destroy,a!==null&&nl(a,_.deps)){f.memoizedState=Uo(t,o,m,a);return}}Be.flags|=e,f.memoizedState=Uo(1|t,o,m,a)}function Td(e,t){return Ji(8390656,8,e,t)}function al(e,t){return Zi(2048,8,e,t)}function Id(e,t){return Zi(4,2,e,t)}function Fd(e,t){return Zi(4,4,e,t)}function Ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zd(e,t,o){return o=o!=null?o.concat([e]):null,Zi(4,4,Ad.bind(null,t,e),o)}function ll(){}function Ld(e,t){var o=zt();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&nl(t,a[1])?a[0]:(o.memoizedState=[e,t],e)}function Nd(e,t){var o=zt();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&nl(t,a[1])?a[0]:(e=e(),o.memoizedState=[e,t],e)}function Dd(e,t,o){return(dr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=o):(Qt(o,t)||(o=mu(),Be.lanes|=o,fr|=o,e.baseState=!0),t)}function x0(e,t){var o=Ae;Ae=o!==0&&4>o?o:4,e(!0);var a=tl.transition;tl.transition={};try{e(!1),t()}finally{Ae=o,tl.transition=a}}function Od(){return zt().memoizedState}function w0(e,t,o){var a=Hn(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Vd(e))Bd(t,o);else if(o=vd(e,t,o,a),o!==null){var f=ft();Zt(o,e,a,f),Wd(o,t,a)}}function b0(e,t,o){var a=Hn(e),f={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vd(e))Bd(t,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var _=t.lastRenderedState,T=m(_,o);if(f.hasEagerState=!0,f.eagerState=T,Qt(T,_)){var I=t.interleaved;I===null?(f.next=f,Ga(t)):(f.next=I.next,I.next=f),t.interleaved=f;return}}catch{}finally{}o=vd(e,t,f,a),o!==null&&(f=ft(),Zt(o,e,a,f),Wd(o,t,a))}}function Vd(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Bd(e,t){Bo=Xi=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Wd(e,t,o){if((o&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,ua(e,o)}}var es={readContext:At,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},k0={readContext:At,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Td,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,Ji(4194308,4,Ad.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var o=sn();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var a=sn();return t=o!==void 0?o(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=w0.bind(null,Be,e),[a.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:ll,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=x0.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var a=Be,f=sn();if(Oe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=t(),Ke===null)throw Error(i(349));(dr&30)!==0||Ed(a,t,o)}f.memoizedState=o;var m={value:o,getSnapshot:t};return f.queue=m,Td($d.bind(null,a,m,e),[e]),a.flags|=2048,Uo(9,_d.bind(null,a,m,o,t),void 0,null),o},useId:function(){var e=sn(),t=Ke.identifierPrefix;if(Oe){var o=mn,a=hn;o=(a&~(1<<32-Yt(a)-1)).toString(32)+o,t=":"+t+"R"+o,o=Wo++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=v0++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S0={readContext:At,useCallback:Ld,useContext:At,useEffect:al,useImperativeHandle:zd,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:Nd,useReducer:il,useRef:Pd,useState:function(){return il(Ho)},useDebugValue:ll,useDeferredValue:function(e){var t=zt();return Dd(t,Ye.memoizedState,e)},useTransition:function(){var e=il(Ho)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:Od,unstable_isNewReconciler:!1},C0={readContext:At,useCallback:Ld,useContext:At,useEffect:al,useImperativeHandle:zd,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:Nd,useReducer:sl,useRef:Pd,useState:function(){return sl(Ho)},useDebugValue:ll,useDeferredValue:function(e){var t=zt();return Ye===null?t.memoizedState=e:Dd(t,Ye.memoizedState,e)},useTransition:function(){var e=sl(Ho)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:Od,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function cl(e,t,o,a){t=e.memoizedState,o=o(a,t),o=o==null?t:G({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ts={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var a=ft(),f=Hn(e),m=yn(a,f);m.payload=t,o!=null&&(m.callback=o),t=On(e,m,f),t!==null&&(Zt(t,e,f,a),Yi(t,e,f))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var a=ft(),f=Hn(e),m=yn(a,f);m.tag=1,m.payload=t,o!=null&&(m.callback=o),t=On(e,m,f),t!==null&&(Zt(t,e,f,a),Yi(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=ft(),a=Hn(e),f=yn(o,a);f.tag=2,t!=null&&(f.callback=t),t=On(e,f,a),t!==null&&(Zt(t,e,a,o),Yi(t,e,a))}};function Hd(e,t,o,a,f,m,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,_):t.prototype&&t.prototype.isPureReactComponent?!Po(o,a)||!Po(f,m):!0}function Ud(e,t,o){var a=!1,f=Ln,m=t.contextType;return typeof m=="object"&&m!==null?m=At(m):(f=mt(t)?sr:ot.current,a=t.contextTypes,m=(a=a!=null)?Wr(e,f):Ln),t=new t(o,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=m),t}function qd(e,t,o,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,a),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function ul(e,t,o,a){var f=e.stateNode;f.props=o,f.state=e.memoizedState,f.refs={},Ka(e);var m=t.contextType;typeof m=="object"&&m!==null?f.context=At(m):(m=mt(t)?sr:ot.current,f.context=Wr(e,m)),f.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(cl(e,t,m,o),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&ts.enqueueReplaceState(f,f.state,null),Qi(e,o,f,a),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var o="",a=t;do o+=fe(a),a=a.return;while(a);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:f,digest:null}}function dl(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function Yd(e,t,o){o=yn(-1,o),o.tag=3,o.payload={element:null};var a=t.value;return o.callback=function(){ls||(ls=!0,$l=a),fl(e,t)},o}function Qd(e,t,o){o=yn(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var f=t.value;o.payload=function(){return a(f)},o.callback=function(){fl(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){fl(e,t),typeof a!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),o}function Gd(e,t,o){var a=e.pingCache;if(a===null){a=e.pingCache=new E0;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(o)||(f.add(o),e=D0.bind(null,e,t,o),t.then(e,e))}function Kd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xd(e,t,o,a,f){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=yn(-1,1),t.tag=2,On(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var _0=$.ReactCurrentOwner,gt=!1;function dt(e,t,o,a){t.child=e===null?yd(t,null,o,a):Yr(t,e.child,o,a)}function Jd(e,t,o,a,f){o=o.render;var m=t.ref;return Gr(t,f),a=rl(e,t,o,a,m,f),o=ol(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,vn(e,t,f)):(Oe&&o&&Oa(t),t.flags|=1,dt(e,t,a,f),t.child)}function Zd(e,t,o,a,f){if(e===null){var m=o.type;return typeof m=="function"&&!Fl(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=m,ef(e,t,m,a,f)):(e=hs(o.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,(e.lanes&f)===0){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Po,o(_,a)&&e.ref===t.ref)return vn(e,t,f)}return t.flags|=1,e=qn(m,a),e.ref=t.ref,e.return=t,t.child=e}function ef(e,t,o,a,f){if(e!==null){var m=e.memoizedProps;if(Po(m,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=m,(e.lanes&f)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,vn(e,t,f)}return pl(e,t,o,a,f)}function tf(e,t,o){var a=t.pendingProps,f=a.children,m=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zr,_t),_t|=o;else{if((o&1073741824)===0)return e=m!==null?m.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Zr,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=m!==null?m.baseLanes:o,Le(Zr,_t),_t|=a}else m!==null?(a=m.baseLanes|o,t.memoizedState=null):a=o,Le(Zr,_t),_t|=a;return dt(e,t,f,o),t.child}function nf(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function pl(e,t,o,a,f){var m=mt(o)?sr:ot.current;return m=Wr(t,m),Gr(t,f),o=rl(e,t,o,a,m,f),a=ol(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,vn(e,t,f)):(Oe&&a&&Oa(t),t.flags|=1,dt(e,t,o,f),t.child)}function rf(e,t,o,a,f){if(mt(o)){var m=!0;Di(t)}else m=!1;if(Gr(t,f),t.stateNode===null)rs(e,t),Ud(t,o,a),ul(t,o,a,f),a=!0;else if(e===null){var _=t.stateNode,T=t.memoizedProps;_.props=T;var I=_.context,O=o.contextType;typeof O=="object"&&O!==null?O=At(O):(O=mt(o)?sr:ot.current,O=Wr(t,O));var Q=o.getDerivedStateFromProps,K=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==a||I!==O)&&qd(t,_,a,O),Dn=!1;var q=t.memoizedState;_.state=q,Qi(t,a,_,f),I=t.memoizedState,T!==a||q!==I||ht.current||Dn?(typeof Q=="function"&&(cl(t,o,Q,a),I=t.memoizedState),(T=Dn||Hd(t,o,T,a,q,I,O))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),_.props=a,_.state=I,_.context=O,a=T):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{_=t.stateNode,xd(e,t),T=t.memoizedProps,O=t.type===t.elementType?T:Kt(t.type,T),_.props=O,K=t.pendingProps,q=_.context,I=o.contextType,typeof I=="object"&&I!==null?I=At(I):(I=mt(o)?sr:ot.current,I=Wr(t,I));var le=o.getDerivedStateFromProps;(Q=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==K||q!==I)&&qd(t,_,a,I),Dn=!1,q=t.memoizedState,_.state=q,Qi(t,a,_,f);var de=t.memoizedState;T!==K||q!==de||ht.current||Dn?(typeof le=="function"&&(cl(t,o,le,a),de=t.memoizedState),(O=Dn||Hd(t,o,O,a,q,de,I)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(a,de,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(a,de,I)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=de),_.props=a,_.state=de,_.context=I,a=O):(typeof _.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return hl(e,t,o,a,m,f)}function hl(e,t,o,a,f,m){nf(e,t);var _=(t.flags&128)!==0;if(!a&&!_)return f&&ld(t,o,!1),vn(e,t,m);a=t.stateNode,_0.current=t;var T=_&&typeof o.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&_?(t.child=Yr(t,e.child,null,m),t.child=Yr(t,null,T,m)):dt(e,t,T,m),t.memoizedState=a.state,f&&ld(t,o,!0),t.child}function of(e){var t=e.stateNode;t.pendingContext?sd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sd(e,t.context,!1),Xa(e,t.containerInfo)}function sf(e,t,o,a,f){return qr(),Ha(f),t.flags|=256,dt(e,t,o,a),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function af(e,t,o){var a=t.pendingProps,f=Ve.current,m=!1,_=(t.flags&128)!==0,T;if((T=_)||(T=e!==null&&e.memoizedState===null?!1:(f&2)!==0),T?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Le(Ve,f&1),e===null)return Wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(_=a.children,e=a.fallback,m?(a=t.mode,m=t.child,_={mode:"hidden",children:_},(a&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=ms(_,a,0,null),e=gr(e,a,o,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=gl(o),t.memoizedState=ml,e):yl(t,_));if(f=e.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return $0(e,t,_,a,T,f,o);if(m){m=a.fallback,_=t.mode,f=e.child,T=f.sibling;var I={mode:"hidden",children:a.children};return(_&1)===0&&t.child!==f?(a=t.child,a.childLanes=0,a.pendingProps=I,t.deletions=null):(a=qn(f,I),a.subtreeFlags=f.subtreeFlags&14680064),T!==null?m=qn(T,m):(m=gr(m,_,o,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,a=m,m=t.child,_=e.child.memoizedState,_=_===null?gl(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=e.childLanes&~o,t.memoizedState=ml,a}return m=e.child,e=m.sibling,a=qn(m,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=o),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a}function yl(e,t){return t=ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ns(e,t,o,a){return a!==null&&Ha(a),Yr(t,e.child,null,o),e=yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $0(e,t,o,a,f,m,_){if(o)return t.flags&256?(t.flags&=-257,a=dl(Error(i(422))),ns(e,t,_,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=a.fallback,f=t.mode,a=ms({mode:"visible",children:a.children},f,0,null),m=gr(m,f,_,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,(t.mode&1)!==0&&Yr(t,e.child,null,_),t.child.memoizedState=gl(_),t.memoizedState=ml,m);if((t.mode&1)===0)return ns(e,t,_,null);if(f.data==="$!"){if(a=f.nextSibling&&f.nextSibling.dataset,a)var T=a.dgst;return a=T,m=Error(i(419)),a=dl(m,a,void 0),ns(e,t,_,a)}if(T=(_&e.childLanes)!==0,gt||T){if(a=Ke,a!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(a.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,gn(e,f),Zt(a,e,f,-1))}return Il(),a=dl(Error(i(421))),ns(e,t,_,a)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=O0.bind(null,e),f._reactRetry=t,null):(e=m.treeContext,Et=An(f.nextSibling),Ct=t,Oe=!0,Gt=null,e!==null&&(It[Ft++]=hn,It[Ft++]=mn,It[Ft++]=ar,hn=e.id,mn=e.overflow,ar=t),t=yl(t,a.children),t.flags|=4096,t)}function lf(e,t,o){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Qa(e.return,t,o)}function vl(e,t,o,a,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=o,m.tailMode=f)}function cf(e,t,o){var a=t.pendingProps,f=a.revealOrder,m=a.tail;if(dt(e,t,a.children,o),a=Ve.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,o,t);else if(e.tag===19)lf(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(Ve,a),(t.mode&1)===0)t.memoizedState=null;else switch(f){case"forwards":for(o=t.child,f=null;o!==null;)e=o.alternate,e!==null&&Gi(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=t.child,t.child=null):(f=o.sibling,o.sibling=null),vl(t,!1,f,o,m);break;case"backwards":for(o=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Gi(e)===null){t.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}vl(t,!0,o,null,m);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,o=qn(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=qn(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function j0(e,t,o){switch(t.tag){case 3:of(t),qr();break;case 5:kd(t);break;case 1:mt(t.type)&&Di(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,f=t.memoizedProps.value;Le(Ui,a._currentValue),a._currentValue=f;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(Ve,Ve.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?af(e,t,o):(Le(Ve,Ve.current&1),e=vn(e,t,o),e!==null?e.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(a=(o&t.childLanes)!==0,(e.flags&128)!==0){if(a)return cf(e,t,o);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Le(Ve,Ve.current),a)break;return null;case 22:case 23:return t.lanes=0,tf(e,t,o)}return vn(e,t,o)}var uf,xl,df,ff;uf=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},xl=function(){},df=function(e,t,o,a){var f=e.memoizedProps;if(f!==a){e=t.stateNode,ur(on.current);var m=null;switch(o){case"input":f=Ie(e,f),a=Ie(e,a),m=[];break;case"select":f=G({},f,{value:void 0}),a=G({},a,{value:void 0}),m=[];break;case"textarea":f=rt(e,f),a=rt(e,a),m=[];break;default:typeof f.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=zi)}Pr(o,a);var _;o=null;for(O in f)if(!a.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var T=f[O];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in a){var I=a[O];if(T=f?.[O],a.hasOwnProperty(O)&&I!==T&&(I!=null||T!=null))if(O==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||I&&I.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in I)I.hasOwnProperty(_)&&T[_]!==I[_]&&(o||(o={}),o[_]=I[_])}else o||(m||(m=[]),m.push(O,o)),o=I;else O==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(m=m||[]).push(O,I)):O==="children"?typeof I!="string"&&typeof I!="number"||(m=m||[]).push(O,""+I):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(I!=null&&O==="onScroll"&&Ne("scroll",e),m||T===I||(m=[])):(m=m||[]).push(O,I))}o&&(m=m||[]).push("style",o);var O=m;(t.updateQueue=O)&&(t.flags|=4)}},ff=function(e,t,o,a){o!==a&&(t.flags|=4)};function qo(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(t)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,a|=f.subtreeFlags&14680064,a|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=o,t}function R0(e,t,o){var a=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return mt(t.type)&&Ni(),st(t),null;case 3:return a=t.stateNode,Kr(),De(ht),De(ot),el(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gt!==null&&(Ml(Gt),Gt=null))),xl(e,t),st(t),null;case 5:Ja(t);var f=ur(Vo.current);if(o=t.type,e!==null&&t.stateNode!=null)df(e,t,o,a,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(i(166));return st(t),null}if(e=ur(on.current),Wi(t)){a=t.stateNode,o=t.type;var m=t.memoizedProps;switch(a[rn]=t,a[zo]=m,e=(t.mode&1)!==0,o){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(f=0;f<Io.length;f++)Ne(Io[f],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":ge(a,m),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},Ne("invalid",a);break;case"textarea":Zn(a,m),Ne("invalid",a)}Pr(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var T=m[_];_==="children"?typeof T=="string"?a.textContent!==T&&(m.suppressHydrationWarning!==!0&&Ai(a.textContent,T,e),f=["children",T]):typeof T=="number"&&a.textContent!==""+T&&(m.suppressHydrationWarning!==!0&&Ai(a.textContent,T,e),f=["children",""+T]):l.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Ne("scroll",a)}switch(o){case"input":ut(a),Mt(a,m,!0);break;case"textarea":ut(a),dn(a);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(a.onclick=zi)}a=f,t.updateQueue=a,a!==null&&(t.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sn(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=_.createElement(o,{is:a.is}):(e=_.createElement(o),o==="select"&&(_=e,a.multiple?_.multiple=!0:a.size&&(_.size=a.size))):e=_.createElementNS(e,o),e[rn]=t,e[zo]=a,uf(e,t,!1,!1),t.stateNode=e;e:{switch(_=ho(o,a),o){case"dialog":Ne("cancel",e),Ne("close",e),f=a;break;case"iframe":case"object":case"embed":Ne("load",e),f=a;break;case"video":case"audio":for(f=0;f<Io.length;f++)Ne(Io[f],e);f=a;break;case"source":Ne("error",e),f=a;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),f=a;break;case"details":Ne("toggle",e),f=a;break;case"input":ge(e,a),f=Ie(e,a),Ne("invalid",e);break;case"option":f=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},f=G({},a,{value:void 0}),Ne("invalid",e);break;case"textarea":Zn(e,a),f=rt(e,a),Ne("invalid",e);break;default:f=a}Pr(o,f),T=f;for(m in T)if(T.hasOwnProperty(m)){var I=T[m];m==="style"?di(e,I):m==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&qt(e,I)):m==="children"?typeof I=="string"?(o!=="textarea"||I!=="")&&Tt(e,I):typeof I=="number"&&Tt(e,""+I):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(l.hasOwnProperty(m)?I!=null&&m==="onScroll"&&Ne("scroll",e):I!=null&&j(e,m,I,_))}switch(o){case"input":ut(e),Mt(e,a,!1);break;case"textarea":ut(e),dn(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ke(a.value));break;case"select":e.multiple=!!a.multiple,m=a.value,m!=null?Ze(e,!!a.multiple,m,!1):a.defaultValue!=null&&Ze(e,!!a.multiple,a.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=zi)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)ff(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(i(166));if(o=ur(Vo.current),ur(on.current),Wi(t)){if(a=t.stateNode,o=t.memoizedProps,a[rn]=t,(m=a.nodeValue!==o)&&(e=Ct,e!==null))switch(e.tag){case 3:Ai(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ai(a.nodeValue,o,(e.mode&1)!==0)}m&&(t.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[rn]=t,t.stateNode=a}return st(t),null;case 13:if(De(Ve),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Et!==null&&(t.mode&1)!==0&&(t.flags&128)===0)hd(),qr(),t.flags|=98560,m=!1;else if(m=Wi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!m)throw Error(i(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[rn]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),m=!1}else Gt!==null&&(Ml(Gt),Gt=null),m=!0;if(!m)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ve.current&1)!==0?Qe===0&&(Qe=3):Il())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Kr(),xl(e,t),e===null&&Fo(t.stateNode.containerInfo),st(t),null;case 10:return Ya(t.type._context),st(t),null;case 17:return mt(t.type)&&Ni(),st(t),null;case 19:if(De(Ve),m=t.memoizedState,m===null)return st(t),null;if(a=(t.flags&128)!==0,_=m.rendering,_===null)if(a)qo(m,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=Gi(e),_!==null){for(t.flags|=128,qo(m,!1),a=_.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=o,o=t.child;o!==null;)m=o,e=a,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,e=_.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Le(Ve,Ve.current&1|2),t.child}e=e.sibling}m.tail!==null&&He()>eo&&(t.flags|=128,a=!0,qo(m,!1),t.lanes=4194304)}else{if(!a)if(e=Gi(_),e!==null){if(t.flags|=128,a=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),qo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Oe)return st(t),null}else 2*He()-m.renderingStartTime>eo&&o!==1073741824&&(t.flags|=128,a=!0,qo(m,!1),t.lanes=4194304);m.isBackwards?(_.sibling=t.child,t.child=_):(o=m.last,o!==null?o.sibling=_:t.child=_,m.last=_)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=He(),t.sibling=null,o=Ve.current,Le(Ve,a?o&1|2:o&1),t):(st(t),null);case 22:case 23:return Tl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(_t&1073741824)!==0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function M0(e,t){switch(Va(t),t.tag){case 1:return mt(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),De(ht),De(ot),el(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ja(t),null;case 13:if(De(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ve),null;case 4:return Kr(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var os=!1,at=!1,P0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Jr(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){We(e,t,a)}else o.current=null}function wl(e,t,o){try{o()}catch(a){We(e,t,a)}}var pf=!1;function T0(e,t){if(Ta=Ci,e=Hu(),Ca(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var f=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,T=-1,I=-1,O=0,Q=0,K=e,q=null;t:for(;;){for(var le;K!==o||f!==0&&K.nodeType!==3||(T=_+f),K!==m||a!==0&&K.nodeType!==3||(I=_+a),K.nodeType===3&&(_+=K.nodeValue.length),(le=K.firstChild)!==null;)q=K,K=le;for(;;){if(K===e)break t;if(q===o&&++O===f&&(T=_),q===m&&++Q===a&&(I=_),(le=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=le}o=T===-1||I===-1?null:{start:T,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ia={focusedElem:e,selectionRange:o},Ci=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var de=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,Ue=de.memoizedState,L=t.stateNode,A=L.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Kt(t.type,pe),Ue);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(J){We(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return de=pf,pf=!1,de}function Yo(e,t,o){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&e)===e){var m=f.destroy;f.destroy=void 0,m!==void 0&&wl(t,o,m)}f=f.next}while(f!==a)}}function is(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==t)}}function bl(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function hf(e){var t=e.alternate;t!==null&&(e.alternate=null,hf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[zo],delete t[La],delete t[h0],delete t[m0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mf(e){return e.tag===5||e.tag===3||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kl(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=zi));else if(a!==4&&(e=e.child,e!==null))for(kl(e,t,o),e=e.sibling;e!==null;)kl(e,t,o),e=e.sibling}function Sl(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Sl(e,t,o),e=e.sibling;e!==null;)Sl(e,t,o),e=e.sibling}var et=null,Xt=!1;function Vn(e,t,o){for(o=o.child;o!==null;)yf(e,t,o),o=o.sibling}function yf(e,t,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(vi,o)}catch{}switch(o.tag){case 5:at||Jr(o,t);case 6:var a=et,f=Xt;et=null,Vn(e,t,o),et=a,Xt=f,et!==null&&(Xt?(e=et,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(Xt?(e=et,o=o.stateNode,e.nodeType===8?za(e.parentNode,o):e.nodeType===1&&za(e,o),Eo(e)):za(et,o.stateNode));break;case 4:a=et,f=Xt,et=o.stateNode.containerInfo,Xt=!0,Vn(e,t,o),et=a,Xt=f;break;case 0:case 11:case 14:case 15:if(!at&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){f=a=a.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&wl(o,t,_),f=f.next}while(f!==a)}Vn(e,t,o);break;case 1:if(!at&&(Jr(o,t),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(T){We(o,t,T)}Vn(e,t,o);break;case 21:Vn(e,t,o);break;case 22:o.mode&1?(at=(a=at)||o.memoizedState!==null,Vn(e,t,o),at=a):Vn(e,t,o);break;default:Vn(e,t,o)}}function vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new P0),t.forEach(function(a){var f=V0.bind(null,e,a);o.has(a)||(o.add(a),a.then(f,f))})}}function Jt(e,t){var o=t.deletions;if(o!==null)for(var a=0;a<o.length;a++){var f=o[a];try{var m=e,_=t,T=_;e:for(;T!==null;){switch(T.tag){case 5:et=T.stateNode,Xt=!1;break e;case 3:et=T.stateNode.containerInfo,Xt=!0;break e;case 4:et=T.stateNode.containerInfo,Xt=!0;break e}T=T.return}if(et===null)throw Error(i(160));yf(m,_,f),et=null,Xt=!1;var I=f.alternate;I!==null&&(I.return=null),f.return=null}catch(O){We(f,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}function xf(e,t){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),an(e),a&4){try{Yo(3,e,e.return),is(3,e)}catch(pe){We(e,e.return,pe)}try{Yo(5,e,e.return)}catch(pe){We(e,e.return,pe)}}break;case 1:Jt(t,e),an(e),a&512&&o!==null&&Jr(o,o.return);break;case 5:if(Jt(t,e),an(e),a&512&&o!==null&&Jr(o,o.return),e.flags&32){var f=e.stateNode;try{Tt(f,"")}catch(pe){We(e,e.return,pe)}}if(a&4&&(f=e.stateNode,f!=null)){var m=e.memoizedProps,_=o!==null?o.memoizedProps:m,T=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{T==="input"&&m.type==="radio"&&m.name!=null&&Rt(f,m),ho(T,_);var O=ho(T,m);for(_=0;_<I.length;_+=2){var Q=I[_],K=I[_+1];Q==="style"?di(f,K):Q==="dangerouslySetInnerHTML"?qt(f,K):Q==="children"?Tt(f,K):j(f,Q,K,O)}switch(T){case"input":Vt(f,m);break;case"textarea":Wt(f,m);break;case"select":var q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var le=m.value;le!=null?Ze(f,!!m.multiple,le,!1):q!==!!m.multiple&&(m.defaultValue!=null?Ze(f,!!m.multiple,m.defaultValue,!0):Ze(f,!!m.multiple,m.multiple?[]:"",!1))}f[zo]=m}catch(pe){We(e,e.return,pe)}}break;case 6:if(Jt(t,e),an(e),a&4){if(e.stateNode===null)throw Error(i(162));f=e.stateNode,m=e.memoizedProps;try{f.nodeValue=m}catch(pe){We(e,e.return,pe)}}break;case 3:if(Jt(t,e),an(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(pe){We(e,e.return,pe)}break;case 4:Jt(t,e),an(e);break;case 13:Jt(t,e),an(e),f=e.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(_l=He())),a&4&&vf(e);break;case 22:if(Q=o!==null&&o.memoizedState!==null,e.mode&1?(at=(O=at)||Q,Jt(t,e),at=O):Jt(t,e),an(e),a&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!Q&&(e.mode&1)!==0)for(ue=e,Q=e.child;Q!==null;){for(K=ue=Q;ue!==null;){switch(q=ue,le=q.child,q.tag){case 0:case 11:case 14:case 15:Yo(4,q,q.return);break;case 1:Jr(q,q.return);var de=q.stateNode;if(typeof de.componentWillUnmount=="function"){a=q,o=q.return;try{t=a,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(pe){We(a,o,pe)}}break;case 5:Jr(q,q.return);break;case 22:if(q.memoizedState!==null){kf(K);continue}}le!==null?(le.return=q,ue=le):kf(K)}Q=Q.sibling}e:for(Q=null,K=e;;){if(K.tag===5){if(Q===null){Q=K;try{f=K.stateNode,O?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(T=K.stateNode,I=K.memoizedProps.style,_=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=Mr("display",_))}catch(pe){We(e,e.return,pe)}}}else if(K.tag===6){if(Q===null)try{K.stateNode.nodeValue=O?"":K.memoizedProps}catch(pe){We(e,e.return,pe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;Q===K&&(Q=null),K=K.return}Q===K&&(Q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Jt(t,e),an(e),a&4&&vf(e);break;case 21:break;default:Jt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(mf(o)){var a=o;break e}o=o.return}throw Error(i(160))}switch(a.tag){case 5:var f=a.stateNode;a.flags&32&&(Tt(f,""),a.flags&=-33);var m=gf(e);Sl(e,m,f);break;case 3:case 4:var _=a.stateNode.containerInfo,T=gf(e);kl(e,T,_);break;default:throw Error(i(161))}}catch(I){We(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I0(e,t,o){ue=e,wf(e)}function wf(e,t,o){for(var a=(e.mode&1)!==0;ue!==null;){var f=ue,m=f.child;if(f.tag===22&&a){var _=f.memoizedState!==null||os;if(!_){var T=f.alternate,I=T!==null&&T.memoizedState!==null||at;T=os;var O=at;if(os=_,(at=I)&&!O)for(ue=f;ue!==null;)_=ue,I=_.child,_.tag===22&&_.memoizedState!==null?Sf(f):I!==null?(I.return=_,ue=I):Sf(f);for(;m!==null;)ue=m,wf(m),m=m.sibling;ue=f,os=T,at=O}bf(e)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ue=m):bf(e)}}function bf(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||is(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!at)if(o===null)a.componentDidMount();else{var f=t.elementType===t.type?o.memoizedProps:Kt(t.type,o.memoizedProps);a.componentDidUpdate(f,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&bd(t,m,a);break;case 3:var _=t.updateQueue;if(_!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}bd(t,_,o)}break;case 5:var T=t.stateNode;if(o===null&&t.flags&4){o=T;var I=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&o.focus();break;case"img":I.src&&(o.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var Q=O.memoizedState;if(Q!==null){var K=Q.dehydrated;K!==null&&Eo(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}at||t.flags&512&&bl(t)}catch(q){We(t,t.return,q)}}if(t===e){ue=null;break}if(o=t.sibling,o!==null){o.return=t.return,ue=o;break}ue=t.return}}function kf(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ue=o;break}ue=t.return}}function Sf(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{is(4,t)}catch(I){We(t,o,I)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var f=t.return;try{a.componentDidMount()}catch(I){We(t,f,I)}}var m=t.return;try{bl(t)}catch(I){We(t,m,I)}break;case 5:var _=t.return;try{bl(t)}catch(I){We(t,_,I)}}}catch(I){We(t,t.return,I)}if(t===e){ue=null;break}var T=t.sibling;if(T!==null){T.return=t.return,ue=T;break}ue=t.return}}var F0=Math.ceil,ss=$.ReactCurrentDispatcher,Cl=$.ReactCurrentOwner,Lt=$.ReactCurrentBatchConfig,Re=0,Ke=null,qe=null,tt=0,_t=0,Zr=zn(0),Qe=0,Qo=null,fr=0,as=0,El=0,Go=null,yt=null,_l=0,eo=1/0,xn=null,ls=!1,$l=null,Bn=null,cs=!1,Wn=null,us=0,Ko=0,jl=null,ds=-1,fs=0;function ft(){return(Re&6)!==0?He():ds!==-1?ds:ds=He()}function Hn(e){return(e.mode&1)===0?1:(Re&2)!==0&&tt!==0?tt&-tt:y0.transition!==null?(fs===0&&(fs=mu()),fs):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Cu(e.type)),e)}function Zt(e,t,o,a){if(50<Ko)throw Ko=0,jl=null,Error(i(185));wo(e,o,a),((Re&2)===0||e!==Ke)&&(e===Ke&&((Re&2)===0&&(as|=o),Qe===4&&Un(e,tt)),vt(e,a),o===1&&Re===0&&(t.mode&1)===0&&(eo=He()+500,Oi&&Nn()))}function vt(e,t){var o=e.callbackNode;ym(e,t);var a=bi(e,e===Ke?tt:0);if(a===0)o!==null&&fu(o),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(o!=null&&fu(o),t===1)e.tag===0?g0(Ef.bind(null,e)):cd(Ef.bind(null,e)),f0(function(){(Re&6)===0&&Nn()}),o=null;else{switch(gu(a)){case 1:o=aa;break;case 4:o=pu;break;case 16:o=yi;break;case 536870912:o=hu;break;default:o=yi}o=If(o,Cf.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function Cf(e,t){if(ds=-1,fs=0,(Re&6)!==0)throw Error(i(327));var o=e.callbackNode;if(to()&&e.callbackNode!==o)return null;var a=bi(e,e===Ke?tt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=ps(e,a);else{t=a;var f=Re;Re|=2;var m=$f();(Ke!==e||tt!==t)&&(xn=null,eo=He()+500,hr(e,t));do try{L0();break}catch(T){_f(e,T)}while(!0);qa(),ss.current=m,Re=f,qe!==null?t=0:(Ke=null,tt=0,t=Qe)}if(t!==0){if(t===2&&(f=la(e),f!==0&&(a=f,t=Rl(e,f))),t===1)throw o=Qo,hr(e,0),Un(e,a),vt(e,He()),o;if(t===6)Un(e,a);else{if(f=e.current.alternate,(a&30)===0&&!A0(f)&&(t=ps(e,a),t===2&&(m=la(e),m!==0&&(a=m,t=Rl(e,m))),t===1))throw o=Qo,hr(e,0),Un(e,a),vt(e,He()),o;switch(e.finishedWork=f,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:mr(e,yt,xn);break;case 3:if(Un(e,a),(a&130023424)===a&&(t=_l+500-He(),10<t)){if(bi(e,0)!==0)break;if(f=e.suspendedLanes,(f&a)!==a){ft(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Aa(mr.bind(null,e,yt,xn),t);break}mr(e,yt,xn);break;case 4:if(Un(e,a),(a&4194240)===a)break;for(t=e.eventTimes,f=-1;0<a;){var _=31-Yt(a);m=1<<_,_=t[_],_>f&&(f=_),a&=~m}if(a=f,a=He()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*F0(a/1960))-a,10<a){e.timeoutHandle=Aa(mr.bind(null,e,yt,xn),a);break}mr(e,yt,xn);break;case 5:mr(e,yt,xn);break;default:throw Error(i(329))}}}return vt(e,He()),e.callbackNode===o?Cf.bind(null,e):null}function Rl(e,t){var o=Go;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=ps(e,t),e!==2&&(t=yt,yt=o,t!==null&&Ml(t)),e}function Ml(e){yt===null?yt=e:yt.push.apply(yt,e)}function A0(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var f=o[a],m=f.getSnapshot;f=f.value;try{if(!Qt(m(),f))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~El,t&=~as,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Yt(t),a=1<<o;e[o]=-1,t&=~a}}function Ef(e){if((Re&6)!==0)throw Error(i(327));to();var t=bi(e,0);if((t&1)===0)return vt(e,He()),null;var o=ps(e,t);if(e.tag!==0&&o===2){var a=la(e);a!==0&&(t=a,o=Rl(e,a))}if(o===1)throw o=Qo,hr(e,0),Un(e,t),vt(e,He()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,yt,xn),vt(e,He()),null}function Pl(e,t){var o=Re;Re|=1;try{return e(t)}finally{Re=o,Re===0&&(eo=He()+500,Oi&&Nn())}}function pr(e){Wn!==null&&Wn.tag===0&&(Re&6)===0&&to();var t=Re;Re|=1;var o=Lt.transition,a=Ae;try{if(Lt.transition=null,Ae=1,e)return e()}finally{Ae=a,Lt.transition=o,Re=t,(Re&6)===0&&Nn()}}function Tl(){_t=Zr.current,De(Zr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,d0(o)),qe!==null)for(o=qe.return;o!==null;){var a=o;switch(Va(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ni();break;case 3:Kr(),De(ht),De(ot),el();break;case 5:Ja(a);break;case 4:Kr();break;case 13:De(Ve);break;case 19:De(Ve);break;case 10:Ya(a.type._context);break;case 22:case 23:Tl()}o=o.return}if(Ke=e,qe=e=qn(e.current,null),tt=_t=t,Qe=0,Qo=null,El=as=fr=0,yt=Go=null,cr!==null){for(t=0;t<cr.length;t++)if(o=cr[t],a=o.interleaved,a!==null){o.interleaved=null;var f=a.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,a.next=_}o.pending=a}cr=null}return e}function _f(e,t){do{var o=qe;try{if(qa(),Ki.current=es,Xi){for(var a=Be.memoizedState;a!==null;){var f=a.queue;f!==null&&(f.pending=null),a=a.next}Xi=!1}if(dr=0,Ge=Ye=Be=null,Bo=!1,Wo=0,Cl.current=null,o===null||o.return===null){Qe=1,Qo=t,qe=null;break}e:{var m=e,_=o.return,T=o,I=t;if(t=tt,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var O=I,Q=T,K=Q.tag;if((Q.mode&1)===0&&(K===0||K===11||K===15)){var q=Q.alternate;q?(Q.updateQueue=q.updateQueue,Q.memoizedState=q.memoizedState,Q.lanes=q.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var le=Kd(_);if(le!==null){le.flags&=-257,Xd(le,_,T,m,t),le.mode&1&&Gd(m,O,t),t=le,I=O;var de=t.updateQueue;if(de===null){var pe=new Set;pe.add(I),t.updateQueue=pe}else de.add(I);break e}else{if((t&1)===0){Gd(m,O,t),Il();break e}I=Error(i(426))}}else if(Oe&&T.mode&1){var Ue=Kd(_);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Xd(Ue,_,T,m,t),Ha(Xr(I,T));break e}}m=I=Xr(I,T),Qe!==4&&(Qe=2),Go===null?Go=[m]:Go.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var L=Yd(m,I,t);wd(m,L);break e;case 1:T=I;var A=m.type,N=m.stateNode;if((m.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Bn===null||!Bn.has(N)))){m.flags|=65536,t&=-t,m.lanes|=t;var J=Qd(m,T,t);wd(m,J);break e}}m=m.return}while(m!==null)}Rf(o)}catch(me){t=me,qe===o&&o!==null&&(qe=o=o.return);continue}break}while(!0)}function $f(){var e=ss.current;return ss.current=es,e===null?es:e}function Il(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ke===null||(fr&268435455)===0&&(as&268435455)===0||Un(Ke,tt)}function ps(e,t){var o=Re;Re|=2;var a=$f();(Ke!==e||tt!==t)&&(xn=null,hr(e,t));do try{z0();break}catch(f){_f(e,f)}while(!0);if(qa(),Re=o,ss.current=a,qe!==null)throw Error(i(261));return Ke=null,tt=0,Qe}function z0(){for(;qe!==null;)jf(qe)}function L0(){for(;qe!==null&&!lm();)jf(qe)}function jf(e){var t=Tf(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Rf(e):qe=t,Cl.current=null}function Rf(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=R0(o,t,_t),o!==null){qe=o;return}}else{if(o=M0(o,t),o!==null){o.flags&=32767,qe=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Qe===0&&(Qe=5)}function mr(e,t,o){var a=Ae,f=Lt.transition;try{Lt.transition=null,Ae=1,N0(e,t,o,a)}finally{Lt.transition=f,Ae=a}return null}function N0(e,t,o,a){do to();while(Wn!==null);if((Re&6)!==0)throw Error(i(327));o=e.finishedWork;var f=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var m=o.lanes|o.childLanes;if(vm(e,m),e===Ke&&(qe=Ke=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||cs||(cs=!0,If(yi,function(){return to(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Lt.transition,Lt.transition=null;var _=Ae;Ae=1;var T=Re;Re|=4,Cl.current=null,T0(e,o),xf(o,e),o0(Ia),Ci=!!Ta,Ia=Ta=null,e.current=o,I0(o),cm(),Re=T,Ae=_,Lt.transition=m}else e.current=o;if(cs&&(cs=!1,Wn=e,us=f),m=e.pendingLanes,m===0&&(Bn=null),fm(o.stateNode),vt(e,He()),t!==null)for(a=e.onRecoverableError,o=0;o<t.length;o++)f=t[o],a(f.value,{componentStack:f.stack,digest:f.digest});if(ls)throw ls=!1,e=$l,$l=null,e;return(us&1)!==0&&e.tag!==0&&to(),m=e.pendingLanes,(m&1)!==0?e===jl?Ko++:(Ko=0,jl=e):Ko=0,Nn(),null}function to(){if(Wn!==null){var e=gu(us),t=Lt.transition,o=Ae;try{if(Lt.transition=null,Ae=16>e?16:e,Wn===null)var a=!1;else{if(e=Wn,Wn=null,us=0,(Re&6)!==0)throw Error(i(331));var f=Re;for(Re|=4,ue=e.current;ue!==null;){var m=ue,_=m.child;if((ue.flags&16)!==0){var T=m.deletions;if(T!==null){for(var I=0;I<T.length;I++){var O=T[I];for(ue=O;ue!==null;){var Q=ue;switch(Q.tag){case 0:case 11:case 15:Yo(8,Q,m)}var K=Q.child;if(K!==null)K.return=Q,ue=K;else for(;ue!==null;){Q=ue;var q=Q.sibling,le=Q.return;if(hf(Q),Q===O){ue=null;break}if(q!==null){q.return=le,ue=q;break}ue=le}}}var de=m.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var Ue=pe.sibling;pe.sibling=null,pe=Ue}while(pe!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,ue=_;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Yo(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ue=L;break e}ue=m.return}}var A=e.current;for(ue=A;ue!==null;){_=ue;var N=_.child;if((_.subtreeFlags&2064)!==0&&N!==null)N.return=_,ue=N;else e:for(_=A;ue!==null;){if(T=ue,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:is(9,T)}}catch(me){We(T,T.return,me)}if(T===_){ue=null;break e}var J=T.sibling;if(J!==null){J.return=T.return,ue=J;break e}ue=T.return}}if(Re=f,Nn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(vi,e)}catch{}a=!0}return a}finally{Ae=o,Lt.transition=t}}return!1}function Mf(e,t,o){t=Xr(o,t),t=Yd(e,t,1),e=On(e,t,1),t=ft(),e!==null&&(wo(e,1,t),vt(e,t))}function We(e,t,o){if(e.tag===3)Mf(e,e,o);else for(;t!==null;){if(t.tag===3){Mf(t,e,o);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Bn===null||!Bn.has(a))){e=Xr(o,e),e=Qd(t,e,1),t=On(t,e,1),e=ft(),t!==null&&(wo(t,1,e),vt(t,e));break}}t=t.return}}function D0(e,t,o){var a=e.pingCache;a!==null&&a.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&o,Ke===e&&(tt&o)===o&&(Qe===4||Qe===3&&(tt&130023424)===tt&&500>He()-_l?hr(e,0):El|=o),vt(e,t)}function Pf(e,t){t===0&&((e.mode&1)===0?t=1:(t=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var o=ft();e=gn(e,t),e!==null&&(wo(e,t,o),vt(e,o))}function O0(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Pf(e,o)}function V0(e,t){var o=0;switch(e.tag){case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(t),Pf(e,o)}var Tf;Tf=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)gt=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return gt=!1,j0(e,t,o);gt=(e.flags&131072)!==0}else gt=!1,Oe&&(t.flags&1048576)!==0&&ud(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;rs(e,t),e=t.pendingProps;var f=Wr(t,ot.current);Gr(t,o),f=rl(null,t,a,e,f,o);var m=ol();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(a)?(m=!0,Di(t)):m=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ka(t),f.updater=ts,t.stateNode=f,f._reactInternals=t,ul(t,a,e,o),t=hl(null,t,a,!0,m,o)):(t.tag=0,Oe&&m&&Oa(t),dt(null,t,f,o),t=t.child),t;case 16:a=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,f=a._init,a=f(a._payload),t.type=a,f=t.tag=W0(a),e=Kt(a,e),f){case 0:t=pl(null,t,a,e,o);break e;case 1:t=rf(null,t,a,e,o);break e;case 11:t=Jd(null,t,a,e,o);break e;case 14:t=Zd(null,t,a,Kt(a.type,e),o);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Kt(a,f),pl(e,t,a,f,o);case 1:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Kt(a,f),rf(e,t,a,f,o);case 3:e:{if(of(t),e===null)throw Error(i(387));a=t.pendingProps,m=t.memoizedState,f=m.element,xd(e,t),Qi(t,a,null,o);var _=t.memoizedState;if(a=_.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){f=Xr(Error(i(423)),t),t=sf(e,t,a,o,f);break e}else if(a!==f){f=Xr(Error(i(424)),t),t=sf(e,t,a,o,f);break e}else for(Et=An(t.stateNode.containerInfo.firstChild),Ct=t,Oe=!0,Gt=null,o=yd(t,null,a,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qr(),a===f){t=vn(e,t,o);break e}dt(e,t,a,o)}t=t.child}return t;case 5:return kd(t),e===null&&Wa(t),a=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,_=f.children,Fa(a,f)?_=null:m!==null&&Fa(a,m)&&(t.flags|=32),nf(e,t),dt(e,t,_,o),t.child;case 6:return e===null&&Wa(t),null;case 13:return af(e,t,o);case 4:return Xa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yr(t,null,a,o):dt(e,t,a,o),t.child;case 11:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Kt(a,f),Jd(e,t,a,f,o);case 7:return dt(e,t,t.pendingProps,o),t.child;case 8:return dt(e,t,t.pendingProps.children,o),t.child;case 12:return dt(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(a=t.type._context,f=t.pendingProps,m=t.memoizedProps,_=f.value,Le(Ui,a._currentValue),a._currentValue=_,m!==null)if(Qt(m.value,_)){if(m.children===f.children&&!ht.current){t=vn(e,t,o);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var T=m.dependencies;if(T!==null){_=m.child;for(var I=T.firstContext;I!==null;){if(I.context===a){if(m.tag===1){I=yn(-1,o&-o),I.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var Q=O.pending;Q===null?I.next=I:(I.next=Q.next,Q.next=I),O.pending=I}}m.lanes|=o,I=m.alternate,I!==null&&(I.lanes|=o),Qa(m.return,o,t),T.lanes|=o;break}I=I.next}}else if(m.tag===10)_=m.type===t.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Qa(_,o,t),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===t){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}dt(e,t,f.children,o),t=t.child}return t;case 9:return f=t.type,a=t.pendingProps.children,Gr(t,o),f=At(f),a=a(f),t.flags|=1,dt(e,t,a,o),t.child;case 14:return a=t.type,f=Kt(a,t.pendingProps),f=Kt(a.type,f),Zd(e,t,a,f,o);case 15:return ef(e,t,t.type,t.pendingProps,o);case 17:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Kt(a,f),rs(e,t),t.tag=1,mt(a)?(e=!0,Di(t)):e=!1,Gr(t,o),Ud(t,a,f),ul(t,a,f,o),hl(null,t,a,!0,e,o);case 19:return cf(e,t,o);case 22:return tf(e,t,o)}throw Error(i(156,t.tag))};function If(e,t){return du(e,t)}function B0(e,t,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,o,a){return new B0(e,t,o,a)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W0(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ee)return 11;if(e===ne)return 14}return 2}function qn(e,t){var o=e.alternate;return o===null?(o=Nt(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function hs(e,t,o,a,f,m){var _=2;if(a=e,typeof e=="function")Fl(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case z:return gr(o.children,f,m,t);case V:_=8,f|=8;break;case U:return e=Nt(12,o,t,f|2),e.elementType=U,e.lanes=m,e;case Y:return e=Nt(13,o,t,f),e.elementType=Y,e.lanes=m,e;case X:return e=Nt(19,o,t,f),e.elementType=X,e.lanes=m,e;case oe:return ms(o,f,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:_=10;break e;case Z:_=9;break e;case ee:_=11;break e;case ne:_=14;break e;case ae:_=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Nt(_,o,t,f),t.elementType=e,t.type=a,t.lanes=m,t}function gr(e,t,o,a){return e=Nt(7,e,a,t),e.lanes=o,e}function ms(e,t,o,a){return e=Nt(22,e,a,t),e.elementType=oe,e.lanes=o,e.stateNode={isHidden:!1},e}function Al(e,t,o){return e=Nt(6,e,null,t),e.lanes=o,e}function zl(e,t,o){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H0(e,t,o,a,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=a,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ll(e,t,o,a,f,m,_,T,I){return e=new H0(e,t,o,T,I),t===1?(t=1,m===!0&&(t|=8)):t=0,m=Nt(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(m),e}function U0(e,t,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:a==null?null:""+a,children:e,containerInfo:t,implementation:o}}function Ff(e){if(!e)return Ln;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(mt(o))return ad(e,o,t)}return t}function Af(e,t,o,a,f,m,_,T,I){return e=Ll(o,a,!0,e,f,m,_,T,I),e.context=Ff(null),o=e.current,a=ft(),f=Hn(o),m=yn(a,f),m.callback=t??null,On(o,m,f),e.current.lanes=f,wo(e,f,a),vt(e,a),e}function gs(e,t,o,a){var f=t.current,m=ft(),_=Hn(f);return o=Ff(o),t.context===null?t.context=o:t.pendingContext=o,t=yn(m,_),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=On(f,t,_),e!==null&&(Zt(e,f,_,m),Yi(e,f,_)),_}function ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Nl(e,t){zf(e,t),(e=e.alternate)&&zf(e,t)}function q0(){return null}var Lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dl(e){this._internalRoot=e}vs.prototype.render=Dl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));gs(e,t,null,null)},vs.prototype.unmount=Dl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){gs(null,e,null,null)}),t[fn]=null}};function vs(e){this._internalRoot=e}vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var o=0;o<Tn.length&&t!==0&&t<Tn[o].priority;o++);Tn.splice(o,0,e),o===0&&ku(e)}};function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function Y0(e,t,o,a,f){if(f){if(typeof a=="function"){var m=a;a=function(){var O=ys(_);m.call(O)}}var _=Af(t,a,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=_,e[fn]=_.current,Fo(e.nodeType===8?e.parentNode:e),pr(),_}for(;f=e.lastChild;)e.removeChild(f);if(typeof a=="function"){var T=a;a=function(){var O=ys(I);T.call(O)}}var I=Ll(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=I,e[fn]=I.current,Fo(e.nodeType===8?e.parentNode:e),pr(function(){gs(t,I,o,a)}),I}function ws(e,t,o,a,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var T=f;f=function(){var I=ys(_);T.call(I)}}gs(t,_,e,f)}else _=Y0(o,t,e,f,a);return ys(_)}yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=xo(t.pendingLanes);o!==0&&(ua(t,o|1),vt(t,He()),(Re&6)===0&&(eo=He()+500,Nn()))}break;case 13:pr(function(){var a=gn(e,1);if(a!==null){var f=ft();Zt(a,e,1,f)}}),Nl(e,1)}},da=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var o=ft();Zt(t,e,134217728,o)}Nl(e,134217728)}},vu=function(e){if(e.tag===13){var t=Hn(e),o=gn(e,t);if(o!==null){var a=ft();Zt(o,e,t,a)}Nl(e,t)}},xu=function(){return Ae},wu=function(e,t){var o=Ae;try{return Ae=e,t()}finally{Ae=o}},yo=function(e,t,o){switch(t){case"input":if(Vt(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var a=o[t];if(a!==e&&a.form===e.form){var f=Li(a);if(!f)throw Error(i(90));Ot(a),Vt(a,f)}}}break;case"textarea":Wt(e,o);break;case"select":t=o.value,t!=null&&Ze(e,!!o.multiple,t,!1)}},hi=Pl,mi=pr;var Q0={usingClientEntryPoint:!1,Events:[Lo,Vr,Li,er,tr,Pl]},Xo={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cu(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||q0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{vi=bs.inject(G0),nn=bs}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,xt.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(t))throw Error(i(200));return U0(e,t,null,o)},xt.createRoot=function(e,t){if(!Ol(e))throw Error(i(299));var o=!1,a="",f=Lf;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ll(e,1,!1,null,null,o,!1,a,f),e[fn]=t.current,Fo(e.nodeType===8?e.parentNode:e),new Dl(t)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=cu(t),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return pr(e)},xt.hydrate=function(e,t,o){if(!xs(t))throw Error(i(200));return ws(null,e,t,!0,o)},xt.hydrateRoot=function(e,t,o){if(!Ol(e))throw Error(i(405));var a=o!=null&&o.hydratedSources||null,f=!1,m="",_=Lf;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),t=Af(t,null,e,1,o??null,f,!1,m,_),e[fn]=t.current,Fo(e),a)for(e=0;e<a.length;e++)o=a[e],f=o._getVersion,f=f(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,f]:t.mutableSourceEagerHydrationData.push(o,f);return new vs(t)},xt.render=function(e,t,o){if(!xs(t))throw Error(i(200));return ws(null,e,t,!1,o)},xt.unmountComponentAtNode=function(e){if(!xs(e))throw Error(i(40));return e._reactRootContainer?(pr(function(){ws(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1},xt.unstable_batchedUpdates=Pl,xt.unstable_renderSubtreeIntoContainer=function(e,t,o,a){if(!xs(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ws(e,t,o,!1,a)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var qf;function Bp(){if(qf)return Wl.exports;qf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Wl.exports=ng(),Wl.exports}var Yf;function rg(){if(Yf)return ks;Yf=1;var r=Bp();return ks.createRoot=r.createRoot,ks.hydrateRoot=r.hydrateRoot,ks}var og=rg();const ig=$c(og);var Qf=Bp(),sg=Object.defineProperty,Wp=(r,n)=>{for(var i in n)sg(r,i,{get:n[i],enumerable:!0,configurable:!0,set:s=>n[i]=()=>s})};if(typeof y.createContext!="function"){const r=['Remotion requires React.createContext, but it is "undefined".','If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',"","Before:",'  import {useCurrentFrame} from "remotion";',"","After:",'  "use client";','  import {useCurrentFrame} from "remotion";'];throw new Error(r.join(`
`))}function Gf(){return["NOD","E_EN","V"].join("")}var Kf=()=>["e","nv"].join(""),en=()=>{const r=typeof window<"u"&&window.remotion_isPlayer,n=typeof window<"u"&&typeof window.process<"u"&&typeof window.process.env<"u"&&(window.process[Kf()][Gf()]==="test"||window.process[Kf()][Gf()]==="production"&&typeof window<"u"&&typeof window.remotion_puppeteerTimeout<"u"),i=typeof window<"u"&&window.remotion_isStudio,s=typeof window<"u"&&window.remotion_isReadOnlyStudio;return{isStudio:i,isRendering:n,isPlayer:r,isReadOnlyStudio:s,isClientSideRendering:!1}},ag=Ce.createElement,lg=Vp.jsx,Hp=[],Xf=r=>new Proxy(r,{apply(n,i,s){if(Hp.includes(s[0])){const[l,c,...u]=s,h={...c??{},stack:new Error().stack};return Reflect.apply(n,i,[l,h,...u])}return Reflect.apply(n,i,s)}}),Up=()=>{en().isStudio&&(Ce.createElement=Xf(ag),Vp.jsx=Xf(lg))},io=r=>{Hp.push(r),Up()},qp=y.createContext(!1),cg=({children:r})=>d.jsx(qp.Provider,{value:!0,children:r}),Rc=()=>y.useContext(qp);function si(r){return!!r}var ni="4.0.363",ug=()=>{if(typeof globalThis>"u")return;const r=()=>{globalThis.remotion_imported=ni,typeof window<"u"&&(window.remotion_imported=ni)},n=globalThis.remotion_imported||typeof window<"u"&&window.remotion_imported;if(n){if(n===ni)return;if(typeof n=="string"&&n.includes("webcodecs")){r();return}throw new TypeError(`🚨 Multiple versions of Remotion detected: ${[ni,typeof n=="string"?n:"an older version"].filter(si).join(" and ")}. This will cause things to break in an unexpected way.
Check that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`)}r()},Qn=({className:r,classPrefix:n,type:i})=>{if(!r)return!1;if(i==="exact"){const s=r.split(" ");return n.some(l=>s.some(c=>c.trim()===l||c.trim().endsWith(`:${l}`)||c.trim().endsWith(`!${l}`)))}return n.some(s=>r.startsWith(s)||r.includes(` ${s}`)||r.includes(`!${s}`)||r.includes(`:${s}`))},dg=(r,n)=>{const{style:i,...s}=r,l=y.useMemo(()=>({position:"absolute",top:Qn({className:s.className,classPrefix:["top-","inset-"],type:"prefix"})?void 0:0,left:Qn({className:s.className,classPrefix:["left-","inset-"],type:"prefix"})?void 0:0,right:Qn({className:s.className,classPrefix:["right-","inset-"],type:"prefix"})?void 0:0,bottom:Qn({className:s.className,classPrefix:["bottom-","inset-"],type:"prefix"})?void 0:0,width:Qn({className:s.className,classPrefix:["w-"],type:"prefix"})?void 0:"100%",height:Qn({className:s.className,classPrefix:["h-"],type:"prefix"})?void 0:"100%",display:Qn({className:s.className,classPrefix:["block","inline-block","inline","flex","inline-flex","flow-root","grid","inline-grid","contents","list-item","hidden"],type:"exact"})?void 0:"flex",flexDirection:Qn({className:s.className,classPrefix:["flex-row","flex-col","flex-row-reverse","flex-col-reverse"],type:"exact"})?void 0:"column",...i}),[s.className,i]);return d.jsx("div",{ref:n,style:l,...s})},Fe=y.forwardRef(dg),Je=y.createContext(null),so=Ce.createContext({registerSequence:()=>{throw new Error("SequenceManagerContext not initialized")},unregisterSequence:()=>{throw new Error("SequenceManagerContext not initialized")},sequences:[]}),ai=Ce.createContext({hidden:{},setHidden:()=>{throw new Error("SequenceVisibilityToggle not initialized")}}),fg=({children:r})=>{const[n,i]=y.useState([]),[s,l]=y.useState({}),c=y.useCallback(g=>{i(x=>[...x,g])},[]),u=y.useCallback(g=>{i(x=>x.filter(S=>S.id!==g))},[]),h=y.useMemo(()=>({registerSequence:c,sequences:n,unregisterSequence:u}),[c,n,u]),p=y.useMemo(()=>({hidden:s,setHidden:l}),[s]);return d.jsx(so.Provider,{value:h,children:d.jsx(ai.Provider,{value:p,children:r})})},ao=y.createContext({getNonce:()=>0,fastRefreshes:0,manualRefreshes:0}),Yp=y.createContext({increaseManualRefreshes:()=>{}}),Mc=()=>{const r=y.useContext(ao),[n,i]=y.useState(()=>r.getNonce()),s=y.useRef(r);return y.useEffect(()=>{s.current!==r&&(s.current=r,i(r.getNonce))},[r]),n},Qp={};Wp(Qp,{useTimelineSetFrame:()=>ch,useTimelinePosition:()=>Xn,usePlayingState:()=>uh,persistCurrentFrame:()=>sh,getInitialFrameState:()=>ah,getFrameForComposition:()=>lh,TimelineContext:()=>Dt,SetTimelineContext:()=>lo});var Gp=Ce.createContext(null),ct=()=>{const r=y.useContext(Gp),[n]=y.useState(()=>en());return r??n},br=y.createContext({compositions:[],folders:[],currentCompositionMetadata:null,canvasContent:null}),Bs=y.createContext({registerComposition:()=>{},unregisterComposition:()=>{},registerFolder:()=>{},unregisterFolder:()=>{},setCanvasContent:()=>{},updateCompositionDefaultProps:()=>{},onlyRenderComposition:null}),Ws=y.createContext({props:{},updateProps:()=>{throw new Error("Not implemented")},resetUnsaved:()=>{throw new Error("Not implemented")}}),Kp=Ce.createRef(),pg=Ce.createRef(),Xp=({children:r})=>{const[n,i]=Ce.useState({}),s=y.useCallback(({defaultProps:u,id:h,newProps:p})=>{i(g=>({...g,[h]:typeof p=="function"?p(g[h]??u):p}))},[]),l=y.useCallback(u=>{i(h=>{if(h[u]){const p={...h};return delete p[u],p}return h})},[]);y.useImperativeHandle(Kp,()=>({getProps:()=>n,setProps:i}),[n]);const c=y.useMemo(()=>({props:n,updateProps:s,resetUnsaved:l}),[n,l,s]);return d.jsx(Ws.Provider,{value:c,children:r})},sc=()=>"remotion_inputPropsOverride"+window.location.origin,Jp=()=>{if(typeof localStorage>"u")return null;const r=localStorage.getItem(sc());return r?JSON.parse(r):null},hg=r=>{if(!(typeof localStorage>"u")){if(r===null){localStorage.removeItem(sc());return}localStorage.setItem(sc(),JSON.stringify(r))}},ac="remotion-date:",lc="remotion-file:",mg=({data:r,indent:n,staticBase:i})=>{let s=!1,l=!1,c=!1,u=!1;try{return{serializedString:JSON.stringify(r,function(p,g){const x=this[p];return x instanceof Date?(s=!0,`${ac}${x.toISOString()}`):x instanceof Map?(c=!0,g):x instanceof Set?(u=!0,g):typeof x=="string"&&i!==null&&x.startsWith(i)?(l=!0,`${lc}${x.replace(i+"/","")}`):g},n),customDateUsed:s,customFileUsed:l,mapUsed:c,setUsed:u}}catch(h){throw new Error("Could not serialize the passed input props to JSON: "+h.message)}},Zp=r=>JSON.parse(r,(n,i)=>typeof i=="string"&&i.startsWith(ac)?new Date(i.replace(ac,"")):typeof i=="string"&&i.startsWith(lc)?`${window.remotion_staticBase}/${i.replace(lc,"")}`:i),gg=r=>Zp(mg({data:r,indent:2,staticBase:window.remotion_staticBase}).serializedString),yr=r=>en().isStudio?gg(r):r,Jf=!1,yg=()=>{Jf||(Jf=!0,console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object."),console.warn("To hide this warning, don't call this function on the server:"),console.warn("  typeof window === 'undefined' ? {} : getInputProps()"))},eh=()=>{if(typeof window>"u")return yg(),{};if(en().isPlayer)throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");const r=Jp();if(r)return r;const n=window.remotion_inputProps;return n?Zp(n):{}},Zf=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"];function vg(r,n,i){if(!(typeof r>"u")){if(typeof r!="string")throw new TypeError(`The "${i}" prop ${n} must be a string, but you passed a value of type ${typeof r}.`);if(!Zf.includes(r))throw new Error(`The "${i}" prop ${n} must be one of ${Zf.join(", ")}, but you passed ${r}.`)}}function Fs(r,n,i){if(typeof r!="number")throw new Error(`The "${n}" prop ${i} must be a number, but you passed a value of type ${typeof r}`);if(isNaN(r))throw new TypeError(`The "${n}" prop ${i} must not be NaN, but is NaN.`);if(!Number.isFinite(r))throw new TypeError(`The "${n}" prop ${i} must be finite, but is ${r}.`);if(r%1!==0)throw new TypeError(`The "${n}" prop ${i} must be an integer, but is ${r}.`);if(r<=0)throw new TypeError(`The "${n}" prop ${i} must be positive, but got ${r}.`)}function Pc(r,n){const{allowFloats:i,component:s}=n;if(typeof r>"u")throw new Error(`The "durationInFrames" prop ${s} is missing.`);if(typeof r!="number")throw new Error(`The "durationInFrames" prop ${s} must be a number, but you passed a value of type ${typeof r}`);if(r<=0)throw new TypeError(`The "durationInFrames" prop ${s} must be positive, but got ${r}.`);if(!i&&r%1!==0)throw new TypeError(`The "durationInFrames" prop ${s} must be an integer, but got ${r}.`);if(!Number.isFinite(r))throw new TypeError(`The "durationInFrames" prop ${s} must be finite, but got ${r}.`)}function Hs(r,n,i){if(typeof r!="number")throw new Error(`"fps" must be a number, but you passed a value of type ${typeof r} ${n}`);if(!Number.isFinite(r))throw new Error(`"fps" must be a finite, but you passed ${r} ${n}`);if(isNaN(r))throw new Error(`"fps" must not be NaN, but got ${r} ${n}`);if(r<=0)throw new TypeError(`"fps" must be positive, but got ${r} ${n}`)}var ep=({calculated:r,compositionId:n,compositionFps:i,compositionHeight:s,compositionWidth:l,compositionDurationInFrames:c})=>{const u=`calculated by calculateMetadata() for the composition "${n}"`,h=`of the "<Composition />" component with the id "${n}"`,p=r?.width??l??void 0;Fs(p,"width",r?.width?u:h);const g=r?.height??s??void 0;Fs(g,"height",r?.height?u:h);const x=r?.fps??i??null;Hs(x,r?.fps?u:h);const S=r?.durationInFrames??c??null;Pc(S,{allowFloats:!1,component:`of the "<Composition />" component with the id "${n}"`});const v=r?.defaultCodec;vg(v,u,"defaultCodec");const k=r?.defaultOutName,w=r?.defaultVideoImageFormat,b=r?.defaultPixelFormat;return{width:p,height:g,fps:x,durationInFrames:S,defaultCodec:v,defaultOutName:k,defaultVideoImageFormat:w,defaultPixelFormat:b}},th=({calculateMetadata:r,signal:n,defaultProps:i,originalProps:s,compositionId:l,compositionDurationInFrames:c,compositionFps:u,compositionHeight:h,compositionWidth:p})=>{const g=r?r({defaultProps:i,props:s,abortSignal:n,compositionId:l,isRendering:en().isRendering}):null;if(g!==null&&typeof g=="object"&&"then"in g)return g.then(S=>{const{height:v,width:k,durationInFrames:w,fps:b,defaultCodec:C,defaultOutName:E,defaultVideoImageFormat:R,defaultPixelFormat:j}=ep({calculated:S,compositionDurationInFrames:c,compositionFps:u,compositionHeight:h,compositionWidth:p,compositionId:l});return{width:k,height:v,fps:b,durationInFrames:w,id:l,defaultProps:yr(i),props:yr(S.props??s),defaultCodec:C??null,defaultOutName:E??null,defaultVideoImageFormat:R??null,defaultPixelFormat:j??null}});const x=ep({calculated:g,compositionDurationInFrames:c,compositionFps:u,compositionHeight:h,compositionWidth:p,compositionId:l});return g===null?{...x,id:l,defaultProps:yr(i??{}),props:yr(s),defaultCodec:null,defaultOutName:null,defaultVideoImageFormat:null,defaultPixelFormat:null}:{...x,id:l,defaultProps:yr(i??{}),props:yr(g.props??s),defaultCodec:g.defaultCodec??null,defaultOutName:g.defaultOutName??null,defaultVideoImageFormat:g.defaultVideoImageFormat??null,defaultPixelFormat:g.defaultPixelFormat??null}},xg=r=>{try{return{type:"success",result:th(r)}}catch(n){return{type:"error",error:n}}},Us=y.createContext(null),nh=y.createRef(),rh=r=>!!r.calculateMetadata,oh="remotion.propsUpdatedExternally",ih=({children:r})=>{const[n,i]=y.useState(null),{compositions:s,canvasContent:l,currentCompositionMetadata:c}=y.useContext(br),{fastRefreshes:u,manualRefreshes:h}=y.useContext(ao),p=y.useMemo(()=>s.find(H=>l&&l.type==="composition"&&l.compositionId===H.id),[l,s]),g=s.find(H=>H.id===n),{props:x}=y.useContext(Ws),S=ct(),v=y.useMemo(()=>typeof window>"u"||S.isPlayer?{}:eh()??{},[S.isPlayer]),[k,w]=y.useState({}),b=y.useMemo(()=>p?x[p.id]??{}:{},[x,p]),C=y.useMemo(()=>g?x[g.id]??{}:{},[x,g]),E=!!c,R=y.useCallback(({calculateMetadata:H,combinedProps:Z,compositionDurationInFrames:ee,compositionFps:Y,compositionHeight:X,compositionId:ne,compositionWidth:ae,defaultProps:oe})=>{const B=new AbortController;if(E)return B;const{signal:ie}=B,G=xg({compositionId:ne,calculateMetadata:H,originalProps:Z,signal:ie,defaultProps:oe,compositionDurationInFrames:ee,compositionFps:Y,compositionHeight:X,compositionWidth:ae});if(G.type==="error")return w(D=>({...D,[ne]:{type:"error",error:G.error}})),B;const F=G.result;return typeof F=="object"&&"then"in F?(w(D=>{const ce=D[ne];return ce?.type==="success"||ce?.type==="success-and-refreshing"?{...D,[ne]:{type:"success-and-refreshing",result:ce.result}}:{...D,[ne]:{type:"loading"}}}),F.then(D=>{B.signal.aborted||w(ce=>({...ce,[ne]:{type:"success",result:D}}))}).catch(D=>{B.signal.aborted||w(ce=>({...ce,[ne]:{type:"error",error:D}}))})):w(D=>({...D,[ne]:{type:"success",result:F}})),B},[E]),j=l?.type==="composition"?l.compositionId:null;y.useImperativeHandle(nh,()=>({setCurrentRenderModalComposition:H=>{i(H)},reloadCurrentlySelectedComposition:()=>{if(!j)return;const H=s.find(X=>X.id===j);if(!H)throw new Error(`Could not find composition with id ${j}`);const Z=x[j]??{},ee={...H.defaultProps??{},...Z??{}},Y={...ee,...v??{}};R({defaultProps:ee,calculateMetadata:H.calculateMetadata,combinedProps:Y,compositionDurationInFrames:H.durationInFrames??null,compositionFps:H.fps??null,compositionHeight:H.height??null,compositionWidth:H.width??null,compositionId:H.id})}}),[x,s,j,R,v]);const $=p?.id===g?.id,P=y.useMemo(()=>({...p?.defaultProps??{},...b??{}}),[p?.defaultProps,b]),M=y.useMemo(()=>({...P,...v??{}}),[P,v]),z=p&&rh(p),V=typeof window<"u"&&window.remotion_ignoreFastRefreshUpdate&&u<=window.remotion_ignoreFastRefreshUpdate;y.useEffect(()=>{if(!V&&z){const H=R({calculateMetadata:p.calculateMetadata,combinedProps:M,compositionDurationInFrames:p.durationInFrames??null,compositionFps:p.fps??null,compositionHeight:p.height??null,compositionWidth:p.width??null,defaultProps:P,compositionId:p.id});return()=>{H.abort()}}},[z,P,R,M,p?.calculateMetadata,p?.durationInFrames,p?.fps,p?.height,p?.id,p?.width,V]),y.useEffect(()=>{if(g&&!$){const H={...g.defaultProps??{},...C??{},...v??{}},Z=R({calculateMetadata:g.calculateMetadata,compositionDurationInFrames:g.durationInFrames??null,compositionFps:g.fps??null,compositionHeight:g.height??null,compositionId:g.id,compositionWidth:g.width??null,defaultProps:P,combinedProps:H});return()=>{Z.abort()}}},[P,R,v,$,g,C]);const U=y.useMemo(()=>{const H=s.filter(Z=>Z.calculateMetadata===null);return{...k,...H.reduce((Z,ee)=>({...Z,[ee.id]:{type:"success",result:{...ee,defaultProps:ee.defaultProps??{}}}}),{})}},[s,k]);return d.jsx(Us.Provider,{value:U,children:r})},Tc=r=>{const n=y.useContext(Us),{props:i}=y.useContext(Ws),{compositions:s,canvasContent:l,currentCompositionMetadata:c}=y.useContext(br),u=l?.type==="composition"?l.compositionId:null,h=r??u,p=s.find(S=>S.id===h),g=y.useMemo(()=>p?i[p.id]??{}:{},[i,p]),x=ct();return y.useMemo(()=>p?c?{type:"success",result:{...c,id:p.id,defaultProps:p.defaultProps??{}}}:rh(p)?n[p.id]?n[p.id]:null:(Pc(p.durationInFrames,{allowFloats:!1,component:`in <Composition id="${p.id}">`}),Hs(p.fps,`in <Composition id="${p.id}">`),Fs(p.width,"width",`in <Composition id="${p.id}">`),Fs(p.height,"height",`in <Composition id="${p.id}">`),{type:"success",result:{width:p.width,height:p.height,fps:p.fps,id:p.id,durationInFrames:p.durationInFrames,defaultProps:p.defaultProps??{},props:{...p.defaultProps??{},...g??{},...typeof window>"u"||x.isPlayer?{}:eh()??{}},defaultCodec:null,defaultOutName:null,defaultVideoImageFormat:null,defaultPixelFormat:null}}):null,[p,n,c,g,x.isPlayer])},qs=()=>{const{canvasContent:r,compositions:n,currentCompositionMetadata:i}=y.useContext(br),s=n.find(c=>r?.type==="composition"&&c.id===r.compositionId),l=Tc(s?.id??null);return y.useMemo(()=>!l||l.type==="error"||l.type==="loading"||!s?null:{...l.result,defaultProps:s.defaultProps??{},id:s.id,...i??{},component:s.component},[i,l,s])},Dt=y.createContext({frame:{},playing:!1,playbackRate:1,rootId:"",imperativePlaying:{current:!1},setPlaybackRate:()=>{throw new Error("default")},audioAndVideoTags:{current:[]}}),lo=y.createContext({setFrame:()=>{throw new Error("default")},setPlaying:()=>{throw new Error("default")}}),Ic=()=>"remotion.time-all",sh=r=>{localStorage.setItem(Ic(),JSON.stringify(r))},ah=()=>{const r=localStorage.getItem(Ic())??"{}";return JSON.parse(r)},lh=r=>{const n=localStorage.getItem(Ic())??"{}",i=JSON.parse(n);return i[r]!==void 0?Number(i[r]):typeof window>"u"?0:window.remotion_initialFrame??0},Xn=()=>{const r=qs(),n=y.useContext(Dt),i=ct();if(!r)return typeof window>"u"?0:window.remotion_initialFrame??0;const s=n.frame[r.id]??(i.isPlayer?0:lh(r.id));return Math.min(r.durationInFrames-1,s)},ch=()=>{const{setFrame:r}=y.useContext(lo);return r},uh=()=>{const{playing:r,imperativePlaying:n}=y.useContext(Dt),{setPlaying:i}=y.useContext(lo);return y.useMemo(()=>[r,i,n],[n,r,i])},kr=y.createContext(!1),cc=({children:r})=>d.jsx(kr.Provider,{value:!0,children:r}),Ys=()=>{const r=y.useContext(Je),n=r?.width??null,i=r?.height??null,s=r?.durationInFrames??null,l=qs();return y.useMemo(()=>{if(!l)return null;const{id:c,durationInFrames:u,fps:h,height:p,width:g,defaultProps:x,props:S,defaultCodec:v,defaultOutName:k,defaultVideoImageFormat:w,defaultPixelFormat:b}=l;return{id:c,width:n??g,height:i??p,fps:h,durationInFrames:s??u,defaultProps:x,props:S,defaultCodec:v,defaultOutName:k,defaultVideoImageFormat:w,defaultPixelFormat:b}},[s,i,n,l])},Me=()=>{const r=Ys(),n=y.useContext(kr),i=Rc();if(!r)throw typeof window<"u"&&window.remotion_isPlayer||i?new Error(["No video config found. Likely reasons:","- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.","- You have multiple versions of Remotion installed which causes the React context to get lost."].join("-")):new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.");if(!n)throw new Error("Called useVideoConfig() outside a Remotion composition.");return r},Te=()=>{const r=y.useContext(kr),n=ct();if(!r)throw n.isPlayer?new Error("useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples"):new Error("useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions");const i=Xn(),s=y.useContext(Je),l=s?s.cumulatedFrom+s.relativeFrom:0;return i-l},wg=({frame:r,children:n,active:i=!0})=>{const s=Te(),l=Me();if(typeof r>"u")throw new Error("The <Freeze /> component requires a 'frame' prop, but none was passed.");if(typeof r!="number")throw new Error(`The 'frame' prop of <Freeze /> must be a number, but is of type ${typeof r}`);if(Number.isNaN(r))throw new Error("The 'frame' prop of <Freeze /> must be a real number, but it is NaN.");if(!Number.isFinite(r))throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${r}.`);const c=y.useMemo(()=>{if(typeof i=="boolean")return i;if(typeof i=="function")return i(s)},[i,s]),u=y.useContext(Dt),h=y.useContext(Je),p=h?.relativeFrom??0,g=y.useMemo(()=>c?{...u,playing:!1,imperativePlaying:{current:!1},frame:{[l.id]:r+p}}:u,[c,u,l.id,r,p]),x=y.useMemo(()=>h?{...h,relativeFrom:0,cumulatedFrom:0}:null,[h]);return d.jsx(Dt.Provider,{value:g,children:d.jsx(Je.Provider,{value:x,children:n})})},bg=({from:r=0,durationInFrames:n=1/0,children:i,name:s,height:l,width:c,showInTimeline:u=!0,_remotionInternalLoopDisplay:h,_remotionInternalStack:p,_remotionInternalPremountDisplay:g,_remotionInternalPostmountDisplay:x,...S},v)=>{const{layout:k="absolute-fill"}=S,[w]=y.useState(()=>String(Math.random())),b=y.useContext(Je),{rootId:C}=y.useContext(Dt),E=b?b.cumulatedFrom+b.relativeFrom:0,R=Mc();if(k!=="absolute-fill"&&k!=="none")throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${k}`);if(k==="none"&&typeof S.style<"u")throw new TypeError('If layout="none", you may not pass a style.');if(typeof n!="number")throw new TypeError(`You passed to durationInFrames an argument of type ${typeof n}, but it must be a number.`);if(n<=0)throw new TypeError(`durationInFrames must be positive, but got ${n}`);if(typeof r!="number")throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof r}, but it must be a number.`);if(!Number.isFinite(r))throw new TypeError(`The "from" prop of a sequence must be finite, but got ${r}.`);const j=Xn(),$=Me(),P=b?Math.min(b.durationInFrames-r,n):n,M=Math.max(0,Math.min($.durationInFrames-r,P)),{registerSequence:z,unregisterSequence:V}=y.useContext(so),{hidden:U}=y.useContext(ai),H=y.useMemo(()=>b?.premounting||!!S._remotionInternalIsPremounting,[S._remotionInternalIsPremounting,b?.premounting]),Z=y.useMemo(()=>b?.postmounting||!!S._remotionInternalIsPostmounting,[S._remotionInternalIsPostmounting,b?.postmounting]),ee=y.useMemo(()=>({cumulatedFrom:E,relativeFrom:r,durationInFrames:M,parentFrom:b?.relativeFrom??0,id:w,height:l??b?.height??null,width:c??b?.width??null,premounting:H,postmounting:Z,premountDisplay:g??null,postmountDisplay:x??null}),[E,r,M,b,w,l,c,H,Z,g,x]),Y=y.useMemo(()=>s??"",[s]),X=ct();y.useEffect(()=>{if(X.isStudio)return z({from:r,duration:M,id:w,displayName:Y,parent:b?.id??null,type:"sequence",rootId:C,showInTimeline:u,nonce:R,loopDisplay:h,stack:p??null,premountDisplay:g??null,postmountDisplay:x??null}),()=>{V(w)}},[n,w,s,z,Y,V,b?.id,M,C,r,u,R,h,p,g,x,X.isStudio]);const ne=Math.ceil(E+r+n-1),ae=j<E+r||j>ne?null:i,oe=S.layout==="none"?void 0:S.style,B=y.useMemo(()=>({flexDirection:void 0,...c?{width:c}:{},...l?{height:l}:{},...oe??{}}),[l,oe,c]);if(v!==null&&k==="none")throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');return U[w]??!1?null:d.jsx(Je.Provider,{value:ee,children:ae===null?null:S.layout==="none"?ae:d.jsx(Fe,{ref:v,style:B,className:S.className,children:ae})})},kg=y.forwardRef(bg),Sg=(r,n)=>{const i=Te();if(r.layout==="none")throw new Error('`<Sequence>` with `premountFor` and `postmountFor` props does not support layout="none"');const{style:s,from:l=0,durationInFrames:c=1/0,premountFor:u=0,postmountFor:h=0,styleWhilePremounted:p,styleWhilePostmounted:g,...x}=r,S=Math.ceil(l+c-1),v=i<l&&i>=l-u,k=i>S&&i<=S+h,w=v?l:k?l+c-1:0,b=v||k,C=y.useMemo(()=>({...s,opacity:v||k?0:1,pointerEvents:v||k?"none":s?.pointerEvents??void 0,...v?p:{},...k?g:{}}),[s,v,k,p,g]);return d.jsx(wg,{frame:w,active:b,children:d.jsx(Gn,{ref:n,from:l,durationInFrames:c,style:C,_remotionInternalPremountDisplay:u,_remotionInternalPostmountDisplay:h,_remotionInternalIsPremounting:v,_remotionInternalIsPostmounting:k,...x})})},Cg=y.forwardRef(Sg),Eg=(r,n)=>{const i=ct();return r.layout!=="none"&&!i.isRendering&&(r.premountFor||r.postmountFor)?d.jsx(Cg,{...r,ref:n}):d.jsx(kg,{...r,ref:n})},Gn=y.forwardRef(Eg),_g=r=>r instanceof Error?!0:!(r===null||typeof r!="object"||!("stack"in r)||typeof r.stack!="string"||!("message"in r)||typeof r.message!="string");function wr(r){let n;throw _g(r)?(n=r,n.stack||(n.stack=new Error(n.message).stack)):typeof r=="string"?n=Error(r):n=Error("Rendering was cancelled"),window.remotion_cancelledError=n.stack,n}var $g=["trace","verbose","info","warn","error"],tp=r=>$g.indexOf(r),Qs=(r,n)=>tp(r)<=tp(n),li=({args:r,logLevel:n,tag:i})=>{const s=[...r];return en().isRendering&&!en().isClientSideRendering&&s.unshift(Symbol.for(`__remotion_level_${n}`)),i&&en().isRendering&&!en().isClientSideRendering&&s.unshift(Symbol.for(`__remotion_tag_${i}`)),s},jg=(r,...n)=>{if(Qs(r.logLevel,"verbose"))return console.debug(...li({args:n,logLevel:"verbose",tag:r.tag}))},Rg=(r,...n)=>{if(Qs(r.logLevel,"trace"))return console.debug(...li({args:n,logLevel:"trace",tag:r.tag}))},Mg=(r,...n)=>{if(Qs(r.logLevel,"info"))return console.log(...li({args:n,logLevel:"info",tag:r.tag}))},Pg=(r,...n)=>{if(Qs(r.logLevel,"warn"))return console.warn(...li({args:n,logLevel:"warn",tag:r.tag}))},Tg=(r,...n)=>console.error(...li({args:n,logLevel:"error",tag:r.tag})),ln={trace:Rg,verbose:jg,info:Mg,warn:Pg,error:Tg};typeof window<"u"&&(window.remotion_renderReady=!1);var js=[];typeof window<"u"&&(window.remotion_delayRenderTimeouts={});var Ig="The delayRender was called:",Fg="Retries left: ",Ag="- Rendering the frame will be retried.",zg="handle was cleared after",np=3e4,Lg=(r,n,i)=>{if(typeof n!="string"&&typeof n<"u")throw new Error("The label parameter of delayRender() must be a string or undefined, got: "+JSON.stringify(n));const s=Math.random();js.push(s);const l=Error().stack?.replace(/^Error/g,"")??"";if(r.isRendering){const c=(i?.timeoutInMilliseconds??(typeof window>"u"?np:window.remotion_puppeteerTimeout??np))-2e3;if(typeof window<"u"){const u=(i?.retries??0)-(window.remotion_attempt-1);window.remotion_delayRenderTimeouts[s]={label:n??null,startTime:Date.now(),timeout:setTimeout(()=>{const h=["A delayRender()",n?`"${n}"`:null,`was called but not cleared after ${c}ms. See https://remotion.dev/docs/timeout for help.`,u>0?Fg+u:null,u>0?Ag:null,Ig,l].filter(si).join(" ");wr(Error(h))},c)}}}return typeof window<"u"&&(window.remotion_renderReady=!1),s},Ng=(r,n)=>{if(typeof r>"u")throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");if(typeof r!="number")throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: "+JSON.stringify(r));js=js.filter(i=>{if(i===r){if(n.isRendering){if(!window.remotion_delayRenderTimeouts[r])return!1;const{label:s,startTime:l,timeout:c}=window.remotion_delayRenderTimeouts[r];clearTimeout(c);const u=[s?`"${s}"`:"A handle",zg,`${Date.now()-l}ms`].filter(si).join(" ");ln.verbose({logLevel:window.remotion_logLevel,tag:"delayRender()"},u),delete window.remotion_delayRenderTimeouts[r]}return!1}return!0}),js.length===0&&typeof window<"u"&&(window.remotion_renderReady=!0)},Jn=()=>{const r=ct(),n=y.useCallback((s,l)=>Lg(r,s,l),[r]),i=y.useCallback(s=>{Ng(s,r)},[r]);return{delayRender:n,continueRender:i}},Dg=(r,n,i)=>{switch(r){case"fill":return[0,0,n.width,n.height,0,0,i.width,i.height];case"contain":{const s=Math.min(i.width/n.width,i.height/n.height),l=(i.width-n.width*s)/2,c=(i.height-n.height*s)/2;return[0,0,n.width,n.height,l,c,n.width*s,n.height*s]}case"cover":{const s=Math.max(i.width/n.width,i.height/n.height),l=(i.width-n.width*s)/2,c=(i.height-n.height*s)/2;return[0,0,n.width,n.height,l,c,n.width*s,n.height*s]}default:throw new Error("Unknown fit: "+r)}},Og=({width:r,height:n,fit:i,className:s,style:l},c)=>{const u=y.useRef(null),h=y.useCallback(p=>{const g=u.current,x=r??p.displayWidth,S=n??p.displayHeight;if(!g)throw new Error("Canvas ref is not set");const v=u.current?.getContext("2d");if(!v)throw new Error("Could not get 2d context");g.width=x,g.height=S,v.drawImage(p,...Dg(i,{height:p.displayHeight,width:p.displayWidth},{width:x,height:S}))},[i,n,r]);return y.useImperativeHandle(c,()=>({draw:h,getCanvas:()=>{if(!u.current)throw new Error("Canvas ref is not set");return u.current},clear:()=>{const p=u.current?.getContext("2d");if(!p)throw new Error("Could not get 2d context");p.clearRect(0,0,u.current.width,u.current.height)}}),[h]),d.jsx("canvas",{ref:u,className:s,style:l})},Vg=Ce.forwardRef(Og),Bg=5,rp=({loopBehavior:r,durationFound:n,timeInSec:i})=>r==="loop"?n?i%n:i:Math.min(i,n||1/0),Wg=async({resolvedSrc:r,signal:n,currentTime:i,initialLoopBehavior:s})=>{if(typeof ImageDecoder>"u")throw new Error("Your browser does not support the WebCodecs ImageDecoder API.");const l=await fetch(r,{signal:n}),{body:c}=l;if(!c)throw new Error("Got no body");const u=new ImageDecoder({data:c,type:l.headers.get("Content-Type")||"image/gif"});await u.completed;const{selectedTrack:h}=u.tracks;if(!h)throw new Error("No selected track");const p=[];let g=null;const x=async w=>{const b=p.find(E=>E.frameIndex===w);if(b&&b.frame)return b;const C=await u.decode({frameIndex:w,completeFramesOnly:!0});return b?b.frame=C.image:p.push({frame:C.image,frameIndex:w,timeInSeconds:C.image.timestamp/1e6}),{frame:C.image,frameIndex:w,timeInSeconds:C.image.timestamp/1e6}},S=w=>{const C=p.filter(E=>E.frame).sort((E,R)=>{const j=Math.abs(E.timeInSeconds-w),$=Math.abs(R.timeInSeconds-w);return j-$});for(let E=0;E<C.length;E++){if(E<Bg)continue;const R=C[E];R.frame=null}},v=async({timeInSec:w,loopBehavior:b})=>{const C=rp({durationFound:g,loopBehavior:b,timeInSec:w}),R=p.filter($=>$.timeInSeconds<=C).map($=>$.frameIndex).reduce(($,P)=>Math.max($,P),0);let j=R;for(;;){const $=await x(j);if(j++,!$.frame)throw new Error("No frame found");if(!$.frame.duration||(j===h.frameCount&&g===null&&(g=($.frame.timestamp+$.frame.duration)/1e6),$.timeInSeconds>C||j===h.frameCount))break}h.frameCount-R<3&&b==="loop"&&await x(0),S(C)};return await v({timeInSec:i,loopBehavior:s}),await v({timeInSec:i,loopBehavior:s}),{getFrame:async(w,b)=>{if(g!==null&&w>g&&b==="clear-after-finish")return null;const C=rp({loopBehavior:b,durationFound:g,timeInSec:w});await v({timeInSec:C,loopBehavior:b});const R=p.filter(j=>j.frame).reduce((j,$)=>{const P=Math.abs(j.timeInSeconds-C),M=Math.abs($.timeInSeconds-C);return P<M?j:$});if(!R.frame)throw new Error("No frame found");return R},frameCount:h.frameCount}},Hg=r=>typeof window>"u"?r:new URL(r,window.origin).href;y.forwardRef(({src:r,width:n,height:i,onError:s,loopBehavior:l="loop",playbackRate:c=1,fit:u="fill",...h},p)=>{const g=y.useRef({isMounted:!0});y.useEffect(()=>{const{current:M}=g;return M.isMounted=!0,()=>{M.isMounted=!1}},[]);const x=Hg(r),[S,v]=y.useState(null),{delayRender:k,continueRender:w}=Jn(),[b]=y.useState(()=>k(`Rendering <AnimatedImage/> with src="${x}"`)),C=Te(),{fps:E}=Me(),R=C/c/E,j=y.useRef(R);j.current=R;const $=y.useRef(null);y.useImperativeHandle(p,()=>{const M=$.current?.getCanvas();if(!M)throw new Error("Canvas ref is not set");return M},[]);const[P]=y.useState(()=>l);return y.useEffect(()=>{const M=new AbortController;return Wg({resolvedSrc:x,signal:M.signal,currentTime:j.current,initialLoopBehavior:P}).then(z=>{v(z),w(b)}).catch(z=>{if(z.name==="AbortError"){w(b);return}s?(s?.(z),w(b)):wr(z)}),()=>{M.abort()}},[x,b,s,P,w]),y.useLayoutEffect(()=>{if(!S)return;const M=k(`Rendering frame at ${R} of <AnimatedImage src="${r}"/>`);S.getFrame(R,l).then(z=>{g.current.isMounted&&(z===null?$.current?.clear():$.current?.draw(z.frame)),w(M)}).catch(z=>{s?(s(z),w(M)):wr(z)})},[R,S,l,s,r,w,k]),d.jsx(Vg,{ref:$,width:n,height:i,fit:u,...h})});var Ug=r=>{if(typeof r!="string")throw new TypeError(`The "filename" must be a string, but you passed a value of type ${typeof r}`);if(r.trim()==="")throw new Error("The `filename` must not be empty");if(!r.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g))throw new Error('The `filename` must match "/^([0-9a-zA-Z-!_.*\'()/:&$@=;+,?]+)/g". Use forward slashes only, even on Windows.')},qg=r=>{if(typeof r!="string"&&!(r instanceof Uint8Array))throw new TypeError(`The "content" must be a string or Uint8Array, but you passed a value of type ${typeof r}`);if(typeof r=="string"&&r.trim()==="")throw new Error("The `content` must not be empty")},dh=r=>{r.type==="artifact"&&(Ug(r.filename),r.contentType!=="thumbnail"&&qg(r.content))},Sr=y.createContext({registerRenderAsset:()=>{},unregisterRenderAsset:()=>{},renderAssets:[]}),Yg=({children:r})=>{const[n,i]=y.useState([]),s=y.useCallback(u=>{dh(u),i(h=>[...h,u])},[]),l=y.useCallback(u=>{i(h=>h.filter(p=>p.id!==u))},[]);y.useLayoutEffect(()=>{typeof window<"u"&&(window.remotion_collectAssets=()=>(i([]),n))},[n]);const c=y.useMemo(()=>({registerRenderAsset:s,unregisterRenderAsset:l,renderAssets:n}),[n,s,l]);return d.jsx(Sr.Provider,{value:c,children:r})},un=r=>typeof window>"u"||r.startsWith("http://")||r.startsWith("https://")||r.startsWith("file://")||r.startsWith("blob:")||r.startsWith("data:")?r:new URL(r,window.origin).href,Gs=({trimAfter:r,mediaDurationInFrames:n,playbackRate:i,trimBefore:s})=>{let l=n;typeof r<"u"&&(l=r),typeof s<"u"&&(l-=s);const c=l/i;return Math.floor(c)},fh=y.createContext(null),Qg=()=>Ce.useContext(fh),Ks=({durationInFrames:r,times:n=1/0,children:i,name:s,...l})=>{const c=Te(),{durationInFrames:u}=Me();if(Pc(r,{component:"of the <Loop /> component",allowFloats:!0}),typeof n!="number")throw new TypeError(`You passed to "times" an argument of type ${typeof n}, but it must be a number.`);if(n!==1/0&&n%1!==0)throw new TypeError(`The "times" prop of a loop must be an integer, but got ${n}.`);if(n<0)throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${n}`);const h=Math.ceil(u/r),p=Math.min(h,n),g=l.layout==="none"?void 0:l.style,x=r*(p-1),v=Math.floor(c/r)*r,k=Math.min(v,x),w=y.useMemo(()=>({numberOfTimes:p,startOffset:-k,durationInFrames:r}),[p,r,k]),b=y.useMemo(()=>({iteration:Math.floor(c/r),durationInFrames:r}),[c,r]);return d.jsx(fh.Provider,{value:b,children:d.jsx(Gn,{durationInFrames:r,from:k,name:s??"<Loop>",_remotionInternalLoopDisplay:w,layout:l.layout,style:g,children:i})})};Ks.useLoop=Qg;var lt=({logLevel:r,tag:n,message:i,mountTime:s})=>{const l=[s?Date.now()-s+"ms ":null,n].filter(Boolean).join(" ");ln.trace({logLevel:r,tag:null},`[${l}]`,i)},Xs=y.createContext({}),op={},ql=[],ph=({children:r})=>{const[n,i]=y.useState(()=>op);return y.useEffect(()=>{const s=()=>{i(op)};return ql.push(s),()=>{ql=ql.filter(l=>l!==s)}},[]),d.jsx(Xs.Provider,{value:n,children:r})},hh=r=>{const n=r.indexOf("#");return n===-1?null:n},Gg=r=>{const n=hh(r);return n===null?r:r.slice(0,n)},co=r=>{const n=y.useContext(Xs),i=hh(r),s=Gg(r);return n[s]?i!==null?n[s]+r.slice(i):n[s]:r},Js=(r,n)=>{if(typeof r.volume!="number"&&typeof r.volume!="function"&&typeof r.volume<"u")throw new TypeError(`You have passed a volume of type ${typeof r.volume} to your <${n} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);if(typeof r.volume=="number"&&r.volume<0)throw new TypeError(`You have passed a volume below 0 to your <${n} /> component. Volume must be between 0 and 1`);if(typeof r.playbackRate!="number"&&typeof r.playbackRate<"u")throw new TypeError(`You have passed a playbackRate of type ${typeof r.playbackRate} to your <${n} /> component. Playback rate must a real number or undefined.`);if(typeof r.playbackRate=="number"&&(isNaN(r.playbackRate)||!Number.isFinite(r.playbackRate)||r.playbackRate<=0))throw new TypeError(`You have passed a playbackRate of ${r.playbackRate} to your <${n} /> component. Playback rate must be a real number above 0.`)},Kg=(r,n)=>{if(typeof r<"u"){if(typeof r!="number")throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof r}.`);if(isNaN(r)||r===1/0)throw new TypeError("startFrom prop can not be NaN or Infinity.");if(r<0)throw new TypeError(`startFrom must be greater than equal to 0 instead got ${r}.`)}if(typeof n<"u"){if(typeof n!="number")throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof n}.`);if(isNaN(n))throw new TypeError("endAt prop can not be NaN.");if(n<=0)throw new TypeError(`endAt must be a positive number, instead got ${n}.`)}if(n<r)throw new TypeError("endAt prop must be greater than startFrom prop.")},Xg=(r,n)=>{if(typeof r<"u"){if(typeof r!="number")throw new TypeError(`type of trimBefore prop must be a number, instead got type ${typeof r}.`);if(isNaN(r)||r===1/0)throw new TypeError("trimBefore prop can not be NaN or Infinity.");if(r<0)throw new TypeError(`trimBefore must be greater than equal to 0 instead got ${r}.`)}if(typeof n<"u"){if(typeof n!="number")throw new TypeError(`type of trimAfter prop must be a number, instead got type ${typeof n}.`);if(isNaN(n))throw new TypeError("trimAfter prop can not be NaN.");if(n<=0)throw new TypeError(`trimAfter must be a positive number, instead got ${n}.`)}if(n<r)throw new TypeError("trimAfter prop must be greater than trimBefore prop.")},Zs=({startFrom:r,endAt:n,trimBefore:i,trimAfter:s})=>{if(typeof r<"u"&&typeof i<"u")throw new TypeError("Cannot use both startFrom and trimBefore props. Use trimBefore instead as startFrom is deprecated.");if(typeof n<"u"&&typeof s<"u")throw new TypeError("Cannot use both endAt and trimAfter props. Use trimAfter instead as endAt is deprecated.");typeof i<"u"||typeof s<"u"?Xg(i,s):(typeof r<"u"||typeof n<"u")&&Kg(r,n)},ea=({startFrom:r,endAt:n,trimBefore:i,trimAfter:s})=>({trimBeforeValue:i??r??void 0,trimAfterValue:s??n??void 0}),Jg=(r,n)=>{switch(n.type){case"got-duration":{const i=un(n.src);return r[i]===n.durationInSeconds?r:{...r,[i]:n.durationInSeconds}}default:return r}},Fc=y.createContext({durations:{},setDurations:()=>{throw new Error("context missing")}}),mh=({children:r})=>{const[n,i]=y.useReducer(Jg,{}),s=y.useMemo(()=>({durations:n,setDurations:i}),[n]);return d.jsx(Fc.Provider,{value:s,children:r})},Ac=({crossOrigin:r,requestsVideoFrame:n})=>{if(r!=null)return r;if(n)return"anonymous"},Cr=y.createContext({logLevel:"info",mountTime:0}),Er=()=>{const{logLevel:r}=y.useContext(Cr);if(r===null)throw new Error("useLogLevel must be used within a LogLevelProvider");return r},ci=()=>{const{mountTime:r}=y.useContext(Cr);if(r===null)throw new Error("useMountTime must be used within a LogLevelProvider");return r};function ip(r){let n=r+1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}function Zg(r){let n=0,i=0,s=0;for(n=0;n<r.length;n++)i=r.charCodeAt(n),s=(s<<5)-s+i,s|=0;return s}var _r=(r,n)=>{if(r===null)return Math.random();if(typeof r=="string")return ip(Zg(r));if(typeof r=="number")return ip(r*1e10);throw new Error("random() argument must be a number or a string")},As=({mediaRef:r,mediaType:n,onAutoPlayError:i,logLevel:s,mountTime:l,reason:c,isPlayer:u})=>{const{current:h}=r;if(!h)return;lt({logLevel:s,tag:"play",message:`Attempting to play ${h.src}. Reason: ${c}`,mountTime:l});const p=h.play();p.catch&&p.catch(g=>{if(h&&!g.message.includes("request was interrupted by a call to pause")&&!g.message.includes("The operation was aborted.")&&!g.message.includes("The fetching process for the media resource was aborted by the user agent")&&!g.message.includes("request was interrupted by a new load request")&&!g.message.includes("because the media was removed from the document")&&!(g.message.includes("user didn't interact with the document")&&h.muted)&&(console.log(`Could not play ${n} due to following error: `,g),!h.muted)){if(i){i();return}console.log("The video will be muted and we'll retry playing it."),n==="video"&&u&&console.log("Use onAutoPlayError() to handle this error yourself."),h.muted=!0,h.play()}})},zc=({audioContext:r,ref:n})=>{let i=null;return{attemptToConnect:()=>{!i&&n.current&&(i=r.createMediaElementSource(n.current))},get:()=>{if(!i)throw new Error("Audio element not connected");return i}}},sp=!1,ey=r=>{sp||(sp=!0,typeof window<"u"&&ln.warn({logLevel:r,tag:null},"AudioContext is not supported in this browser"))},ty=(r,n)=>y.useMemo(()=>typeof AudioContext>"u"?(ey(r),null):new AudioContext({latencyHint:n}),[r,n]),ap="data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",ny=(r,n)=>{const i=Object.keys(r).sort(),s=Object.keys(n).sort();if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l]!==s[l]||r[i[l]]!==n[s[l]])return!1;return!0},ry=(r,n,i)=>r==="src"&&!i.startsWith("data:")&&!n.startsWith("data:")?new URL(i,window.origin).toString()!==new URL(n,window.origin).toString():i!==n,$r=y.createContext(null),gh=({children:r,numberOfAudioTags:n,component:i,audioLatencyHint:s})=>{const l=y.useRef([]),[c]=y.useState(n);if(n!==c)throw new Error("The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.");const u=Er(),h=ty(u,s),p=y.useMemo(()=>new Array(n).fill(!0).map(()=>{const j=y.createRef();return{id:Math.random(),ref:j,mediaElementSourceNode:h?zc({audioContext:h,ref:j}):null}}),[h,n]),g=y.useRef(new Array(n).fill(!1)),x=y.useCallback(()=>{p.forEach(({ref:j,id:$})=>{const P=l.current?.find(z=>z.id===$),{current:M}=j;if(M){if(P===void 0){M.src=ap;return}if(!P)throw new TypeError("Expected audio data to be there");Object.keys(P.props).forEach(z=>{ry(z,P.props[z],M[z])&&(M[z]=P.props[z])})}})},[p]),S=y.useCallback(j=>{const{aud:$,audioId:P,premounting:M}=j,z=l.current?.find(X=>X.audioId===P);if(z)return z;const V=g.current.findIndex(X=>X===!1);if(V===-1)throw new Error(`Tried to simultaneously mount ${n+1} <Html5Audio /> tags at the same time. With the current settings, the maximum amount of <Html5Audio /> tags is limited to ${n} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);const{id:U,ref:H,mediaElementSourceNode:Z}=p[V],ee=[...g.current];ee[V]=U,g.current=ee;const Y={props:$,id:U,el:H,audioId:P,mediaElementSourceNode:Z,premounting:M};return l.current?.push(Y),x(),Y},[n,p,x]),v=y.useCallback(j=>{const $=[...g.current],P=p.findIndex(M=>M.id===j);if(P===-1)throw new TypeError("Error occured in ");$[P]=!1,g.current=$,l.current=l.current?.filter(M=>M.id!==j),x()},[p,x]),k=y.useCallback(({aud:j,audioId:$,id:P,premounting:M})=>{let z=!1;l.current=l.current?.map(V=>V.id===P?ny(j,V.props)&&V.premounting===M?V:(z=!0,{...V,props:j,premounting:M,audioId:$}):V),z&&x()},[x]),w=ci(),b=ct(),C=y.useCallback(()=>{p.forEach(j=>{l.current.find(P=>P.el===j.ref)?.premounting||As({mediaRef:j.ref,mediaType:"audio",onAutoPlayError:null,logLevel:u,mountTime:w,reason:"playing all audios",isPlayer:b.isPlayer})}),h?.resume()},[h,u,w,p,b.isPlayer]),E=y.useMemo(()=>({registerAudio:S,unregisterAudio:v,updateAudio:k,playAllAudios:C,numberOfAudioTags:n,audioContext:h}),[n,C,S,v,k,h]),R=y.useCallback(()=>{g.current=new Array(n).fill(!1),l.current=[],x()},[n,x]);return y.useEffect(()=>()=>{R()},[i,R]),d.jsxs($r.Provider,{value:E,children:[p.map(({id:j,ref:$})=>d.jsx("audio",{ref:$,preload:"metadata",src:ap},j)),r]})},oy=({aud:r,audioId:n,premounting:i})=>{const s=y.useContext($r),[l]=y.useState(()=>{if(s&&s.numberOfAudioTags>0)return s.registerAudio({aud:r,audioId:n,premounting:i});const u=Ce.createRef(),h=s?.audioContext?zc({audioContext:s.audioContext,ref:u}):null;return{el:u,id:Math.random(),props:r,audioId:n,mediaElementSourceNode:h,premounting:i}}),c=Ce.useInsertionEffect??Ce.useLayoutEffect;return typeof document<"u"&&(c(()=>{s&&s.numberOfAudioTags>0&&s.updateAudio({id:l.id,aud:r,audioId:n,premounting:i})},[r,s,l.id,n,i]),c(()=>()=>{s&&s.numberOfAudioTags>0&&s.unregisterAudio(l.id)},[s,l.id])),l},iy=1e-5,zs=(r,n)=>Math.abs(r-n)<iy,yh=(r,n)=>Math.round(r/n*100)/100,uc=()=>typeof window>"u"||!/AppleWebKit/.test(window.navigator.userAgent)?!1:!window.navigator.userAgent.includes("Chrome/"),ta=()=>typeof window>"u"?!1:/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&uc(),sy=r=>ta()&&r.startsWith("blob:"),dc=({actualFrom:r,fps:n})=>yh(Math.max(0,-r),n),fc=({duration:r,fps:n})=>yh(r,n),ay=({actualSrc:r,actualFrom:n,duration:i,fps:s})=>{if(sy(r)||r.startsWith("data:")||!!new URL(r,(typeof window>"u"?null:window.location.href)??"http://localhost:3000").hash||!Number.isFinite(n))return r;const c=`${r}#t=${dc({actualFrom:n,fps:s})}`;return Number.isFinite(i)?`${c},${fc({duration:i,fps:s})}`:c},ly=({prevStartFrom:r,newStartFrom:n,prevDuration:i,newDuration:s,fps:l})=>{const c=dc({actualFrom:r,fps:l}),u=dc({actualFrom:n,fps:l}),h=fc({duration:i,fps:l}),p=fc({duration:s,fps:l});return!(u<c||p>h)},cy=({actualSrc:r,actualFrom:n,duration:i,fps:s})=>{const l=y.useRef(n),c=y.useRef(i),u=y.useRef(r);return(!ly({prevStartFrom:l.current,newStartFrom:n,prevDuration:c.current,newDuration:i,fps:s})||r!==u.current)&&(l.current=n,c.current=i,u.current=r),ay({actualSrc:u.current,actualFrom:l.current,duration:c.current,fps:s})},lp=!1,uy=r=>{lp||(lp=!0,ln.warn({logLevel:r,tag:null},"In Safari, setting a volume and a playback rate at the same time is buggy."),ln.warn({logLevel:r,tag:null},"In Desktop Safari, only volumes <= 1 will be applied."),ln.warn({logLevel:r,tag:null},r,"In Mobile Safari, the volume will be ignored and set to 1 if a playbackRate is set."))},vh=({mediaRef:r,volume:n,logLevel:i,source:s,shouldUseWebAudioApi:l})=>{const c=y.useRef(null),u=y.useRef(n);u.current=n;const h=y.useContext($r);if(!h)throw new Error("useAmplification must be used within a SharedAudioContext");const{audioContext:p}=h;if(typeof window<"u"&&y.useLayoutEffect(()=>{if(!p||!r.current||!l)return;if(r.current.playbackRate!==1&&uc()){uy(i);return}if(!s)return;const S=new GainNode(p,{gain:u.current});return s.attemptToConnect(),s.get().connect(S),S.connect(p.destination),c.current={gainNode:S},ln.trace({logLevel:i,tag:null},`Starting to amplify ${r.current?.src}. Gain = ${u.current}, playbackRate = ${r.current?.playbackRate}`),()=>{c.current=null,S.disconnect(),s.get().disconnect()}},[i,r,p,s,l]),c.current){const S=n;zs(c.current.gainNode.gain.value,S)||(c.current.gainNode.gain.value=S,ln.trace({logLevel:i,tag:null},`Setting gain to ${S} for ${r.current?.src}`))}return(uc()&&r.current&&r.current?.playbackRate!==1||!l)&&r.current&&!zs(n,r.current?.volume)&&(r.current.volume=Math.min(n,1)),c},jr=()=>{const r=y.useContext(Je);return Math.min(0,r?.relativeFrom??0)},uo=r=>{const n=Ks.useLoop(),i=Te(),s=jr();return r==="repeat"||n===null?i+s:i+s+n.durationInFrames*n.iteration},dy=r=>{if(/data:|blob:/.test(r.substring(0,5)))return"Data URL";const n=r.split("/").map(i=>i.split("\\")).flat(1);return n[n.length-1]},Rr=({frame:r,volume:n,mediaVolume:i=1})=>{if(typeof n=="number")return n*i;if(typeof n>"u")return Number(i);const s=n(r)*i;if(typeof s!="number")throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof s} for frame ${r}`);if(Number.isNaN(s))throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${r}.`);if(!Number.isFinite(s))throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${r}.`);return Math.max(0,s)},cp={},fy=r=>{cp[r]||(console.warn(r),cp[r]=!0)},xh=({volume:r,mediaVolume:n,mediaType:i,src:s,displayName:l,trimBefore:c,trimAfter:u,playbackRate:h})=>{if(!s)throw new Error("No src passed");const p=jr(),g=y.useContext(Je),x=Me(),[S]=y.useState(()=>r),v=Gs({mediaDurationInFrames:x.durationInFrames,playbackRate:h,trimBefore:c,trimAfter:u}),k=g?Math.min(g.durationInFrames,v):v,w=y.useMemo(()=>typeof r=="number"?r:new Array(Math.floor(Math.max(0,k+p))).fill(!0).map((j,$)=>Rr({frame:$+p,volume:r,mediaVolume:n})).join(","),[k,p,r,n]);y.useEffect(()=>{typeof r=="number"&&r!==S&&fy(`Remotion: The ${i} with src ${s} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/audio/volume`)},[S,i,s,r]);const b=typeof r=="function",C=Mc(),{rootId:E}=y.useContext(Dt),R=ct();return{volumes:w,duration:k,doesVolumeChange:b,nonce:C,rootId:E,isStudio:R.isStudio,finalDisplayName:l??dy(s)}},Lc=({volume:r,mediaVolume:n,src:i,mediaType:s,playbackRate:l,displayName:c,id:u,stack:h,showInTimeline:p,premountDisplay:g,postmountDisplay:x,loopDisplay:S})=>{const v=y.useContext(Je),k=jr(),{registerSequence:w,unregisterSequence:b}=y.useContext(so),{volumes:C,duration:E,doesVolumeChange:R,nonce:j,rootId:$,isStudio:P,finalDisplayName:M}=xh({volume:r,mediaVolume:n,mediaType:s,src:i,displayName:c,trimAfter:void 0,trimBefore:void 0,playbackRate:l});y.useEffect(()=>{if(!i)throw new Error("No src passed");if(!(!P&&window.process?.env?.NODE_ENV!=="test")&&p)return w({type:s,src:i,id:u,duration:E,from:0,parent:v?.id??null,displayName:M,rootId:$,volume:C,showInTimeline:!0,nonce:j,startMediaFrom:0-k,doesVolumeChange:R,loopDisplay:S,playbackRate:l,stack:h,premountDisplay:g,postmountDisplay:x}),()=>{b(u)}},[E,u,v,i,w,b,C,R,j,s,k,l,h,p,g,x,P,S,$,M])},py=(r,n)=>{const[i,s]=y.useState([]),[l,c]=y.useState([]),[u,h]=y.useState([]),p=y.useRef(!1),g=y.useCallback(v=>(s(k=>[...k,v]),{unblock:()=>{s(k=>{const w=k.filter(b=>b!==v);return w.length===k.length?k:w})}}),[]),x=y.useCallback(v=>(c(k=>[...k,v]),{remove:()=>{c(k=>k.filter(w=>w!==v))}}),[]),S=y.useCallback(v=>(h(k=>[...k,v]),{remove:()=>{h(k=>k.filter(w=>w!==v))}}),[]);return y.useEffect(()=>{i.length>0&&(l.forEach(v=>v()),lt({logLevel:r,message:"Player is entering buffer state",mountTime:n,tag:"player"}))},[i]),typeof window<"u"&&y.useLayoutEffect(()=>{i.length===0&&(u.forEach(v=>v()),lt({logLevel:r,message:"Player is exiting buffer state",mountTime:n,tag:"player"}))},[i]),y.useMemo(()=>({addBlock:g,listenForBuffering:x,listenForResume:S,buffering:p}),[g,p,x,S])},fo=Ce.createContext(null),wh=({children:r})=>{const{logLevel:n,mountTime:i}=y.useContext(Cr),s=py(n??"info",i);return d.jsx(fo.Provider,{value:s,children:r})},hy=r=>{const[n,i]=y.useState(r.buffering.current);return y.useEffect(()=>{const s=()=>{i(!0)},l=()=>{i(!1)};return r.listenForBuffering(s),r.listenForResume(l),()=>{r.listenForBuffering(()=>{}),r.listenForResume(()=>{})}},[r]),n},Nc=()=>{const r=y.useContext(fo),n=r?r.addBlock:null;return y.useMemo(()=>({delayPlayback:()=>{if(!n)throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");const{unblock:i}=n({id:String(Math.random())});return{unblock:i}}}),[n])},my=()=>/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),gy=({mediaRef:r,mediaType:n,onVariableFpsVideoDetected:i,pauseWhenBuffering:s,logLevel:l,mountTime:c})=>{const u=y.useRef(!1),{delayPlayback:h}=Nc(),p=y.useCallback(g=>{if(n!=="video"||!s)return;const x=r.current;if(!x)return;if(x.readyState>=x.HAVE_FUTURE_DATA&&!my()){lt({logLevel:l,message:`Not using buffer until first frame, because readyState is ${x.readyState} and is not Safari or Desktop Chrome`,mountTime:c,tag:"buffer"});return}if(!x.requestVideoFrameCallback){lt({logLevel:l,message:"Not using buffer until first frame, because requestVideoFrameCallback is not supported",mountTime:c,tag:"buffer"});return}u.current=!0,lt({logLevel:l,message:`Buffering ${r.current?.src} until the first frame is received`,mountTime:c,tag:"buffer"});const S=h(),v=()=>{S.unblock(),x.removeEventListener("ended",v,{once:!0}),x.removeEventListener("pause",v,{once:!0}),u.current=!1},k=()=>{v()};x.requestVideoFrameCallback((w,b)=>{Math.abs(b.mediaTime-g)>.5&&i(),v()}),x.addEventListener("ended",k,{once:!0}),x.addEventListener("pause",k,{once:!0}),x.addEventListener("canplay",k,{once:!0})},[h,l,r,n,c,i,s]);return y.useMemo(()=>({isBuffering:()=>u.current,bufferUntilFirstFrame:p}),[p])},yy=r=>{const n=Ce.useRef({time:r.current?.currentTime??0,lastUpdate:performance.now()}),i=r.current?.currentTime??null;return i!==null&&n.current.time!==i&&(n.current.time=i,n.current.lastUpdate=performance.now()),n},Rs=({mediaRef:r,time:n,logLevel:i,why:s,mountTime:l})=>{const c=ta()?Number(n.toFixed(1)):n;return lt({logLevel:i,tag:"seek",message:`Seeking from ${r.currentTime} to ${c}. src= ${r.src} Reason: ${s}`,mountTime:l}),r.currentTime=c,c},vy=({element:r,shouldBuffer:n,isPremounting:i,isPostmounting:s,logLevel:l,mountTime:c,src:u})=>{const h=Nc(),[p,g]=y.useState(!1);return y.useEffect(()=>{let x=[];const{current:S}=r;if(!S||!n)return;if(i||s){if((i||s)&&S.readyState<S.HAVE_FUTURE_DATA&&!navigator.userAgent.includes("Firefox/")){lt({logLevel:l,message:`Calling .load() on ${S.src} because readyState is ${S.readyState} and it is not Firefox. Element is premounted ${S.playbackRate}`,tag:"load",mountTime:c});const b=S.playbackRate;S.load(),S.playbackRate=b}return}const v=b=>{let C=!1;x.forEach(E=>{E(b),C=!0}),x=[],g(E=>(E&&(C=!0),!1)),C&&lt({logLevel:l,message:`Unmarking as buffering: ${S.src}. Reason: ${b}`,tag:"buffer",mountTime:c})},k=b=>{g(!0),lt({logLevel:l,message:`Marking as buffering: ${S.src}. Reason: ${b}`,tag:"buffer",mountTime:c});const{unblock:C}=h.delayPlayback(),E=()=>{v('"canplay" was fired'),w()},R=()=>{v('"error" event was occurred'),w()};S.addEventListener("canplay",E,{once:!0}),x.push(()=>{S.removeEventListener("canplay",E)}),S.addEventListener("error",R,{once:!0}),x.push(()=>{S.removeEventListener("error",R)}),x.push(j=>{lt({logLevel:l,message:`Unblocking ${S.src} from buffer. Reason: ${j}`,tag:"buffer",mountTime:c}),C()})},w=()=>{if(S.readyState<S.HAVE_FUTURE_DATA){if(k(`readyState is ${S.readyState}, which is less than HAVE_FUTURE_DATA`),!navigator.userAgent.includes("Firefox/")){lt({logLevel:l,message:`Calling .load() on ${u} because readyState is ${S.readyState} and it is not Firefox. ${S.playbackRate}`,tag:"load",mountTime:c});const b=S.playbackRate;S.load(),S.playbackRate=b}}else{const b=()=>{k('"waiting" event was fired')};S.addEventListener("waiting",b),x.push(()=>{S.removeEventListener("waiting",b)})}};return w(),()=>{v("element was unmounted or prop changed")}},[h,u,r,i,s,l,n,c]),p},xy=({mediaRef:r,mediaType:n,lastSeek:i,onVariableFpsVideoDetected:s})=>{const l=y.useRef(null);return y.useEffect(()=>{const{current:c}=r;if(c)l.current={time:c.currentTime,lastUpdate:performance.now()};else{l.current=null;return}if(n!=="video"){l.current=null;return}const u=c;if(!u.requestVideoFrameCallback)return;let h=()=>{};const p=()=>{if(!u)return;const g=u.requestVideoFrameCallback((x,S)=>{if(l.current!==null){const v=Math.abs(l.current.time-S.mediaTime),k=Math.abs(i.current===null?1/0:S.mediaTime-i.current);v>.5&&k>.5&&S.mediaTime>l.current.time&&s()}l.current={time:S.mediaTime,lastUpdate:performance.now()},p()});h=()=>{u.cancelVideoFrameCallback(g),h=()=>{}}};return p(),()=>{h()}},[i,r,n,s]),l};function wy(r,n,i,s){const{extrapolateLeft:l,extrapolateRight:c,easing:u}=s;let h=r;const[p,g]=n,[x,S]=i;if(h<p){if(l==="identity")return h;if(l==="clamp")h=p;else if(l==="wrap"){const v=g-p;h=((h-p)%v+v)%v+p}}if(h>g){if(c==="identity")return h;if(c==="clamp")h=g;else if(c==="wrap"){const v=g-p;h=((h-p)%v+v)%v+p}}return x===S?x:(h=(h-p)/(g-p),h=u(h),h=h*(S-x)+x,h)}function by(r,n){let i;for(i=1;i<n.length-1&&!(n[i]>=r);++i);return i-1}function ky(r){for(let n=1;n<r.length;++n)if(!(r[n]>r[n-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${r.join(",")}]`)}function up(r,n){if(n.length<2)throw new Error(r+" must have at least 2 elements");for(const i of n){if(typeof i!="number")throw new Error(`${r} must contain only numbers`);if(!Number.isFinite(i))throw new Error(`${r} must contain only finite numbers, but got [${n.join(",")}]`)}}function te(r,n,i,s){if(typeof r>"u")throw new Error("input can not be undefined");if(typeof n>"u")throw new Error("inputRange can not be undefined");if(typeof i>"u")throw new Error("outputRange can not be undefined");if(n.length!==i.length)throw new Error("inputRange ("+n.length+") and outputRange ("+i.length+") must have the same length");up("inputRange",n),up("outputRange",i),ky(n);const l=s?.easing??(p=>p);let c="extend";s?.extrapolateLeft!==void 0&&(c=s.extrapolateLeft);let u="extend";if(s?.extrapolateRight!==void 0&&(u=s.extrapolateRight),typeof r!="number")throw new TypeError("Cannot interpolate an input which is not a number");const h=by(r,n);return wy(r,[n[h],n[h+1]],[i[h],i[h+1]],{easing:l,extrapolateLeft:c,extrapolateRight:u})}var bh=({frame:r,playbackRate:n,startFrom:i})=>te(r,[-1,i,i+1],[-1,i,i+n]),kh=({fps:r,frame:n,playbackRate:i,startFrom:s})=>{const l=bh({frame:n,playbackRate:i,startFrom:s}),c=1e3/r;return l*c/1e3},dp={},Sy=(r,n)=>{if(r===null||r.seekable.length===0||r.seekable.length>1||dp[r.src])return;const i={start:r.seekable.start(0),end:r.seekable.end(0)};if(i.start===0&&i.end===0){const s=[`The media ${r.src} cannot be seeked. This could be one of few reasons:`,"1) The media resource was replaced while the video is playing but it was not loaded yet.","2) The media does not support seeking.","3) The media was loaded with security headers prventing it from being included.","Please see https://remotion.dev/docs/non-seekable-media for assistance."].join(`
`);if(n==="console-error")console.error(s);else if(n==="console-warning")console.warn(`The media ${r.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`);else throw new Error(s);dp[r.src]=!0}},Sh=({mediaRef:r,src:n,mediaType:i,playbackRate:s,onlyWarnForMediaSeekingError:l,acceptableTimeshift:c,pauseWhenBuffering:u,isPremounting:h,isPostmounting:p,onAutoPlayError:g})=>{const{playbackRate:x}=y.useContext(Dt),S=Te(),v=Xn(),[k]=uh(),w=y.useContext(fo),{fps:b}=Me(),C=jr(),E=y.useRef(null),R=y.useRef(null),j=Er(),$=ci();if(!w)throw new Error("useMediaPlayback must be used inside a <BufferingContext>");const P=y.useRef({}),M=y.useCallback(()=>{n&&(P.current[n]||(ln.verbose({logLevel:j,tag:null},`Detected ${n} as a variable FPS video. Disabling buffering while seeking.`),P.current[n]=!0))},[j,n]),z=xy({mediaRef:r,mediaType:i,lastSeek:R,onVariableFpsVideoDetected:M}),V=yy(r),U=kh({frame:S,playbackRate:s,startFrom:-C,fps:b}),H=vy({element:r,shouldBuffer:u,isPremounting:h,isPostmounting:p,logLevel:j,mountTime:$,src:n??null}),{bufferUntilFirstFrame:Z,isBuffering:ee}=gy({mediaRef:r,mediaType:i,onVariableFpsVideoDetected:M,pauseWhenBuffering:u,logLevel:j,mountTime:$}),Y=s*x,X=r.current?.duration?Math.min(r.current.duration,c??.65):c??.65,ne=hy(w);y.useEffect(()=>{if(r.current?.paused)return;if(!k){lt({logLevel:j,tag:"pause",message:`Pausing ${r.current?.src} because ${h?"media is premounting":p?"media is postmounting":"Player is not playing"}`,mountTime:$}),r.current?.pause();return}const oe=H||ee();w.buffering.current&&!oe&&(lt({logLevel:j,tag:"pause",message:`Pausing ${r.current?.src} because player is buffering but media tag is not`,mountTime:$}),r.current?.pause())},[ee,H,w,ne,h,j,r,i,$,k,p]);const ae=ct();y.useLayoutEffect(()=>{const oe=Math.max(0,Y);r.current&&r.current.playbackRate!==oe&&(r.current.playbackRate=oe)},[r,Y]),y.useEffect(()=>{const oe=i==="audio"?"<Html5Audio>":"<Html5Video>";if(!r.current)throw new Error(`No ${i} ref found`);if(!n)throw new Error(`No 'src' attribute was passed to the ${oe} element.`);const{duration:B}=r.current,ie=!Number.isNaN(B)&&Number.isFinite(B)?Math.min(B,U):U,G=V.current.time,F=z.current?.time??null,D=P.current[n],ce=Math.abs(ie-G),se=F?Math.abs(ie-F):null,fe=z.current?.lastUpdate&&z.current.time>V.current.lastUpdate?se:ce,he=se&&!D?fe:ce;if(he>X&&E.current!==ie){R.current=Rs({mediaRef:r.current,time:ie,logLevel:j,why:`because time shift is too big. shouldBeTime = ${ie}, isTime = ${G}, requestVideoCallbackTime = ${F}, timeShift = ${he}${D?", isVariableFpsVideo = true":""}, isPremounting = ${h}, isPostmounting = ${p}, pauseWhenBuffering = ${u}`,mountTime:$}),E.current=R.current,k&&(Y>0&&Z(ie),r.current.paused&&As({mediaRef:r,mediaType:i,onAutoPlayError:g,logLevel:j,mountTime:$,reason:"player is playing but media tag is paused, and just seeked",isPlayer:ae.isPlayer})),l||Sy(r.current,l?"console-warning":"console-error");return}const Se=k?.15:.01,ke=Math.abs(r.current.currentTime-ie)>Se,Ee=H||ee(),ze=w.buffering.current&&!Ee;if(!k||ze){ke&&(R.current=Rs({mediaRef:r.current,time:ie,logLevel:j,why:`not playing or something else is buffering. time offset is over seek threshold (${Se})`,mountTime:$}));return}if(!k||w.buffering.current)return;const ut=r.current.paused&&!r.current.ended;if(ut||v===0){const pt=ut?"media tag is paused":"absolute frame is 0";ke&&(R.current=Rs({mediaRef:r.current,time:ie,logLevel:j,why:`is over timeshift threshold (threshold = ${Se}) and ${pt}`,mountTime:$})),As({mediaRef:r,mediaType:i,onAutoPlayError:g,logLevel:j,mountTime:$,reason:`player is playing and ${pt}`,isPlayer:ae.isPlayer}),!D&&Y>0&&Z(ie)}},[v,X,Z,w.buffering,z,j,U,ee,H,r,i,l,Y,k,n,g,h,p,u,$,V,ae.isPlayer])},Ch=({mediaRef:r,id:n,mediaType:i,onAutoPlayError:s,isPremounting:l,isPostmounting:c})=>{const{audioAndVideoTags:u,imperativePlaying:h}=y.useContext(Dt),p=Er(),g=ci(),x=ct();y.useEffect(()=>{const S={id:n,play:v=>{if(h.current&&!(l||c))return As({mediaRef:r,mediaType:i,onAutoPlayError:s,logLevel:p,mountTime:g,reason:v,isPlayer:x.isPlayer})}};return u.current.push(S),()=>{u.current=u.current.filter(v=>v.id!==n)}},[u,n,r,i,s,h,l,c,p,g,x.isPlayer])},Dc=y.createContext({mediaMuted:!1,mediaVolume:1}),Oc=y.createContext({setMediaMuted:()=>{throw new Error("default")},setMediaVolume:()=>{throw new Error("default")}}),Vc=()=>{const{mediaVolume:r}=y.useContext(Dc),{setMediaVolume:n}=y.useContext(Oc);return y.useMemo(()=>[r,n],[r,n])},Bc=()=>{const{mediaMuted:r}=y.useContext(Dc),{setMediaMuted:n}=y.useContext(Oc);return y.useMemo(()=>[r,n],[r,n])},po=r=>{if(r>=100)throw new Error(`Volume was set to ${r}, but regular volume is 1, not 100. Did you forget to divide by 100? Set a volume of less than 100 to dismiss this error.`)},Cy=(r,n)=>{const[i]=y.useState(r.shouldPreMountAudioTags);if(r.shouldPreMountAudioTags!==i)throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");const s=Er(),{volume:l,muted:c,playbackRate:u,shouldPreMountAudioTags:h,src:p,onDuration:g,acceptableTimeShiftInSeconds:x,_remotionInternalNeedsDurationCalculation:S,_remotionInternalNativeLoopPassed:v,_remotionInternalStack:k,allowAmplificationDuringRender:w,name:b,pauseWhenBuffering:C,showInTimeline:E,loopVolumeCurveBehavior:R,stack:j,crossOrigin:$,delayRenderRetries:P,delayRenderTimeoutInMilliseconds:M,toneFrequency:z,useWebAudioApi:V,onError:U,onNativeError:H,audioStreamIndex:Z,...ee}=r,[Y]=Vc(),[X]=Bc(),ne=uo(R??"repeat"),{hidden:ae}=y.useContext(ai);if(!p)throw new TypeError("No 'src' was passed to <Html5Audio>.");const oe=co(p),B=y.useContext(Je),[ie]=y.useState(()=>String(Math.random())),G=ae[ie]??!1,F=Rr({frame:ne,volume:l,mediaVolume:Y});po(F);const D=Ac({crossOrigin:$,requestsVideoFrame:!1}),ce=y.useMemo(()=>({muted:c||X||G||F<=0,src:oe,loop:v,crossOrigin:D,...ee}),[v,G,X,c,ee,oe,F,D]),se=y.useMemo(()=>`audio-${_r(p??"")}-${B?.relativeFrom}-${B?.cumulatedFrom}-${B?.durationInFrames}-muted:${r.muted}-loop:${r.loop}`,[p,B?.relativeFrom,B?.cumulatedFrom,B?.durationInFrames,r.muted,r.loop]);if(!y.useContext($r))throw new Error("SharedAudioContext not found");const{el:he,mediaElementSourceNode:Se}=oy({aud:ce,audioId:se,premounting:!!B?.premounting});Lc({volume:l,mediaVolume:Y,src:p,mediaType:"audio",playbackRate:u??1,displayName:b??null,id:ie,stack:k,showInTimeline:E,premountDisplay:B?.premountDisplay??null,postmountDisplay:B?.postmountDisplay??null,loopDisplay:void 0}),Sh({mediaRef:he,src:p,mediaType:"audio",playbackRate:u??1,onlyWarnForMediaSeekingError:!1,acceptableTimeshift:x??null,isPremounting:!!B?.premounting,isPostmounting:!!B?.postmounting,pauseWhenBuffering:C,onAutoPlayError:null}),Ch({id:ie,isPostmounting:!!B?.postmounting,isPremounting:!!B?.premounting,mediaRef:he,mediaType:"audio",onAutoPlayError:null}),vh({logLevel:s,mediaRef:he,source:Se,volume:F,shouldUseWebAudioApi:V??!1}),y.useImperativeHandle(n,()=>he.current,[he]);const ke=y.useRef(g);return ke.current=g,y.useEffect(()=>{const{current:Ee}=he;if(!Ee)return;if(Ee.duration){ke.current?.(Ee.src,Ee.duration);return}const ze=()=>{ke.current?.(Ee.src,Ee.duration)};return Ee.addEventListener("loadedmetadata",ze),()=>{Ee.removeEventListener("loadedmetadata",ze)}},[he,p]),i?null:d.jsx("audio",{ref:he,preload:"metadata",crossOrigin:D,...ce})},Eh=y.forwardRef(Cy),Ey=(r,n)=>{const i=y.useRef(null),{volume:s,playbackRate:l,allowAmplificationDuringRender:c,onDuration:u,toneFrequency:h,_remotionInternalNeedsDurationCalculation:p,_remotionInternalNativeLoopPassed:g,acceptableTimeShiftInSeconds:x,name:S,onNativeError:v,delayRenderRetries:k,delayRenderTimeoutInMilliseconds:w,loopVolumeCurveBehavior:b,pauseWhenBuffering:C,audioStreamIndex:E,...R}=r,j=Xn(),$=uo(b??"repeat"),P=Te(),M=y.useContext(Je),{registerRenderAsset:z,unregisterRenderAsset:V}=y.useContext(Sr),{delayRender:U,continueRender:H}=Jn(),Z=y.useMemo(()=>`audio-${_r(r.src??"")}-${M?.relativeFrom}-${M?.cumulatedFrom}-${M?.durationInFrames}`,[r.src,M?.relativeFrom,M?.cumulatedFrom,M?.durationInFrames]),ee=Rr({volume:s,frame:$,mediaVolume:1});po(ee),y.useImperativeHandle(n,()=>i.current,[]),y.useEffect(()=>{if(!r.src)throw new Error("No src passed");if(window.remotion_audioEnabled&&!r.muted&&!(ee<=0))return z({type:"audio",src:un(r.src),id:Z,frame:j,volume:ee,mediaFrame:P,playbackRate:r.playbackRate??1,toneFrequency:h??1,audioStartFrame:Math.max(0,-(M?.relativeFrom??0)),audioStreamIndex:E??0}),()=>V(Z)},[r.muted,r.src,z,j,Z,V,ee,$,P,l,r.playbackRate,h,M?.relativeFrom,E]);const{src:Y}=r,X=n||p;return y.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test"||!X)return;const ne=U("Loading <Html5Audio> duration with src="+Y,{retries:k??void 0,timeoutInMilliseconds:w??void 0}),{current:ae}=i,oe=()=>{ae?.duration&&u(ae.src,ae.duration),H(ne)};return ae?.duration?(u(ae.src,ae.duration),H(ne)):ae?.addEventListener("loadedmetadata",oe,{once:!0}),()=>{ae?.removeEventListener("loadedmetadata",oe),H(ne)}},[Y,u,X,k,w,H,U]),X?d.jsx("audio",{ref:i,...R,onError:v}):null},_y=y.forwardRef(Ey),$y=(r,n)=>{const i=y.useContext($r),{startFrom:s,endAt:l,trimBefore:c,trimAfter:u,name:h,stack:p,pauseWhenBuffering:g,showInTimeline:x,onError:S,...v}=r,{loop:k,...w}=r,{fps:b}=Me(),C=ct(),{durations:E,setDurations:R}=y.useContext(Fc);if(typeof r.src!="string")throw new TypeError(`The \`<Html5Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(r.src)} instead.`);const j=co(r.src),$=y.useCallback(U=>{console.log(U.currentTarget.error);const H=`Could not play audio with src ${j}: ${U.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;if(k){if(S){S(new Error(H));return}wr(new Error(H))}else S?.(new Error(H)),console.warn(H)},[k,S,j]),P=y.useCallback((U,H)=>{R({type:"got-duration",durationInSeconds:H,src:U})},[R]),M=E[un(j)]??E[un(r.src)];Zs({startFrom:s,endAt:l,trimBefore:c,trimAfter:u});const{trimBeforeValue:z,trimAfterValue:V}=ea({startFrom:s,endAt:l,trimBefore:c,trimAfter:u});if(k&&M!==void 0){if(!Number.isFinite(M))return d.jsx(Ms,{...w,ref:n,_remotionInternalNativeLoopPassed:!0});const U=M*b;return d.jsx(Ks,{layout:"none",durationInFrames:Gs({trimAfter:V,mediaDurationInFrames:U,playbackRate:r.playbackRate??1,trimBefore:z}),children:d.jsx(Ms,{...w,ref:n,_remotionInternalNativeLoopPassed:!0})})}return typeof z<"u"||typeof V<"u"?d.jsx(Gn,{layout:"none",from:0-(z??0),showInTimeline:!1,durationInFrames:V,name:h,children:d.jsx(Ms,{_remotionInternalNeedsDurationCalculation:!!k,pauseWhenBuffering:g??!1,...v,ref:n})}):(Js({playbackRate:r.playbackRate,volume:r.volume},"Html5Audio"),C.isRendering?d.jsx(_y,{onDuration:P,...r,ref:n,onNativeError:$,_remotionInternalNeedsDurationCalculation:!!k}):d.jsx(Eh,{_remotionInternalNativeLoopPassed:r._remotionInternalNativeLoopPassed??!1,_remotionInternalStack:p??null,shouldPreMountAudioTags:i!==null&&i.numberOfAudioTags>0,...r,ref:n,onNativeError:$,onDuration:P,pauseWhenBuffering:g??!1,_remotionInternalNeedsDurationCalculation:!!k,showInTimeline:x??!0}))},Ms=y.forwardRef($y);io(Ms);var jy=y.createContext({folderName:null,parentName:null}),Ry={transform:"rotate(90deg)"},fp=40,My={color:"white",fontSize:14,fontFamily:"sans-serif"},Py={justifyContent:"center",alignItems:"center"},Ty=()=>d.jsxs(Fe,{style:Py,id:"remotion-comp-loading",children:[d.jsx("style",{type:"text/css",children:`
				@keyframes anim {
					from {
						opacity: 0
					}
					to {
						opacity: 1
					}
				}
				#remotion-comp-loading {
					animation: anim 2s;
					animation-fill-mode: forwards;
				}
			`}),d.jsx("svg",{width:fp,height:fp,viewBox:"-100 -100 400 400",style:Ry,children:d.jsx("path",{fill:"#555",stroke:"#555",strokeWidth:"100",strokeLinejoin:"round",d:"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z"})}),d.jsxs("p",{style:My,children:["Resolving ","<Suspense>","..."]})]}),$t=null,pc=()=>{if(!$t){if(typeof document>"u")throw new Error("Tried to call an API that only works in the browser from outside the browser");$t=document.createElement("div"),$t.style.position="absolute",$t.style.top="0px",$t.style.left="0px",$t.style.right="0px",$t.style.bottom="0px",$t.style.width="100%",$t.style.height="100%",$t.style.display="flex",$t.style.flexDirection="column";const r=document.createElement("div");r.style.position="fixed",r.style.top="-999999px",r.appendChild($t),document.body.appendChild(r)}return $t},_h=({compProps:r,componentName:n,noSuspense:i})=>y.useMemo(()=>{if("component"in r){if(typeof document>"u"||i)return r.component;if(typeof r.component>"u")throw new Error(`A value of \`undefined\` was passed to the \`component\` prop. Check the value you are passing to the <${n}/> component.`);return Ce.lazy(()=>Promise.resolve({default:r.component}))}if("lazyComponent"in r&&typeof r.lazyComponent<"u"){if(typeof r.lazyComponent>"u")throw new Error(`A value of \`undefined\` was passed to the \`lazyComponent\` prop. Check the value you are passing to the <${n}/> component.`);return Ce.lazy(r.lazyComponent)}throw new Error("You must pass either 'component' or 'lazyComponent'")},[r.component,r.lazyComponent]),$h=()=>/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g,jh=r=>r.match($h()),Iy=r=>{if(!jh(r))throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${r}`)},Fy=`Composition ID must match ${String($h())}`,Ay=(r,n,i)=>{if(r){if(typeof r!="object")throw new Error(`"${n}" must be an object, but you passed a value of type ${typeof r}`);if(Array.isArray(r))throw new Error(`"${n}" must be an object, an array was passed ${i?`for composition "${i}"`:""}`)}},zy=()=>{const{continueRender:r,delayRender:n}=Jn();return y.useEffect(()=>{const i=n("Waiting for Root component to unsuspend");return()=>r(i)},[r,n]),null},Ly=({width:r,height:n,fps:i,durationInFrames:s,id:l,defaultProps:c,schema:u,...h})=>{const p=y.useContext(Bs),{registerComposition:g,unregisterComposition:x}=p,S=qs(),v=_h({compProps:h,componentName:"Composition",noSuspense:!1}),k=Mc(),w=Rc(),b=ct(),C=y.useContext(kr);if(typeof window<"u"&&(window.remotion_seenCompositionIds=Array.from(new Set([...window.remotion_seenCompositionIds??[],l]))),C)throw w?new Error("<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help."):new Error("<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.");const{folderName:E,parentName:R}=y.useContext(jy);y.useEffect(()=>{if(!l)throw new Error("No id for composition passed.");return Iy(l),Ay(c,"defaultProps",l),g({durationInFrames:s??void 0,fps:i??void 0,height:n??void 0,width:r??void 0,id:l,folderName:E,component:v,defaultProps:yr(c??{}),nonce:k,parentFolderName:R,schema:u??null,calculateMetadata:h.calculateMetadata??null}),()=>{x(l)}},[s,i,n,v,l,E,c,r,k,R,u,h.calculateMetadata,g,x]),y.useEffect(()=>{window.dispatchEvent(new CustomEvent(oh,{detail:{resetUnsaved:l}}))},[c,l]);const j=Tc(l);if(b.isStudio&&S&&S.component===v){const $=v;return j===null||j.type!=="success"&&j.type!=="success-and-refreshing"?null:Qf.createPortal(d.jsx(cc,{children:d.jsx(y.Suspense,{fallback:d.jsx(Ty,{}),children:d.jsx($,{...j.result.props??{}})})}),pc())}if(b.isRendering&&S&&S.component===v){const $=v;return j===null||j.type!=="success"&&j.type!=="success-and-refreshing"?null:Qf.createPortal(d.jsx(cc,{children:d.jsx(y.Suspense,{fallback:d.jsx(zy,{}),children:d.jsx($,{...j.result.props??{}})})}),pc())}return null},pp=r=>{const{onlyRenderComposition:n}=y.useContext(Bs);return n&&n!==r.id?null:d.jsx(Ly,{...r})},Ny=4,Dy=.001,Oy=1e-7,Vy=10,ri=11,Ss=1/(ri-1),By=typeof Float32Array=="function";function Rh(r,n){return 1-3*n+3*r}function Mh(r,n){return 3*n-6*r}function Ph(r){return 3*r}function Ls(r,n,i){return((Rh(n,i)*r+Mh(n,i))*r+Ph(n))*r}function Th(r,n,i){return 3*Rh(n,i)*r*r+2*Mh(n,i)*r+Ph(n)}function Wy({aX:r,_aA:n,_aB:i,mX1:s,mX2:l}){let c,u,h=0,p=n,g=i;do u=p+(g-p)/2,c=Ls(u,s,l)-r,c>0?g=u:p=u;while(Math.abs(c)>Oy&&++h<Vy);return u}function Hy(r,n,i,s){let l=n;for(let c=0;c<Ny;++c){const u=Th(l,i,s);if(u===0)return l;const h=Ls(l,i,s)-r;l-=h/u}return l}function Uy(r,n,i,s){if(!(r>=0&&r<=1&&i>=0&&i<=1))throw new Error("bezier x values must be in [0, 1] range");const l=By?new Float32Array(ri):new Array(ri);if(r!==n||i!==s)for(let u=0;u<ri;++u)l[u]=Ls(u*Ss,r,i);function c(u){let h=0,p=1;const g=ri-1;for(;p!==g&&l[p]<=u;++p)h+=Ss;--p;const x=(u-l[p])/(l[p+1]-l[p]),S=h+x*Ss,v=Th(S,r,i);return v>=Dy?Hy(u,S,r,i):v===0?S:Wy({aX:u,_aA:h,_aB:h+Ss,mX1:r,mX2:i})}return function(u){return r===n&&i===s?u:u===0?0:u===1?1:Ls(c(u),n,s)}}class re{static step0(n){return n>0?1:0}static step1(n){return n>=1?1:0}static linear(n){return n}static ease(n){return re.bezier(.42,0,1,1)(n)}static quad(n){return n*n}static cubic(n){return n*n*n}static poly(n){return i=>i**n}static sin(n){return 1-Math.cos(n*Math.PI/2)}static circle(n){return 1-Math.sqrt(1-n*n)}static exp(n){return 2**(10*(n-1))}static elastic(n=1){const i=n*Math.PI;return s=>1-Math.cos(s*Math.PI/2)**3*Math.cos(s*i)}static back(n=1.70158){return i=>i*i*((n+1)*i-n)}static bounce(n){if(n<1/2.75)return 7.5625*n*n;if(n<2/2.75){const s=n-.5454545454545454;return 7.5625*s*s+.75}if(n<2.5/2.75){const s=n-.8181818181818182;return 7.5625*s*s+.9375}const i=n-2.625/2.75;return 7.5625*i*i+.984375}static bezier(n,i,s,l){return Uy(n,i,s,l)}static in(n){return n}static out(n){return i=>1-n(1-i)}static inOut(n){return i=>i<.5?n(i*2)/2:1-n((1-i)*2)/2}}var qy=({onLoad:r,onError:n,delayRenderRetries:i,delayRenderTimeoutInMilliseconds:s,...l},c)=>{const{delayRender:u,continueRender:h}=Jn(),[p]=y.useState(()=>u(`Loading <IFrame> with source ${l.src}`,{retries:i??void 0,timeoutInMilliseconds:s??void 0})),g=y.useCallback(S=>{h(p),r?.(S)},[p,r,h]),x=y.useCallback(S=>{h(p),n?n(S):console.error("Error loading iframe:",S,"Handle the event using the onError() prop to make this message disappear.")},[p,n,h]);return d.jsx("iframe",{...l,ref:c,onError:x,onLoad:g})};y.forwardRef(qy);function Yy(r){return 1e3*2**(r-1)}var Qy=({onError:r,maxRetries:n=2,src:i,pauseWhenLoading:s,delayRenderRetries:l,delayRenderTimeoutInMilliseconds:c,onImageFrame:u,crossOrigin:h,...p},g)=>{const x=y.useRef(null),S=y.useRef({}),{delayPlayback:v}=Nc(),k=y.useContext(Je);if(!i)throw new Error('No "src" prop was passed to <Img>.');y.useImperativeHandle(g,()=>x.current,[]);const w=co(i),b=y.useCallback($=>{if(!x.current)return;const P=x.current.src;setTimeout(()=>{if(!x.current)return;const M=x.current?.src;M===P&&(x.current.removeAttribute("src"),x.current.setAttribute("src",M))},$)},[]),C=y.useCallback($=>{if(S.current){if(S.current[x.current?.src]=(S.current[x.current?.src]??0)+1,r&&(S.current[x.current?.src]??0)>n){r($);return}if((S.current[x.current?.src]??0)<=n){const P=Yy(S.current[x.current?.src]??0);console.warn(`Could not load image with source ${x.current?.src}, retrying again in ${P}ms`),b(P);return}wr("Error loading image with src: "+x.current?.src)}},[n,r,b]),{delayRender:E,continueRender:R}=Jn();if(typeof window<"u"){const $=!!k?.premounting,P=!!k?.postmounting;y.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test"){x.current&&(x.current.src=w);return}const{current:M}=x;if(!M)return;const z=E("Loading <Img> with src="+w,{retries:l??void 0,timeoutInMilliseconds:c??void 0}),V=s&&!$&&!P?v().unblock:()=>{};let U=!1;const H=()=>{if(U){R(z);return}(S.current[x.current?.src]??0)>0&&(delete S.current[x.current?.src],console.info(`Retry successful - ${x.current?.src} is now loaded`)),M&&u?.(M),V(),requestAnimationFrame(()=>{R(z)})};if(!x.current){H();return}return M.src=w,M.complete?H():M.decode().then(H).catch(Z=>{console.warn(Z),M.complete?H():M.addEventListener("load",H)}),()=>{U=!0,M.removeEventListener("load",H),V(),R(z)}},[w,v,l,c,s,$,P,u,R,E])}const j=Ac({crossOrigin:h,requestsVideoFrame:!1});return d.jsx("img",{...p,ref:x,crossOrigin:j,onError:C})},Gy=y.forwardRef(Qy),Ih=Ce.createRef(),Ky=({children:r,numberOfAudioTags:n,onlyRenderComposition:i,currentCompositionMetadata:s,audioLatencyHint:l})=>{const[c,u]=y.useState([]),h=y.useRef(c),[p,g]=y.useState([]),[x,S]=y.useState(null),v=y.useCallback(P=>{u(M=>{const z=P(M);return h.current=z,z})},[]),k=y.useCallback(P=>{v(M=>{if(M.find(V=>V.id===P.id))throw new Error(`Multiple composition with id ${P.id} are registered.`);return[...M,P].slice().sort((V,U)=>V.nonce-U.nonce)})},[v]),w=y.useCallback(P=>{u(M=>M.filter(z=>z.id!==P))},[]),b=y.useCallback((P,M)=>{g(z=>[...z,{name:P,parent:M}])},[]),C=y.useCallback((P,M)=>{g(z=>z.filter(V=>!(V.name===P&&V.parent===M)))},[]);y.useImperativeHandle(Ih,()=>({getCompositions:()=>h.current}),[]);const E=c.find(P=>x?.type==="composition"?P.id===x.compositionId:null),R=y.useCallback((P,M)=>{u(z=>z.map(U=>U.id===P?{...U,defaultProps:M}:U))},[]),j=y.useMemo(()=>({compositions:c,folders:p,currentCompositionMetadata:s,canvasContent:x}),[c,p,s,x]),$=y.useMemo(()=>({registerComposition:k,unregisterComposition:w,registerFolder:b,unregisterFolder:C,setCanvasContent:S,updateCompositionDefaultProps:R,onlyRenderComposition:i}),[k,b,w,C,R,i]);return d.jsx(br.Provider,{value:j,children:d.jsx(Bs.Provider,{value:$,children:d.jsx(fg,{children:d.jsx(Yg,{children:d.jsx(ih,{children:d.jsx(gh,{numberOfAudioTags:n,component:E?.component??null,audioLatencyHint:l,children:r})})})})})})},Fh={};Wp(Fh,{makeDefaultPreviewCSS:()=>Jy,injectCSS:()=>Xy,OBJECTFIT_CONTAIN_CLASS_NAME:()=>oi});var hp={},Xy=r=>{if(typeof document>"u"||hp[r])return;const n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.appendChild(document.createTextNode(r)),n.prepend(i),hp[r]=!0},oi="__remotion_objectfitcontain",Jy=(r,n)=>r?`
    ${r} * {
      box-sizing: border-box;
    }
    ${r} *:-webkit-full-screen {
      width: 100%;
      height: 100%;
    }
    ${r} .${oi} {
      object-fit: contain;
    }
  `:`
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
	    background-color: ${n};
    }
    .${oi} {
      object-fit: contain;
    }
    `,Ah="__remotion-studio-container",Zy=()=>document.getElementById(Ah),ev=null,Yl=[],tv=()=>ev,nv=r=>(Yl.push(r),()=>{Yl=Yl.filter(n=>n!==r)}),Wc=y.createContext(null),rv=()=>{const r=y.useContext(Wc);return!r||r.videoEnabled===null?window.remotion_videoEnabled:r.videoEnabled},ov=()=>{const r=y.useContext(Wc);return!r||r.audioEnabled===null?window.remotion_audioEnabled:r.audioEnabled},iv=({children:r,videoEnabled:n,audioEnabled:i})=>{const s=y.useMemo(()=>({videoEnabled:n,audioEnabled:i}),[n,i]);return d.jsx(Wc.Provider,{value:s,children:r})},sv=({children:r,numberOfAudioTags:n,logLevel:i,onlyRenderComposition:s,currentCompositionMetadata:l,audioLatencyHint:c,videoEnabled:u,audioEnabled:h})=>{const[p]=y.useState(()=>String(_r(null))),[g,x]=y.useState(()=>ah()),[S,v]=y.useState(!1),k=y.useRef(!1),[w,b]=y.useState(0),[C,E]=y.useState(0),[R,j]=y.useState(1),$=y.useRef([]),{delayRender:P,continueRender:M}=Jn();typeof window<"u"&&y.useLayoutEffect(()=>{window.remotion_setFrame=(ee,Y,X)=>{window.remotion_attempt=X;const ne=P(`Setting the current frame to ${ee}`);let ae=!0;x(oe=>(oe[Y]??window.remotion_initialFrame)===ee?(ae=!1,oe):{...oe,[Y]:ee}),ae?requestAnimationFrame(()=>M(ne)):M(ne)},window.remotion_isPlayer=!1},[M,P]);const z=y.useMemo(()=>({frame:g,playing:S,imperativePlaying:k,rootId:p,playbackRate:R,setPlaybackRate:j,audioAndVideoTags:$}),[g,R,S,p]),V=y.useMemo(()=>({setFrame:x,setPlaying:v}),[]),U=y.useMemo(()=>{let ee=0;return{getNonce:()=>ee++,fastRefreshes:w,manualRefreshes:C}},[w,C]),H=y.useMemo(()=>({increaseManualRefreshes:()=>{E(ee=>ee+1)}}),[]);y.useEffect(()=>{typeof __webpack_module__<"u"&&__webpack_module__.hot&&__webpack_module__.hot.addStatusHandler(ee=>{ee==="idle"&&b(Y=>Y+1)})},[]);const Z=y.useMemo(()=>({logLevel:i,mountTime:Date.now()}),[i]);return d.jsx(Cr.Provider,{value:Z,children:d.jsx(ao.Provider,{value:U,children:d.jsx(Yp.Provider,{value:H,children:d.jsx(Dt.Provider,{value:z,children:d.jsx(lo.Provider,{value:V,children:d.jsx(iv,{videoEnabled:u,audioEnabled:h,children:d.jsx(Xp,{children:d.jsx(ph,{children:d.jsx(Ky,{numberOfAudioTags:n,onlyRenderComposition:s,currentCompositionMetadata:l,audioLatencyHint:c,children:d.jsx(mh,{children:d.jsx(wh,{children:r})})})})})})})})})})})},av=()=>{if(en().isRendering){const r=window.remotion_envVariables;return r?{...JSON.parse(r),NODE_ENV:"production"}:{}}return{NODE_ENV:"production"}},lv=()=>{const r=av();window.process||(window.process={}),window.process.env||(window.process.env={}),Object.keys(r).forEach(n=>{window.process.env[n]=r[n]})},cv=Ce.createContext(null),uv=y.createContext({setSize:()=>{},size:{size:"auto",translation:{x:0,y:0}}}),dv=({canvasSize:r,compositionHeight:n,compositionWidth:i,previewSize:s})=>{const l=r.height/n,c=r.width/i,u=Math.min(l,c);return s==="auto"?u===0?1:u:Number(s)},fv=({src:r,transparent:n,currentTime:i,toneMapped:s})=>`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(un(r))}&time=${encodeURIComponent(Math.max(0,i))}&transparent=${String(n)}&toneMapped=${String(s)}`,pv=({onError:r,volume:n,playbackRate:i,src:s,muted:l,allowAmplificationDuringRender:c,transparent:u,toneMapped:h,toneFrequency:p,name:g,loopVolumeCurveBehavior:x,delayRenderRetries:S,delayRenderTimeoutInMilliseconds:v,onVideoFrame:k,crossOrigin:w,audioStreamIndex:b,...C})=>{const E=Xn(),R=Te(),j=uo(x),$=Ys(),P=y.useContext(Je),M=jr(),{registerRenderAsset:z,unregisterRenderAsset:V}=y.useContext(Sr);if(!s)throw new TypeError("No `src` was passed to <OffthreadVideo>.");const U=y.useMemo(()=>`offthreadvideo-${_r(s)}-${P?.cumulatedFrom}-${P?.relativeFrom}-${P?.durationInFrames}`,[s,P?.cumulatedFrom,P?.relativeFrom,P?.durationInFrames]);if(!$)throw new Error("No video config found");const H=Rr({volume:n,frame:j,mediaVolume:1});po(H),y.useEffect(()=>{if(!s)throw new Error("No src passed");if(window.remotion_audioEnabled&&!l&&!(H<=0))return z({type:"video",src:un(s),id:U,frame:E,volume:H,mediaFrame:R,playbackRate:i,toneFrequency:p,audioStartFrame:Math.max(0,-(P?.relativeFrom??0)),audioStreamIndex:b}),()=>V(U)},[l,s,z,U,V,H,R,E,i,p,P?.relativeFrom,b]);const Z=y.useMemo(()=>bh({frame:R,playbackRate:i||1,startFrom:-M})/$.fps,[R,M,i,$.fps]),ee=y.useMemo(()=>fv({src:s,currentTime:Z,transparent:u,toneMapped:h}),[h,Z,s,u]),[Y,X]=y.useState(null),{delayRender:ne,continueRender:ae}=Jn();y.useLayoutEffect(()=>{if(!window.remotion_videoEnabled)return;const G=[];X(null);const F=new AbortController,D=ne(`Fetching ${ee} from server`,{retries:S??void 0,timeoutInMilliseconds:v??void 0});return(async()=>{try{const se=await fetch(ee,{signal:F.signal,cache:"no-store"});if(se.status!==200){if(se.status===500){const Se=await se.json();if(Se.error){const ke=Se.error.replace(/^Error: /,"");throw new Error(ke)}}throw new Error(`Server returned status ${se.status} while fetching ${ee}`)}const fe=await se.blob(),he=URL.createObjectURL(fe);G.push(()=>URL.revokeObjectURL(he)),X({src:he,handle:D})}catch(se){if(se.message.includes("aborted")){ae(D);return}if(F.signal.aborted){ae(D);return}se.message.includes("Failed to fetch")&&(se=new Error(`Failed to fetch ${ee}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`,{cause:se})),r?r(se):wr(se)}})(),G.push(()=>{F.signal.aborted||F.abort()}),()=>{G.forEach(se=>se())}},[ee,S,v,r,ae,ne]);const oe=y.useCallback(()=>{r?r?.(new Error("Failed to load image with src "+Y)):wr("Failed to load image with src "+Y)},[Y,r]),B=y.useMemo(()=>[oi,C.className].filter(si).join(" "),[C.className]),ie=y.useCallback(G=>{k&&k(G)},[k]);return!Y||!window.remotion_videoEnabled?null:(ae(Y.handle),d.jsx(Gy,{src:Y.src,delayRenderRetries:S,delayRenderTimeoutInMilliseconds:v,onImageFrame:ie,...C,onError:oe,className:B}))},hv=({ref:r,onVideoFrame:n})=>{y.useEffect(()=>{const{current:i}=r;if(!i||!n)return;let s=0;const l=()=>{r.current&&(n(r.current),s=r.current.requestVideoFrameCallback(l))};return l(),()=>{i.cancelVideoFrameCallback(s)}},[n,r])},mv=(r,n)=>{const i=y.useContext($r);if(!i)throw new Error("SharedAudioContext not found");const s=y.useRef(null),l=y.useMemo(()=>i.audioContext?zc({audioContext:i.audioContext,ref:s}):null,[i.audioContext]),{volume:c,muted:u,playbackRate:h,onlyWarnForMediaSeekingError:p,src:g,onDuration:x,acceptableTimeShift:S,acceptableTimeShiftInSeconds:v,toneFrequency:k,name:w,_remotionInternalNativeLoopPassed:b,_remotionInternalStack:C,style:E,pauseWhenBuffering:R,showInTimeline:j,loopVolumeCurveBehavior:$,onError:P,onAutoPlayError:M,onVideoFrame:z,crossOrigin:V,delayRenderRetries:U,delayRenderTimeoutInMilliseconds:H,allowAmplificationDuringRender:Z,useWebAudioApi:ee,audioStreamIndex:Y,...X}=r,ne=uo($??"repeat"),{fps:ae,durationInFrames:oe}=Me(),B=y.useContext(Je),{hidden:ie}=y.useContext(ai),G=Er(),F=ci(),[D]=y.useState(()=>String(Math.random())),ce=ie[D]??!1;if(typeof S<"u")throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");const[se]=Vc(),[fe]=Bc(),he=Rr({frame:ne,volume:c,mediaVolume:se});po(he),Lc({volume:c,mediaVolume:se,mediaType:"video",src:g,playbackRate:r.playbackRate??1,displayName:w??null,id:D,stack:C,showInTimeline:j,premountDisplay:B?.premountDisplay??null,postmountDisplay:B?.postmountDisplay??null,loopDisplay:void 0}),Sh({mediaRef:s,src:g,mediaType:"video",playbackRate:r.playbackRate??1,onlyWarnForMediaSeekingError:p,acceptableTimeshift:v??null,isPremounting:!!B?.premounting,isPostmounting:!!B?.postmounting,pauseWhenBuffering:R,onAutoPlayError:M??null}),Ch({id:D,isPostmounting:!!B?.postmounting,isPremounting:!!B?.premounting,mediaRef:s,mediaType:"video",onAutoPlayError:M??null}),vh({logLevel:G,mediaRef:s,volume:he,source:l,shouldUseWebAudioApi:ee??!1});const Se=B?B.relativeFrom:0,ke=B?Math.min(B.durationInFrames,oe):oe,Ee=co(g),ze=cy({actualSrc:Ee,actualFrom:Se,duration:ke,fps:ae});y.useImperativeHandle(n,()=>s.current,[]),y.useState(()=>lt({logLevel:G,message:`Mounting video with source = ${ze}, v=${ni}, user agent=${typeof navigator>"u"?"server":navigator.userAgent}`,tag:"video",mountTime:F})),y.useEffect(()=>{const{current:Ie}=s;if(!Ie)return;const ge=()=>{if(Ie.error){if(console.error("Error occurred in video",Ie?.error),P){const Rt=new Error(`Code ${Ie.error.code}: ${Ie.error.message}`);P(Rt);return}throw new Error(`The browser threw an error while playing the video ${g}: Code ${Ie.error.code} - ${Ie?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}else{if(P){const Rt=new Error(`The browser threw an error while playing the video ${g}`);P(Rt);return}throw new Error("The browser threw an error while playing the video")}};return Ie.addEventListener("error",ge,{once:!0}),()=>{Ie.removeEventListener("error",ge)}},[P,g]);const ut=y.useRef(x);ut.current=x,hv({ref:s,onVideoFrame:z}),y.useEffect(()=>{const{current:Ie}=s;if(!Ie)return;if(Ie.duration){ut.current?.(g,Ie.duration);return}const ge=()=>{ut.current?.(g,Ie.duration)};return Ie.addEventListener("loadedmetadata",ge),()=>{Ie.removeEventListener("loadedmetadata",ge)}},[g]),y.useEffect(()=>{const{current:Ie}=s;Ie&&(ta()?Ie.preload="metadata":Ie.preload="auto")},[]);const Ot=y.useMemo(()=>({...E,opacity:ce?0:E?.opacity??1}),[ce,E]),pt=Ac({crossOrigin:V,requestsVideoFrame:!!z});return d.jsx("video",{ref:s,muted:u||fe||ce||he<=0,playsInline:!0,src:ze,loop:b,style:Ot,disableRemotePlayback:!0,crossOrigin:pt,...X})},Hc=y.forwardRef(mv),Uc=r=>{const{startFrom:n,endAt:i,trimBefore:s,trimAfter:l,name:c,pauseWhenBuffering:u,stack:h,showInTimeline:p,...g}=r,x=ct(),S=y.useCallback(()=>{},[]);if(typeof r.src!="string")throw new TypeError(`The \`<OffthreadVideo>\` tag requires a string for \`src\`, but got ${JSON.stringify(r.src)} instead.`);Zs({startFrom:n,endAt:i,trimBefore:s,trimAfter:l});const{trimBeforeValue:v,trimAfterValue:k}=ea({startFrom:n,endAt:i,trimBefore:s,trimAfter:l});if(typeof v<"u"||typeof k<"u")return d.jsx(Gn,{layout:"none",from:0-(v??0),showInTimeline:!1,durationInFrames:k,name:c,children:d.jsx(Uc,{pauseWhenBuffering:u??!1,...g,trimAfter:void 0,name:void 0,showInTimeline:p,trimBefore:void 0,stack:void 0,startFrom:void 0,endAt:void 0})});if(Js(r,"Video"),x.isRendering)return d.jsx(pv,{pauseWhenBuffering:u??!1,...g,trimAfter:void 0,name:void 0,showInTimeline:p,trimBefore:void 0,stack:void 0,startFrom:void 0,endAt:void 0});const{transparent:w,toneMapped:b,onAutoPlayError:C,onVideoFrame:E,crossOrigin:R,delayRenderRetries:j,delayRenderTimeoutInMilliseconds:$,...P}=g;return d.jsx(Hc,{_remotionInternalStack:h??null,onDuration:S,onlyWarnForMediaSeekingError:!0,pauseWhenBuffering:u??!1,showInTimeline:p??!0,onAutoPlayError:C??void 0,onVideoFrame:E??null,crossOrigin:R,...P,_remotionInternalNativeLoopPassed:!1})},gv=({src:r,acceptableTimeShiftInSeconds:n,allowAmplificationDuringRender:i,audioStreamIndex:s,className:l,crossOrigin:c,delayRenderRetries:u,delayRenderTimeoutInMilliseconds:h,id:p,loopVolumeCurveBehavior:g,muted:x,name:S,onAutoPlayError:v,onError:k,onVideoFrame:w,pauseWhenBuffering:b,playbackRate:C,showInTimeline:E,style:R,toneFrequency:j,toneMapped:$,transparent:P,trimAfter:M,trimBefore:z,useWebAudioApi:V,volume:U,_remotionInternalNativeLoopPassed:H,endAt:Z,stack:ee,startFrom:Y,imageFormat:X})=>{if(X)throw new TypeError("The `<OffthreadVideo>` tag does no longer accept `imageFormat`. Use the `transparent` prop if you want to render a transparent video.");return d.jsx(Uc,{acceptableTimeShiftInSeconds:n,allowAmplificationDuringRender:i??!0,audioStreamIndex:s??0,className:l,crossOrigin:c,delayRenderRetries:u,delayRenderTimeoutInMilliseconds:h,id:p,loopVolumeCurveBehavior:g??"repeat",muted:x??!1,name:S,onAutoPlayError:v??null,onError:k,onVideoFrame:w,pauseWhenBuffering:b??!0,playbackRate:C??1,toneFrequency:j??1,showInTimeline:E??!0,src:r,stack:ee,startFrom:Y,_remotionInternalNativeLoopPassed:H??!1,endAt:Z,style:R,toneMapped:$??!0,transparent:P??!1,trimAfter:M,trimBefore:z,useWebAudioApi:V??!1,volume:U})};io(gv);var yv="remotion_staticFilesChanged";function vv(){const r=Ce.useContext(br),n=Ce.useContext(Dt),i=Ce.useContext(lo),s=Ce.useContext(Je),l=Ce.useContext(ao),c=Ce.useContext(kr),u=Ce.useContext(Xs),h=Ce.useContext(Us),p=Ce.useContext(Sr),g=Ce.useContext(so),x=Ce.useContext(fo),S=Ce.useContext(Cr);return y.useMemo(()=>({compositionManagerCtx:r,timelineContext:n,setTimelineContext:i,sequenceContext:s,nonceContext:l,canUseRemotionHooksContext:c,preloadContext:u,resolveCompositionContext:h,renderAssetManagerContext:p,sequenceManagerContext:g,bufferManagerContext:x,logLevelContext:S}),[r,l,s,i,n,c,u,h,p,g,x,S])}var xv=r=>{const{children:n,contexts:i}=r;return d.jsx(Cr.Provider,{value:i.logLevelContext,children:d.jsx(kr.Provider,{value:i.canUseRemotionHooksContext,children:d.jsx(ao.Provider,{value:i.nonceContext,children:d.jsx(Xs.Provider,{value:i.preloadContext,children:d.jsx(br.Provider,{value:i.compositionManagerCtx,children:d.jsx(so.Provider,{value:i.sequenceManagerContext,children:d.jsx(Sr.Provider,{value:i.renderAssetManagerContext,children:d.jsx(Us.Provider,{value:i.resolveCompositionContext,children:d.jsx(Dt.Provider,{value:i.timelineContext,children:d.jsx(lo.Provider,{value:i.setTimelineContext,children:d.jsx(Je.Provider,{value:i.sequenceContext,children:d.jsx(fo.Provider,{value:i.bufferManagerContext,children:n})})})})})})})})})})})})},wv=y.createRef(),ye={useUnsafeVideoConfig:Ys,useFrameForVolumeProp:uo,useTimelinePosition:Xn,evaluateVolume:Rr,getAbsoluteSrc:un,Timeline:Qp,validateMediaTrimProps:Zs,validateMediaProps:Js,resolveTrimProps:ea,VideoForPreview:Hc,CompositionManager:br,CompositionSetters:Bs,SequenceManager:so,SequenceVisibilityToggleContext:ai,RemotionRoot:sv,useVideo:qs,getRoot:tv,useMediaVolumeState:Vc,useMediaMutedState:Bc,useMediaInTimeline:Lc,useLazyComponent:_h,truthy:si,SequenceContext:Je,useRemotionContexts:vv,RemotionContextProvider:xv,CSSUtils:Fh,setupEnvVariables:lv,MediaVolumeContext:Dc,SetMediaVolumeContext:Oc,getRemotionEnvironment:en,SharedAudioContext:$r,SharedAudioContextProvider:gh,invalidCompositionErrorMessage:Fy,calculateMediaDuration:Gs,isCompositionIdValid:jh,getPreviewDomElement:Zy,compositionsRef:Ih,portalNode:pc,waitForRoot:nv,CanUseRemotionHooksProvider:cc,CanUseRemotionHooks:kr,PrefetchProvider:ph,DurationsContextProvider:mh,IsPlayerContextProvider:cg,useIsPlayer:Rc,EditorPropsProvider:Xp,EditorPropsContext:Ws,usePreload:co,NonceContext:ao,SetNonceContext:Yp,resolveVideoConfig:th,useResolvedVideoConfig:Tc,resolveCompositionsRef:nh,ResolveCompositionConfig:ih,REMOTION_STUDIO_CONTAINER_ELEMENT:Ah,RenderAssetManager:Sr,persistCurrentFrame:sh,useTimelineSetFrame:ch,isIosSafari:ta,WATCH_REMOTION_STATIC_FILES:yv,addSequenceStackTraces:io,useMediaStartsAt:jr,BufferingProvider:wh,BufferingContextReact:fo,enableSequenceStackTraces:Up,CurrentScaleContext:cv,PreviewSizeContext:uv,calculateScale:dv,editorPropsProviderRef:Kp,PROPS_UPDATED_EXTERNALLY:oh,validateRenderAsset:dh,Log:ln,LogLevelContext:Cr,useLogLevel:Er,playbackLogging:lt,timeValueRef:pg,compositionSelectorRef:wv,RemotionEnvironmentContext:Gp,warnAboutTooHighVolume:po,AudioForPreview:Eh,OBJECTFIT_CONTAIN_CLASS_NAME:oi,InnerOffthreadVideo:Uc,useBasicMediaInTimeline:xh,getInputPropsOverride:Jp,setInputPropsOverride:hg,useVideoEnabled:rv,useAudioEnabled:ov},bv=({allowFloats:r,durationInFrames:n,frame:i})=>{if(typeof i>"u")throw new TypeError('Argument missing for parameter "frame"');if(typeof i!="number")throw new TypeError(`Argument passed for "frame" is not a number: ${i}`);if(!Number.isFinite(i))throw new RangeError(`Frame ${i} is not finite`);if(i<0&&i<-n)throw new RangeError(`Cannot use frame ${i}: Duration of composition is ${n}, therefore the lowest frame that can be rendered is ${-n}`);if(i>n-1)throw new RangeError(`Cannot use frame ${i}: Duration of composition is ${n}, therefore the highest frame that can be rendered is ${n-1}`)},zh=y.createContext(!1),kv=({children:r})=>d.jsx(zh.Provider,{value:!1,children:r}),Sv=()=>{if(!Ce.useContext(zh))throw new Error("This component must be inside a <Series /> component.")},Cv=({children:r},n)=>(Sv(),d.jsx(kv,{children:r})),Ev=y.forwardRef(Cv);io(Ev);var _v=r=>{if(!(typeof r>"u")){if(typeof r!="number")throw new TypeError(`A "duration" of a spring must be a "number" but is "${typeof r}"`);if(Number.isNaN(r))throw new TypeError('A "duration" of a spring is NaN, which it must not be');if(!Number.isFinite(r))throw new TypeError('A "duration" of a spring must be finite, but is '+r);if(r<=0)throw new TypeError('A "duration" of a spring must be positive, but is '+r)}},$v={damping:10,mass:1,stiffness:100,overshootClamping:!1},Ql={};function jv({animation:r,now:n,config:i}){const{toValue:s,lastTimestamp:l,current:c,velocity:u}=r,h=Math.min(n-l,64);if(i.damping<=0)throw new Error("Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.");const p=i.damping,g=i.mass,x=i.stiffness,S=[s,l,c,u,p,g,x,n].join("-");if(Ql[S])return Ql[S];const v=-u,k=s-c,w=p/(2*Math.sqrt(x*g)),b=Math.sqrt(x/g),C=b*Math.sqrt(1-w**2),E=h/1e3,R=Math.sin(C*E),j=Math.cos(C*E),$=Math.exp(-w*b*E),P=$*(R*((v+w*b*k)/C)+k*j),M=s-P,z=w*b*P-$*(j*(v+w*b*k)-C*k*R),V=Math.exp(-b*E),U=s-V*(k+(v+b*k)*E),H=V*(v*(E*b-1)+E*k*b*b),Z={toValue:s,prevPosition:c,lastTimestamp:n,current:w<1?M:U,velocity:w<1?z:H};return Ql[S]=Z,Z}var Gl={};function Lh({frame:r,fps:n,config:i={}}){const c=[r,n,i.damping,i.mass,i.overshootClamping,i.stiffness].join("-");if(Gl[c])return Gl[c];let u={lastTimestamp:0,current:0,toValue:1,velocity:0,prevPosition:0};const h=Math.max(0,r),p=h%1;for(let g=0;g<=Math.floor(h);g++){g===Math.floor(h)&&(g+=p);const x=g/n*1e3;u=jv({animation:u,now:x,config:{...$v,...i}})}return Gl[c]=u,u}var Kl=new Map;function Rv({fps:r,config:n={},threshold:i=.005}){if(typeof i!="number")throw new TypeError(`threshold must be a number, got ${i} of type ${typeof i}`);if(i===0)return 1/0;if(i===1)return 0;if(isNaN(i))throw new TypeError("Threshold is NaN");if(!Number.isFinite(i))throw new TypeError("Threshold is not finite");if(i<0)throw new TypeError("Threshold is below 0");const s=[r,n.damping,n.mass,n.overshootClamping,n.stiffness,i].join("-");if(Kl.has(s))return Kl.get(s);Hs(r,"to the measureSpring() function");let l=0,c=0;const u=()=>Lh({fps:r,frame:l,config:n});let h=u();const p=()=>Math.abs(h.current-h.toValue);let g=p();for(;g>=i;)l++,h=u(),g=p();c=l;for(let x=0;x<20;x++)l++,h=u(),g=p(),g>=i&&(x=0,c=l+1);return Kl.set(s,c),c}function bt({frame:r,fps:n,config:i={},from:s=0,to:l=1,durationInFrames:c,durationRestThreshold:u,delay:h=0,reverse:p=!1}){_v(c),bv({frame:r,durationInFrames:1/0,allowFloats:!0}),Hs(n,"to spring()");const g=p||typeof c<"u",x=g?Rv({fps:n,config:i,threshold:u}):void 0,S=g?{get:()=>x}:{get:()=>{throw new Error("did not calculate natural duration, this is an error with Remotion. Please report")}},k=(p?(c??S.get())-r:r)+(p?h:-h),w=c===void 0?k:k/(c/S.get());if(c&&k>c)return l;const b=Lh({fps:n,frame:w,config:i}),C=i.overshootClamping?l>=s?Math.min(b.current,l):Math.max(b.current,l):b.current;return s===0&&l===1?C:te(C,[0,1],[s,l])}var mp=r=>Math.round(r*1e5)/1e5,Xl=({element:r,desiredTime:n,logLevel:i,mountTime:s})=>{if(zs(r.currentTime,n))return{wait:Promise.resolve(n),cancel:()=>{}};Rs({logLevel:i,mediaRef:r,time:n,why:"Seeking during rendering",mountTime:s});let l,c=null;const u=new Promise(p=>{l=r.requestVideoFrameCallback((g,x)=>{const S=x.expectedDisplayTime-g;if(S<=0){p(x.mediaTime);return}setTimeout(()=>{p(x.mediaTime)},S+150)})}),h=new Promise(p=>{const g=()=>{p()};r.addEventListener("seeked",g,{once:!0}),c=()=>{r.removeEventListener("seeked",g)}});return{wait:Promise.all([u,h]).then(([p])=>p),cancel:()=>{c?.(),r.cancelVideoFrameCallback(l)}}},Mv=({element:r,desiredTime:n,fps:i,logLevel:s,mountTime:l})=>{const c=1/i/2;let u=()=>{};return Number.isFinite(r.duration)&&r.currentTime>=r.duration&&n>=r.duration?{prom:Promise.resolve(),cancel:()=>{}}:{prom:new Promise((p,g)=>{const x=Xl({element:r,desiredTime:n+c,logLevel:s,mountTime:l});x.wait.then(S=>{if(Math.abs(n-S)<=c)return p();const k=n>S?1:-1,w=Xl({element:r,desiredTime:S+c*k,logLevel:s,mountTime:l});u=w.cancel,w.wait.then(b=>{const C=Math.abs(n-b);if(mp(C)<=mp(c))return p();const E=Xl({element:r,desiredTime:n+c,logLevel:s,mountTime:l});return u=E.cancel,E.wait.then(()=>{p()}).catch(R=>{g(R)})}).catch(b=>{g(b)})}),u=x.cancel}),cancel:()=>{u()}}},Pv=({onError:r,volume:n,allowAmplificationDuringRender:i,playbackRate:s,onDuration:l,toneFrequency:c,name:u,acceptableTimeShiftInSeconds:h,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:g,loopVolumeCurveBehavior:x,audioStreamIndex:S,...v},k)=>{const w=Xn(),b=Te(),C=uo(x??"repeat"),E=Ys(),R=y.useRef(null),j=y.useContext(Je),$=jr(),P=ct(),M=Er(),z=ci(),{delayRender:V,continueRender:U}=Jn(),{registerRenderAsset:H,unregisterRenderAsset:Z}=y.useContext(Sr),ee=y.useMemo(()=>`video-${_r(v.src??"")}-${j?.cumulatedFrom}-${j?.relativeFrom}-${j?.durationInFrames}`,[v.src,j?.cumulatedFrom,j?.relativeFrom,j?.durationInFrames]);if(!E)throw new Error("No video config found");const Y=Rr({volume:n,frame:C,mediaVolume:1});po(Y),y.useEffect(()=>{if(!v.src)throw new Error("No src passed");if(!v.muted&&!(Y<=0)&&window.remotion_audioEnabled)return H({type:"video",src:un(v.src),id:ee,frame:w,volume:Y,mediaFrame:b,playbackRate:s??1,toneFrequency:c??1,audioStartFrame:Math.max(0,-(j?.relativeFrom??0)),audioStreamIndex:S??0}),()=>Z(ee)},[v.muted,v.src,H,ee,Z,Y,b,w,s,c,j?.relativeFrom,S]),y.useImperativeHandle(k,()=>R.current,[]),y.useEffect(()=>{if(!window.remotion_videoEnabled)return;const{current:ne}=R;if(!ne)return;const ae=kh({frame:b,playbackRate:s||1,startFrom:-$,fps:E.fps}),oe=V(`Rendering <Html5Video /> with src="${v.src}" at time ${ae}`,{retries:p??void 0,timeoutInMilliseconds:g??void 0});if(window.process?.env?.NODE_ENV==="test"){U(oe);return}if(zs(ne.currentTime,ae)){if(ne.readyState>=2){U(oe);return}const F=()=>{U(oe)};return ne.addEventListener("loadeddata",F,{once:!0}),()=>{ne.removeEventListener("loadeddata",F)}}const B=()=>{U(oe)},ie=Mv({element:ne,desiredTime:ae,fps:E.fps,logLevel:M,mountTime:z});ie.prom.then(()=>{U(oe)}),ne.addEventListener("ended",B,{once:!0});const G=()=>{if(ne?.error){if(console.error("Error occurred in video",ne?.error),r)return;throw new Error(`The browser threw an error while playing the video ${v.src}: Code ${ne.error.code} - ${ne?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}else throw new Error("The browser threw an error")};return ne.addEventListener("error",G,{once:!0}),()=>{ie.cancel(),ne.removeEventListener("ended",B),ne.removeEventListener("error",G),U(oe)}},[C,v.src,s,E.fps,b,$,r,p,g,M,z,U,V]);const{src:X}=v;return P.isRendering&&y.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test")return;const ne=V("Loading <Html5Video> duration with src="+X,{retries:p??void 0,timeoutInMilliseconds:g??void 0}),{current:ae}=R,oe=()=>{ae?.duration&&l(X,ae.duration),U(ne)};return ae?.duration?(l(X,ae.duration),U(ne)):ae?.addEventListener("loadedmetadata",oe,{once:!0}),()=>{ae?.removeEventListener("loadedmetadata",oe),U(ne)}},[X,l,p,g,U,V]),d.jsx("video",{ref:R,disableRemotePlayback:!0,...v})},Tv=y.forwardRef(Pv),Iv=(r,n)=>{const{startFrom:i,endAt:s,trimBefore:l,trimAfter:c,name:u,pauseWhenBuffering:h,stack:p,_remotionInternalNativeLoopPassed:g,showInTimeline:x,onAutoPlayError:S,...v}=r,{loop:k,...w}=r,{fps:b}=Me(),C=ct(),{durations:E,setDurations:R}=y.useContext(Fc);if(typeof n=="string")throw new Error("string refs are not supported");if(typeof r.src!="string")throw new TypeError(`The \`<Html5Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(r.src)} instead.`);const j=co(r.src),$=y.useCallback((U,H)=>{R({type:"got-duration",durationInSeconds:H,src:U})},[R]),P=y.useCallback(()=>{},[]),M=E[un(j)]??E[un(r.src)];Zs({startFrom:i,endAt:s,trimBefore:l,trimAfter:c});const{trimBeforeValue:z,trimAfterValue:V}=ea({startFrom:i,endAt:s,trimBefore:l,trimAfter:c});if(k&&M!==void 0){if(!Number.isFinite(M))return d.jsx(Ps,{...w,ref:n,_remotionInternalNativeLoopPassed:!0});const U=M*b;return d.jsx(Ks,{durationInFrames:Gs({trimAfter:V,mediaDurationInFrames:U,playbackRate:r.playbackRate??1,trimBefore:z}),layout:"none",name:u,children:d.jsx(Ps,{...w,ref:n,_remotionInternalNativeLoopPassed:!0})})}return typeof z<"u"||typeof V<"u"?d.jsx(Gn,{layout:"none",from:0-(z??0),showInTimeline:!1,durationInFrames:V,name:u,children:d.jsx(Ps,{pauseWhenBuffering:h??!1,...v,ref:n})}):(Js({playbackRate:r.playbackRate,volume:r.volume},"Html5Video"),C.isRendering?d.jsx(Tv,{onDuration:$,onVideoFrame:P??null,...v,ref:n}):d.jsx(Hc,{onlyWarnForMediaSeekingError:!1,...v,ref:n,onVideoFrame:null,pauseWhenBuffering:h??!1,onDuration:$,_remotionInternalStack:p??null,_remotionInternalNativeLoopPassed:g??!1,showInTimeline:x??!0,onAutoPlayError:S??void 0}))},Ps=y.forwardRef(Iv);io(Ps);ug();var Fv={},Av=new Proxy(Fv,{get(r,n){return n==="Bundling"||n==="Rendering"||n==="Log"||n==="Puppeteer"||n==="Output"?Av:()=>{console.warn("⚠️  The CLI configuration has been extracted from Remotion Core."),console.warn("Update the import from the config file:"),console.warn(),console.warn("- Delete:"),console.warn('import {Config} from "remotion";'),console.warn("+ Replace:"),console.warn('import {Config} from "@remotion/cli/config";'),console.warn(),console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration."),process.exit(1)}}});io(Gn);typeof window<"u"&&(window.remotion_renderReady=!1);typeof window<"u"&&(window.remotion_delayRenderTimeouts={});var zv=(r,n,i)=>{if(r){if(typeof r!="object")throw new Error(`"${n}" must be an object, but you passed a value of type ${typeof r}`);if(Array.isArray(r))throw new Error(`"${n}" must be an object, an array was passed ${i?`for composition "${i}"`:""}`)}};function Lv(r,n,i){if(typeof r!="number")throw new Error(`The "${n}" prop ${i} must be a number, but you passed a value of type ${typeof r}`);if(isNaN(r))throw new TypeError(`The "${n}" prop ${i} must not be NaN, but is NaN.`);if(!Number.isFinite(r))throw new TypeError(`The "${n}" prop ${i} must be finite, but is ${r}.`);if(r%1!==0)throw new TypeError(`The "${n}" prop ${i} must be an integer, but is ${r}.`);if(r<=0)throw new TypeError(`The "${n}" prop ${i} must be positive, but got ${r}.`)}function Nv(r,n){const{allowFloats:i,component:s}=n;if(typeof r>"u")throw new Error(`The "durationInFrames" prop ${s} is missing.`);if(typeof r!="number")throw new Error(`The "durationInFrames" prop ${s} must be a number, but you passed a value of type ${typeof r}`);if(r<=0)throw new TypeError(`The "durationInFrames" prop ${s} must be positive, but got ${r}.`);if(!i&&r%1!==0)throw new TypeError(`The "durationInFrames" prop ${s} must be an integer, but got ${r}.`);if(!Number.isFinite(r))throw new TypeError(`The "durationInFrames" prop ${s} must be finite, but got ${r}.`)}function Dv(r,n,i){if(typeof r!="number")throw new Error(`"fps" must be a number, but you passed a value of type ${typeof r} ${n}`);if(!Number.isFinite(r))throw new Error(`"fps" must be a finite, but you passed ${r} ${n}`);if(isNaN(r))throw new Error(`"fps" must not be NaN, but got ${r} ${n}`);if(r<=0)throw new TypeError(`"fps" must be positive, but got ${r} ${n}`);if(i&&r>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var na={validateFps:Dv,validateDimension:Lv,validateDurationInFrames:Nv,validateDefaultAndInputProps:zv},nt=25,hc=16,Ov=()=>d.jsx("svg",{width:nt,height:nt,viewBox:"0 0 25 25",fill:"none",children:d.jsx("path",{d:"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z",fill:"white",stroke:"white",strokeWidth:"6.25",strokeLinejoin:"round"})}),Vv=()=>d.jsxs("svg",{viewBox:"0 0 100 100",width:nt,height:nt,children:[d.jsx("rect",{x:"25",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"}),d.jsx("rect",{x:"55",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"})]}),Bv=({isFullscreen:r})=>{const s=r?0:3,l=r?6*1.6:6/2,c=r?6*1.6:12;return d.jsxs("svg",{viewBox:"0 0 32 32",height:hc,width:hc,children:[d.jsx("path",{d:`
				M ${s} ${c}
				L ${l} ${l}
				L ${c} ${s}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${32-s} ${c}
				L ${32-l} ${l}
				L ${32-c} ${s}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${s} ${32-c}
				L ${l} ${32-l}
				L ${c} ${32-s}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${32-s} ${32-c}
				L ${32-l} ${32-l}
				L ${32-c} ${32-s}
				`,stroke:"#fff",strokeWidth:6,fill:"none"})]})},Wv=()=>d.jsx("svg",{width:nt,height:nt,viewBox:"0 0 24 24",children:d.jsx("path",{d:"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z",fill:"#fff"})}),Hv=()=>d.jsx("svg",{width:nt,height:nt,viewBox:"0 0 24 24",children:d.jsx("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",fill:"#fff"})}),gp="__remotion_buffering_indicator",yp="__remotion_buffering_animation",Uv={width:nt,height:nt,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},qv={width:14,height:14,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},Yv=({type:r})=>{const n=r==="player"?Uv:qv;return d.jsxs(d.Fragment,{children:[d.jsx("style",{type:"text/css",children:`
				@keyframes ${yp} {
          0% {
            rotate: 0deg;
          }
          100% {
            rotate: 360deg;
          }
        }
        
        .${gp} {
            animation: ${yp} 1s linear infinite;
        }        
			`}),d.jsx("div",{style:n,children:d.jsx("svg",{viewBox:r==="player"?"0 0 22 22":"0 0 18 18",style:n,className:gp,children:d.jsx("path",{d:r==="player"?"M 11 4 A 7 7 0 0 1 15.1145 16.66312":"M 9 2 A 7 7 0 0 1 13.1145 14.66312",stroke:"white",strokeLinecap:"round",fill:"none",strokeWidth:3})})})]})},Qv=({currentSize:r,width:n,height:i,compositionWidth:s,compositionHeight:l})=>n!==void 0&&i===void 0?{aspectRatio:[s,l].join("/")}:i!==void 0&&n===void 0?{aspectRatio:[s,l].join("/")}:r?{width:s,height:l}:{width:s,height:l},Nh=({previewSize:r,compositionWidth:n,compositionHeight:i,canvasSize:s})=>{const l=ye.calculateScale({canvasSize:s,compositionHeight:i,compositionWidth:n,previewSize:r}),c=0-(1-l)/2,u=c*n,h=c*i,p=n*l,g=i*l,x=s.width/2-p/2,S=s.height/2-g/2;return{centerX:x,centerY:S,xCorrection:u,yCorrection:h,scale:l}},Dh=({config:r,style:n,canvasSize:i,overflowVisible:s,layout:l})=>r?{position:"relative",overflow:s?"visible":"hidden",...Qv({compositionHeight:r.height,compositionWidth:r.width,currentSize:i,height:n?.height,width:n?.width}),opacity:l?1:0,...n}:{},Oh=({config:r,layout:n,scale:i,overflowVisible:s})=>r?n?{position:"absolute",width:r.width,height:r.height,display:"flex",transform:`scale(${i})`,marginLeft:n.xCorrection,marginTop:n.yCorrection,overflow:s?"visible":"hidden"}:{position:"absolute",width:r.width,height:r.height,display:"flex",transform:`scale(${i})`,overflow:s?"visible":"hidden"}:{},Vh=({layout:r,scale:n,config:i,overflowVisible:s})=>{if(!i)return{};if(!r)return{width:i.width*n,height:i.height*n,display:"flex",flexDirection:"column",position:"absolute",overflow:s?"visible":"hidden"};const{centerX:l,centerY:c}=r;return{width:i.width*n,height:i.height*n,display:"flex",flexDirection:"column",position:"absolute",left:l,top:c,overflow:s?"visible":"hidden"}},Bh=Ce.createContext(void 0),Wh=Ce.createContext(void 0);class Gv{listeners={ended:[],error:[],pause:[],play:[],ratechange:[],scalechange:[],seeked:[],timeupdate:[],frameupdate:[],fullscreenchange:[],volumechange:[],mutechange:[],waiting:[],resume:[]};addEventListener(n,i){this.listeners[n].push(i)}removeEventListener(n,i){this.listeners[n]=this.listeners[n].filter(s=>s!==i)}dispatchEvent(n,i){this.listeners[n].forEach(s=>{s({detail:i})})}dispatchSeek=n=>{this.dispatchEvent("seeked",{frame:n})};dispatchVolumeChange=n=>{this.dispatchEvent("volumechange",{volume:n})};dispatchPause=()=>{this.dispatchEvent("pause",void 0)};dispatchPlay=()=>{this.dispatchEvent("play",void 0)};dispatchEnded=()=>{this.dispatchEvent("ended",void 0)};dispatchRateChange=n=>{this.dispatchEvent("ratechange",{playbackRate:n})};dispatchScaleChange=n=>{this.dispatchEvent("scalechange",{scale:n})};dispatchError=n=>{this.dispatchEvent("error",{error:n})};dispatchTimeUpdate=n=>{this.dispatchEvent("timeupdate",n)};dispatchFrameUpdate=n=>{this.dispatchEvent("frameupdate",n)};dispatchFullscreenChange=n=>{this.dispatchEvent("fullscreenchange",n)};dispatchMuteChange=n=>{this.dispatchEvent("mutechange",n)};dispatchWaiting=n=>{this.dispatchEvent("waiting",n)};dispatchResume=n=>{this.dispatchEvent("resume",n)}}class Kv{listeners={error:[],waiting:[],resume:[]};addEventListener(n,i){this.listeners[n].push(i)}removeEventListener(n,i){this.listeners[n]=this.listeners[n].filter(s=>s!==i)}dispatchEvent(n,i){this.listeners[n].forEach(s=>{s({detail:i})})}dispatchError=n=>{this.dispatchEvent("error",{error:n})};dispatchWaiting=n=>{this.dispatchEvent("waiting",n)};dispatchResume=n=>{this.dispatchEvent("resume",n)}}var Hh=r=>{const n=y.useContext(ye.BufferingContextReact);if(!n)throw new Error("BufferingContextReact not found");y.useEffect(()=>{const i=n.listenForBuffering(()=>{n.buffering.current=!0,r.dispatchWaiting({})}),s=n.listenForResume(()=>{n.buffering.current=!1,r.dispatchResume({})});return()=>{i.remove(),s.remove()}},[n,r])},Xv=({children:r,currentPlaybackRate:n})=>{const[i]=y.useState(()=>new Gv);if(!y.useContext(ye.BufferingContextReact))throw new Error("BufferingContextReact not found");return y.useEffect(()=>{n&&i.dispatchRateChange(n)},[i,n]),Hh(i),d.jsx(Bh.Provider,{value:i,children:r})},qc=(r,n)=>{const[i,s]=y.useState(!1);return y.useEffect(()=>{const{current:l}=r;if(!l)return;let c;const u=()=>{n&&(clearTimeout(c),c=setTimeout(()=>{s(!1)},n===!0?3e3:n))},h=()=>{s(!0),u()},p=()=>{s(!1),clearTimeout(c)},g=()=>{s(!0),u()};return l.addEventListener("mouseenter",h),l.addEventListener("mouseleave",p),l.addEventListener("mousemove",g),()=>{l.removeEventListener("mouseenter",h),l.removeEventListener("mouseleave",p),l.removeEventListener("mousemove",g),clearTimeout(c)}},[n,r]),i},ra=()=>{const[r,n,i]=ye.Timeline.usePlayingState(),[s,l]=y.useState(!1),c=ye.Timeline.useTimelinePosition(),u=y.useRef(c),h=ye.Timeline.useTimelineSetFrame(),p=ye.Timeline.useTimelineSetFrame(),g=y.useContext(ye.SharedAudioContext),{audioAndVideoTags:x}=y.useContext(ye.Timeline.TimelineContext),S=y.useRef(c);S.current=c;const v=ye.useVideo(),k=ye.useUnsafeVideoConfig(),w=y.useContext(Bh),b=(k?.durationInFrames??1)-1,C=c===b,E=c===0;if(!w)throw new TypeError("Expected Player event emitter context");const R=y.useContext(ye.BufferingContextReact);if(!R)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");const{buffering:j}=R,$=y.useCallback(Y=>{v?.id&&p(X=>({...X,[v.id]:Y})),S.current=Y,w.dispatchSeek(Y)},[w,p,v?.id]),P=y.useCallback(Y=>{i.current||(l(!0),C&&$(0),g?.audioContext?.resume(),g&&g.numberOfAudioTags>0&&Y&&g.playAllAudios(),x.current.forEach(X=>X.play("player play() was called and playing audio from a click")),i.current=!0,n(!0),u.current=S.current,w.dispatchPlay())},[i,C,g,n,w,$,x]),M=y.useCallback(()=>{i.current&&(i.current=!1,n(!1),w.dispatchPause(),g?.audioContext?.suspend())},[w,i,n,g]),z=y.useCallback(()=>{i.current&&(i.current=!1,S.current=u.current,k&&(p(Y=>({...Y,[k.id]:u.current})),n(!1),w.dispatchPause()))},[k,w,i,n,p]),V=v?.id,U=y.useCallback(Y=>{if(!V)return null;i.current||h(X=>{const ne=X[V]??window.remotion_initialFrame??0,ae=Math.max(0,ne-Y);return ne===ae?X:{...X,[V]:ae}})},[i,h,V]),H=y.useCallback(Y=>{if(!V)return null;i.current||h(X=>{const ne=X[V]??window.remotion_initialFrame??0,ae=Math.min(b,ne+Y);return ne===ae?X:{...X,[V]:ae}})},[V,i,b,h]),Z=y.useCallback(Y=>{i.current?M():P(Y)},[i,M,P]);return y.useMemo(()=>({frameBack:U,frameForward:H,isLastFrame:C,emitter:w,playing:r,play:P,pause:M,seek:$,isFirstFrame:E,getCurrentFrame:()=>S.current,isPlaying:()=>i.current,isBuffering:()=>j.current,pauseAndReturnToPlayStart:z,hasPlayed:s,toggle:Z}),[j,w,U,H,s,i,E,C,M,z,P,r,$,Z])},Jv=({browserMediaControlsBehavior:r,videoConfig:n,playbackRate:i})=>{const{playing:s,pause:l,play:c,emitter:u,getCurrentFrame:h,seek:p}=ra();y.useEffect(()=>{navigator.mediaSession&&r.mode!=="do-nothing"&&(s?navigator.mediaSession.playbackState="playing":navigator.mediaSession.playbackState="paused")},[r.mode,s]),y.useEffect(()=>{if(!navigator.mediaSession||r.mode==="do-nothing")return;const g=()=>{n&&navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:n.durationInFrames/n.fps,playbackRate:i,position:h()/n.fps})};return u.addEventListener("timeupdate",g),()=>{u.removeEventListener("timeupdate",g)}},[r.mode,u,h,i,n]),y.useEffect(()=>{if(navigator.mediaSession&&r.mode!=="do-nothing")return navigator.mediaSession.setActionHandler("play",()=>{r.mode==="register-media-session"&&c()}),navigator.mediaSession.setActionHandler("pause",()=>{r.mode==="register-media-session"&&l()}),navigator.mediaSession.setActionHandler("seekto",g=>{r.mode==="register-media-session"&&g.seekTime!==void 0&&n&&p(Math.round(g.seekTime*n.fps))}),navigator.mediaSession.setActionHandler("seekbackward",()=>{r.mode==="register-media-session"&&n&&p(Math.max(0,Math.round((h()-10)*n.fps)))}),navigator.mediaSession.setActionHandler("seekforward",()=>{r.mode==="register-media-session"&&n&&p(Math.max(n.durationInFrames-1,Math.round((h()+10)*n.fps)))}),navigator.mediaSession.setActionHandler("previoustrack",()=>{r.mode==="register-media-session"&&p(0)}),()=>{navigator.mediaSession.metadata=null,navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("previoustrack",null)}},[r.mode,h,l,c,p,n])},Zv=({time:r,currentFrame:n,playbackSpeed:i,fps:s,actualLastFrame:l,actualFirstFrame:c,framesAdvanced:u,shouldLoop:h})=>{const g=(i<0?Math.ceil:Math.floor)(r*i/(1e3/s))-u,x=g+n,S=n>l||n<c,v=x>l||x<c,k=!h&&v&&!S;return i>0?v?{nextFrame:c,framesToAdvance:g,hasEnded:k}:{nextFrame:x,framesToAdvance:g,hasEnded:k}:v?{nextFrame:l,framesToAdvance:g,hasEnded:k}:{nextFrame:x,framesToAdvance:g,hasEnded:k}},vp=()=>typeof document>"u"?!1:document.visibilityState==="hidden",e1=()=>{const r=y.useRef(vp());return y.useEffect(()=>{const n=()=>{r.current=vp()};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}},[]),r},t1=({loop:r,playbackRate:n,moveToBeginningWhenEnded:i,inFrame:s,outFrame:l,browserMediaControlsBehavior:c,getCurrentFrame:u})=>{const h=ye.useUnsafeVideoConfig(),p=ye.Timeline.useTimelinePosition(),{playing:g,pause:x,emitter:S}=ra(),v=ye.Timeline.useTimelineSetFrame(),k=e1(),w=y.useRef(null),b=y.useContext(ye.BufferingContextReact);if(!b)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");Jv({browserMediaControlsBehavior:c,playbackRate:n,videoConfig:h}),y.useEffect(()=>{if(!h||!g)return;let C=!1,E=null,R=performance.now(),j=0;const $=()=>{E!==null&&(E.type==="raf"?cancelAnimationFrame(E.id):clearTimeout(E.id))},P=()=>{C=!0,$()},M=()=>{if(C)return;const U=performance.now()-R,H=l??h.durationInFrames-1,Z=s??0,ee=u(),{nextFrame:Y,framesToAdvance:X,hasEnded:ne}=Zv({time:U,currentFrame:ee,playbackSpeed:n,fps:h.fps,actualFirstFrame:Z,actualLastFrame:H,framesAdvanced:j,shouldLoop:r});if(j+=X,Y!==u()&&(!ne||i)&&v(ae=>({...ae,[h.id]:Y})),ne){P(),x(),S.dispatchEnded();return}z()},z=()=>{if(b.buffering.current){const U=b.listenForResume(()=>{U.remove(),R=performance.now(),j=0,z()});return}if(k.current){E={type:"timeout",id:setTimeout(M,1e3/h.fps)};return}E={type:"raf",id:requestAnimationFrame(M)}};z();const V=()=>{document.visibilityState!=="visible"&&($(),M())};return window.addEventListener("visibilitychange",V),()=>{window.removeEventListener("visibilitychange",V),P()}},[h,r,x,g,v,S,n,s,l,i,k,u,b]),y.useEffect(()=>{const C=setInterval(()=>{w.current!==u()&&(S.dispatchTimeUpdate({frame:u()}),w.current=u())},250);return()=>clearInterval(C)},[S,u]),y.useEffect(()=>{S.dispatchFrameUpdate({frame:p})},[S,p])},Jl=[],Yc=(r,n)=>{const[i,s]=y.useState(()=>{if(!r.current)return null;const u=r.current.getClientRects();return u[0]?{width:u[0].width,height:u[0].height,left:u[0].x,top:u[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}}:null}),l=y.useMemo(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(u=>{const{contentRect:h,target:p}=u[0],g=p.getClientRects();if(!g?.[0]){s(null);return}const x=h.width===0?1:g[0].width/h.width,S=n.shouldApplyCssTransforms||x===0?g[0].width:g[0].width*(1/x),v=n.shouldApplyCssTransforms||x===0?g[0].height:g[0].height*(1/x);s(k=>k&&k.width===S&&k.height===v&&k.left===g[0].x&&k.top===g[0].y&&k.windowSize.height===window.innerHeight&&k.windowSize.width===window.innerWidth?k:{width:S,height:v,left:g[0].x,top:g[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})}),[n.shouldApplyCssTransforms]),c=y.useCallback(()=>{if(!r.current)return;const u=r.current.getClientRects();if(!u[0]){s(null);return}s(h=>h&&h.width===u[0].width&&h.height===u[0].height&&h.left===u[0].x&&h.top===u[0].y&&h.windowSize.height===window.innerHeight&&h.windowSize.width===window.innerWidth?h:{width:u[0].width,height:u[0].height,left:u[0].x,top:u[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})},[r]);return y.useEffect(()=>{if(!l)return;const{current:u}=r;return u&&l.observe(u),()=>{u&&l.unobserve(u)}},[l,r,c]),y.useEffect(()=>{if(n.triggerOnWindowResize)return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[n.triggerOnWindowResize,c]),y.useEffect(()=>(Jl.push(c),()=>{Jl=Jl.filter(u=>u!==c)}),[c]),y.useMemo(()=>i?{...i,refresh:c}:null,[i,c])},xp=({playing:r,buffering:n})=>r&&n?d.jsx(Yv,{type:"player"}):r?d.jsx(Vv,{}):d.jsx(Ov,{}),no=12,wp=5,n1=({volume:r,isVertical:n,onBlur:i,inputRef:s,setVolume:l})=>{const c=y.useMemo(()=>{const v={paddingLeft:5,height:nt,width:xr,display:"inline-flex",alignItems:"center"};return n?{...v,position:"absolute",transform:`rotate(-90deg) translateX(${xr/2+nt/2}px)`}:{...v}},[n]),u=typeof Ce.useId>"u"?"volume-slider":Ce.useId(),[h]=y.useState(()=>`__remotion-volume-slider-${_r(u)}`.replace(".","")),p=y.useCallback(S=>{l(parseFloat(S.target.value))},[l]),g=y.useMemo(()=>{const S={WebkitAppearance:"none",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:wp/2,cursor:"pointer",height:wp,width:xr,backgroundImage:`linear-gradient(
				to right,
				white ${r*100}%, rgba(255, 255, 255, 0) ${r*100}%
			)`};return n?{...S,bottom:nt+xr/2}:S},[n,r]),x=`
	.${h}::-webkit-slider-thumb {
		-webkit-appearance: none;
		background-color: white;
		border-radius: ${no/2}px;
		box-shadow: 0 0 2px black;
		height: ${no}px;
		width: ${no}px;
	}

	.${h}::-moz-range-thumb {
		-webkit-appearance: none;
		background-color: white;
		border-radius: ${no/2}px;
		box-shadow: 0 0 2px black;
		height: ${no}px;
		width: ${no}px;
	}
`;return d.jsxs("div",{style:c,children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:x}}),d.jsx("input",{ref:s,"aria-label":"Change volume",className:h,max:1,min:0,onBlur:i,onChange:p,step:.01,type:"range",value:r,style:g})]})},r1=r=>d.jsx(n1,{...r}),xr=100,o1=({displayVerticalVolumeSlider:r,renderMuteButton:n,renderVolumeSlider:i})=>{const[s,l]=ye.useMediaMutedState(),[c,u]=ye.useMediaVolumeState(),[h,p]=y.useState(!1),g=y.useRef(null),x=y.useRef(null),S=qc(g,!1),v=y.useCallback(()=>{setTimeout(()=>{x.current&&document.activeElement!==x.current&&p(!1)},10)},[]),k=c===0,w=y.useCallback(()=>{if(k){u(1),l(!1);return}l($=>!$)},[k,l,u]),b=y.useMemo(()=>({display:"inline-flex",background:"none",border:"none",justifyContent:"center",alignItems:"center",touchAction:"none",...r&&{position:"relative"}}),[r]),C=y.useMemo(()=>({display:"inline",width:nt,height:nt,cursor:"pointer",appearance:"none",background:"none",border:"none",padding:0}),[]),E=y.useCallback(({muted:$,volume:P})=>{const M=$||P===0;return d.jsx("button",{"aria-label":M?"Unmute sound":"Mute sound",title:M?"Unmute sound":"Mute sound",onClick:w,onBlur:v,onFocus:()=>p(!0),style:C,type:"button",children:M?d.jsx(Wv,{}):d.jsx(Hv,{})})},[v,w,C]),R=y.useMemo(()=>n?n({muted:s,volume:c}):E({muted:s,volume:c}),[s,c,E,n]),j=y.useMemo(()=>(h||S)&&!s&&!ye.isIosSafari()?(i??r1)({isVertical:r,volume:c,onBlur:()=>p(!1),inputRef:x,setVolume:u}):null,[r,h,S,s,c,i,u]);return d.jsxs("div",{ref:g,style:b,children:[R,j]})};function i1(r){const[n,i]=y.useState(r),s=y.useRef(null);return y.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&i(!1)};return document.addEventListener("pointerup",l,!0),()=>{document.removeEventListener("pointerup",l,!0)}},[]),{ref:s,isComponentVisible:n,setIsComponentVisible:i}}var s1=35,a1=70,l1={height:30,paddingRight:15,paddingLeft:12,display:"flex",flexDirection:"row",alignItems:"center"},c1={width:22,display:"flex",alignItems:"center"},u1={width:14,height:14,color:"black"},d1=()=>d.jsx("svg",{viewBox:"0 0 512 512",style:u1,children:d.jsx("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}),f1=r=>{const n=r.toString();return n.includes(".")?n:n+".0"},p1=({rate:r,onSelect:n,selectedRate:i,keyboardSelectedRate:s})=>{const l=y.useCallback(S=>{S.stopPropagation(),S.preventDefault(),n(r)},[n,r]),[c,u]=y.useState(!1),h=y.useCallback(()=>{u(!0)},[]),p=y.useCallback(()=>{u(!1)},[]),g=s===r,x=y.useMemo(()=>({...l1,backgroundColor:c||g?"#eee":"transparent"}),[c,g]);return d.jsxs("div",{onMouseEnter:h,onMouseLeave:p,tabIndex:0,style:x,onClick:l,children:[d.jsx("div",{style:c1,children:r===i?d.jsx(d1,{}):null}),f1(r),"x"]},r)},h1=({setIsComponentVisible:r,playbackRates:n,canvasSize:i})=>{const{setPlaybackRate:s,playbackRate:l}=y.useContext(ye.Timeline.TimelineContext),[c,u]=y.useState(l);y.useEffect(()=>{const g=x=>{if(x.preventDefault(),x.key==="ArrowUp"){const S=n.findIndex(v=>v===c);if(S===0)return;u(S===-1?n[0]:n[S-1])}else if(x.key==="ArrowDown"){const S=n.findIndex(v=>v===c);if(S===n.length-1)return;u(S===-1?n[n.length-1]:n[S+1])}else x.key==="Enter"&&(s(c),r(!1))};return window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}},[n,c,s,r]);const h=y.useCallback(g=>{s(g),r(!1)},[r,s]),p=y.useMemo(()=>({position:"absolute",right:0,width:125,maxHeight:i.height-a1-s1,bottom:35,background:"#fff",borderRadius:4,overflow:"auto",color:"black",textAlign:"left"}),[i.height]);return d.jsx("div",{style:p,children:n.map(g=>d.jsx(p1,{selectedRate:l,onSelect:h,rate:g,keyboardSelectedRate:c},g))})},m1={fontSize:13,fontWeight:"bold",color:"white",border:"2px solid white",borderRadius:20,paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2},mc={appearance:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,height:37,display:"inline-flex",marginBottom:0,marginTop:0,alignItems:"center"},g1={...mc,position:"relative"},y1=({playbackRates:r,canvasSize:n})=>{const{ref:i,isComponentVisible:s,setIsComponentVisible:l}=i1(!1),{playbackRate:c}=y.useContext(ye.Timeline.TimelineContext),u=y.useCallback(h=>{h.stopPropagation(),h.preventDefault(),l(p=>!p)},[l]);return d.jsx("div",{ref:i,children:d.jsxs("button",{type:"button","aria-label":"Change playback rate",style:g1,onClick:u,children:[d.jsxs("div",{style:m1,children:[c,"x"]}),s&&d.jsx(h1,{canvasSize:n,playbackRates:r,setIsComponentVisible:l})]})})},bp=(r,n,i)=>Math.round(te(r,[0,i],[0,n-1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})),oo=5,Zo=12,gc=4,v1={userSelect:"none",WebkitUserSelect:"none",paddingTop:gc,paddingBottom:gc,boxSizing:"border-box",cursor:"pointer",position:"relative",touchAction:"none"},x1={height:oo,backgroundColor:"rgba(255, 255, 255, 0.25)",width:"100%",borderRadius:oo/2},w1=r=>{let n=r;for(;n.parentElement;)n=n.parentElement;return n},b1=({durationInFrames:r,onSeekEnd:n,onSeekStart:i,inFrame:s,outFrame:l})=>{const c=y.useRef(null),u=qc(c,!1),h=Yc(c,{triggerOnWindowResize:!0,shouldApplyCssTransforms:!0}),{seek:p,play:g,pause:x,playing:S}=ra(),v=ye.Timeline.useTimelinePosition(),[k,w]=y.useState({dragging:!1}),b=h?.width??0,C=y.useCallback(M=>{if(M.button!==0)return;const z=c.current?.getBoundingClientRect().left,V=bp(M.clientX-z,r,b);x(),p(V),w({dragging:!0,wasPlaying:S}),i()},[r,b,x,p,S,i]),E=y.useCallback(M=>{if(!h)throw new Error("Player has no size");if(!k.dragging)return;const z=c.current?.getBoundingClientRect().left,V=bp(M.clientX-z,r,h.width);p(V)},[k.dragging,r,p,h]),R=y.useCallback(()=>{w({dragging:!1}),k.dragging&&(k.wasPlaying?g():x(),n())},[k,n,x,g]);y.useEffect(()=>{if(!k.dragging)return;const M=w1(c.current);return M.addEventListener("pointermove",E),M.addEventListener("pointerup",R),()=>{M.removeEventListener("pointermove",E),M.removeEventListener("pointerup",R)}},[k.dragging,E,R]);const j=y.useMemo(()=>({height:Zo,width:Zo,borderRadius:Zo/2,position:"absolute",top:gc-Zo/2+5/2,backgroundColor:"white",left:Math.max(0,v/Math.max(1,r-1)*b-Zo/2),boxShadow:"0 0 2px black",opacity:Number(u||k.dragging)}),[u,k.dragging,r,v,b]),$=y.useMemo(()=>({height:oo,backgroundColor:"rgba(255, 255, 255, 1)",width:(v-(s??0))/(r-1)*b,marginLeft:(s??0)/(r-1)*b,borderRadius:oo/2}),[r,v,s,b]),P=y.useMemo(()=>({height:oo,backgroundColor:"rgba(255, 255, 255, 0.25)",width:((l??r-1)-(s??0))/(r-1)*100+"%",marginLeft:(s??0)/(r-1)*100+"%",borderRadius:oo/2,position:"absolute"}),[r,s,l]);return d.jsxs("div",{ref:c,onPointerDown:C,style:v1,children:[d.jsxs("div",{style:x1,children:[d.jsx("div",{style:P}),d.jsx("div",{style:$})]}),d.jsx("div",{style:j})]})},kp=r=>{const n=Math.floor(r/60),i=Math.floor(r-n*60);return`${String(n)}:${String(i).padStart(2,"0")}`},k1=({durationInFrames:r,maxTimeLabelWidth:n,fps:i})=>{const s=ye.Timeline.useTimelinePosition(),l=y.useMemo(()=>({color:"white",fontFamily:"sans-serif",fontSize:14,maxWidth:n===null?void 0:n,overflow:"hidden",textOverflow:"ellipsis"}),[n]),u=s===r-1?s+1:s;return d.jsxs("div",{style:l,children:[kp(u/i)," / ",kp(r/i)]})},S1=10,yc=12,C1=({allowFullscreen:r,playerWidth:n})=>y.useMemo(()=>{const s=nt,l=nt,c=r?hc:0,u=l+s+c+yc*2+S1*2,h=n-u,p=Math.max(h,0),g=p-xr,S=(g<xr?p:g)+u+xr,v=n<S;return{maxTimeLabelWidth:p===0?null:p,displayVerticalVolumeSlider:v}},[r,n]),E1=[0,.013,.049,.104,.175,.259,.352,.45,.55,.648,.741,.825,.896,.951,.987],_1=[0,8.1,15.5,22.5,29,35.3,41.2,47.1,52.9,58.8,64.7,71,77.5,84.5,91.9],$1=1/.7,j1={boxSizing:"border-box",position:"absolute",bottom:0,width:"100%",paddingTop:40,paddingBottom:10,backgroundImage:`linear-gradient(to bottom,${E1.map((r,n)=>`hsla(0, 0%, 0%, ${r}) ${_1[n]*$1}%`).join(", ")}, hsl(0, 0%, 0%) 100%)`,backgroundSize:"auto 145px",display:"flex",paddingRight:yc,paddingLeft:yc,flexDirection:"column",transition:"opacity 0.3s"},R1={display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none"},M1={display:"flex",flexDirection:"row",userSelect:"none",WebkitUserSelect:"none",alignItems:"center"},Cs={width:12},P1={height:8},T1={flex:1},I1={},F1=({durationInFrames:r,isFullscreen:n,fps:i,showVolumeControls:s,onFullscreenButtonClick:l,allowFullscreen:c,onExitFullscreenButtonClick:u,spaceKeyToPlayOrPause:h,onSeekEnd:p,onSeekStart:g,inFrame:x,outFrame:S,initiallyShowControls:v,canvasSize:k,renderPlayPauseButton:w,renderFullscreenButton:b,alwaysShowControls:C,showPlaybackRateControl:E,containerRef:R,buffering:j,hideControlsWhenPointerDoesntMove:$,onPointerDown:P,onDoubleClick:M,renderMuteButton:z,renderVolumeSlider:V,playing:U,toggle:H})=>{const Z=y.useRef(null),[ee,Y]=y.useState(!1),X=qc(R,$),{maxTimeLabelWidth:ne,displayVerticalVolumeSlider:ae}=C1({allowFullscreen:c,playerWidth:k?.width??0}),[oe,B]=y.useState(()=>{if(typeof v=="boolean")return v;if(typeof v=="number"){if(v%1!==0)throw new Error("initiallyShowControls must be an integer or a boolean");if(Number.isNaN(v))throw new Error("initiallyShowControls must not be NaN");if(!Number.isFinite(v))throw new Error("initiallyShowControls must be finite");if(v<=0)throw new Error("initiallyShowControls must be a positive integer");return v}throw new TypeError("initiallyShowControls must be a number or a boolean")}),ie=y.useMemo(()=>({...j1,opacity:Number(X||!U||oe||C)}),[X,oe,U,C]);y.useEffect(()=>{Z.current&&h&&Z.current.focus({preventScroll:!0})},[U,h]),y.useEffect(()=>{Y((typeof document<"u"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled))??!1)},[]),y.useEffect(()=>{if(oe===!1)return;const he=setTimeout(()=>{B(!1)},oe===!0?2e3:oe);return()=>{clearInterval(he)}},[oe]);const G=y.useMemo(()=>{if(E===!0)return[.5,.8,1,1.2,1.5,1.8,2,2.5,3];if(Array.isArray(E)){for(const fe of E){if(typeof fe!="number")throw new Error("Every item in showPlaybackRateControl must be a number");if(fe<=0)throw new Error("Every item in showPlaybackRateControl must be positive")}return E}return null},[E]),F=y.useRef(null),D=y.useRef(null),ce=y.useCallback(fe=>{(fe.target===F.current||fe.target===D.current)&&P?.(fe)},[P]),se=y.useCallback(fe=>{(fe.target===F.current||fe.target===D.current)&&M?.(fe)},[M]);return d.jsxs("div",{ref:F,style:ie,onPointerDown:ce,onDoubleClick:se,children:[d.jsxs("div",{ref:D,style:R1,children:[d.jsxs("div",{style:M1,children:[d.jsx("button",{ref:Z,type:"button",style:mc,onClick:H,"aria-label":U?"Pause video":"Play video",title:U?"Pause video":"Play video",children:w===null?d.jsx(xp,{buffering:j,playing:U}):w({playing:U,isBuffering:j})??d.jsx(xp,{buffering:j,playing:U})}),s?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:Cs}),d.jsx(o1,{renderMuteButton:z,renderVolumeSlider:V,displayVerticalVolumeSlider:ae})]}):null,d.jsx("div",{style:Cs}),d.jsx(k1,{durationInFrames:r,fps:i,maxTimeLabelWidth:ne}),d.jsx("div",{style:Cs})]}),d.jsx("div",{style:T1}),G&&k&&d.jsx(y1,{canvasSize:k,playbackRates:G}),G&&ee&&c?d.jsx("div",{style:Cs}):null,d.jsx("div",{style:I1,children:ee&&c?d.jsx("button",{type:"button","aria-label":n?"Exit fullscreen":"Enter Fullscreen",title:n?"Exit fullscreen":"Enter Fullscreen",style:mc,onClick:n?u:l,children:b===null?d.jsx(Bv,{isFullscreen:n}):b({isFullscreen:n})}):null})]}),d.jsx("div",{style:P1}),d.jsx(b1,{onSeekEnd:p,onSeekStart:g,durationInFrames:r,inFrame:x,outFrame:S})]})},A1={display:"flex",justifyContent:"center",alignItems:"center",flex:1,height:"100%",width:"100%"};class Uh extends Ce.Component{state={hasError:null};static getDerivedStateFromError(n){return{hasError:n}}componentDidCatch(n){this.props.onError(n)}render(){return this.state.hasError?d.jsx("div",{style:A1,children:this.props.errorFallback({error:this.state.hasError})}):this.props.children}}var z1=async()=>{if(typeof window>"u"||typeof window.crypto>"u"||typeof window.crypto.subtle>"u")return null;try{const r=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(window.location.hostname));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}catch{return null}},Zl={backgroundColor:"red",position:"absolute",padding:12,fontFamily:"Arial"},L1=["28d262b44cc61fa750f1686b16ad0604dabfe193fbc263eec05c89b7ad4c2cd6","4db1b0a94be33165dfefcb3ba03d04c7a2666dd27c496d3dc9fa41858e94925e","fbc48530bbf245da790f63675e84e06bab38c3b114fab07eb350025119922bdc","7baf10a8932757b1b3a22b3fce10a048747ac2f8eaf638603487e3705b07eb83","8a6c21a598d8c667272b5207c051b85997bf5b45d5fb712378be3f27cd72c6a6","a2f7aaac9c50a9255e7fc376110c4e0bfe153722dc66ed3c5d3bf2a135f65518"],Sp=!1,N1=()=>{const[r,n]=Ce.useState(!1);return y.useEffect(()=>{Sp||(Sp=!0,z1().then(i=>{i&&L1.includes(i)&&n(!0)}).catch(()=>{}))},[]),y.useEffect(()=>{if(!r)return;const i=()=>{if(!document.querySelector(".warning-banner")){const c=document.createElement("div");c.className="warning-banner",Object.assign(c.style,Zl,{zIndex:"9999",cssText:`${Zl.cssText} !important;`}),c.innerHTML=`
	        <a href="https://github.com/remotion-dev/remotion/pull/4589" style="color: white;">
	          Remotion Unlicensed – Contact hi@remotion.dev
	        </a>
	      `,document.body.appendChild(c)}},s=new MutationObserver(()=>i());return s.observe(document.body,{childList:!0,subtree:!0}),()=>{s.disconnect()}},[r]),r?d.jsx("div",{style:Zl,className:"warning-banner",children:d.jsx("a",{style:{color:"white"},href:"https://github.com/remotion-dev/remotion/pull/4589",children:"Remotion Unlicensed – Contact hi@remotion.dev"})}):null},Qc=r=>r??"__remotion-player",qh=typeof document>"u",D1=r=>{let n=!1;return{promise:new Promise((s,l)=>{r.then(c=>{if(n){l({isCanceled:n,value:c});return}s(c)}).catch(c=>{l({isCanceled:n,error:c})})}),cancel:()=>{n=!0}}},O1=r=>new Promise(n=>setTimeout(n,r)),V1=()=>{const r=y.useRef([]),n=y.useCallback(c=>{r.current=[...r.current,c]},[]),i=y.useCallback(c=>{r.current=r.current.filter(u=>u!==c)},[]),s=y.useCallback(()=>r.current.map(c=>c.cancel()),[]);return y.useMemo(()=>({appendPendingPromise:n,removePendingPromise:i,clearPendingPromises:s}),[n,s,i])},B1=(r,n,i)=>{const s=V1(),l=y.useCallback(async p=>{if(p instanceof PointerEvent?p.pointerType==="touch":p.nativeEvent.pointerType==="touch"){r(p);return}s.clearPendingPromises();const g=D1(O1(200));s.appendPendingPromise(g);try{await g.promise,s.removePendingPromise(g),r(p)}catch(x){const S=x;if(s.removePendingPromise(g),!S.isCanceled)throw S.error}},[s,r]),c=y.useCallback(()=>{document.addEventListener("pointerup",p=>{l(p)},{once:!0})},[l]),u=y.useCallback(()=>{s.clearPendingPromises(),n()},[s,n]);return y.useMemo(()=>i?{handlePointerDown:c,handleDoubleClick:u}:{handlePointerDown:r,handleDoubleClick:()=>{}},[i,u,c,r])},vc=Ce.version.split(".")[0];if(vc==="0")throw new Error(`Version ${vc} of "react" is not supported by Remotion`);var W1=parseInt(vc,10)>=18,H1=({controls:r,style:n,loop:i,autoPlay:s,allowFullscreen:l,inputProps:c,clickToPlay:u,showVolumeControls:h,doubleClickToFullscreen:p,spaceKeyToPlayOrPause:g,errorFallback:x,playbackRate:S,renderLoading:v,renderPoster:k,className:w,moveToBeginningWhenEnded:b,showPosterWhenUnplayed:C,showPosterWhenEnded:E,showPosterWhenPaused:R,showPosterWhenBuffering:j,showPosterWhenBufferingAndPaused:$,inFrame:P,outFrame:M,initiallyShowControls:z,renderFullscreen:V,renderPlayPauseButton:U,renderMuteButton:H,renderVolumeSlider:Z,alwaysShowControls:ee,showPlaybackRateControl:Y,posterFillMode:X,bufferStateDelayInMilliseconds:ne,hideControlsWhenPointerDoesntMove:ae,overflowVisible:oe,browserMediaControlsBehavior:B,overrideInternalClassName:ie,noSuspense:G},F)=>{const D=ye.useUnsafeVideoConfig(),ce=ye.useVideo(),se=y.useRef(null),fe=Yc(se,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),[he,Se]=y.useState(!1),[ke,Ee]=y.useState(s),[ze,ut]=y.useState(()=>!1),[Ot,pt]=y.useState(!1),Ie=y.useMemo(()=>typeof document>"u"?!1:!!(document.fullscreenEnabled||document.webkitFullscreenEnabled),[]),ge=ra(),Rt=ge.toggle;t1({loop:i,playbackRate:S,moveToBeginningWhenEnded:b,inFrame:P,outFrame:M,getCurrentFrame:ge.getCurrentFrame,browserMediaControlsBehavior:B}),y.useEffect(()=>{he&&!ge.playing&&(Se(!1),ge.play())},[he,ge]),y.useEffect(()=>{const{current:$e}=se;if(!$e)return;const je=()=>{const kt=document.fullscreenElement===$e||document.webkitFullscreenElement===$e;ut(kt)};return document.addEventListener("fullscreenchange",je),document.addEventListener("webkitfullscreenchange",je),()=>{document.removeEventListener("fullscreenchange",je),document.removeEventListener("webkitfullscreenchange",je)}},[]);const Vt=y.useCallback($e=>{Rt($e)},[Rt]),Mt=y.useCallback(()=>{if(!l)throw new Error("allowFullscreen is false");if(!Ie)throw new Error("Browser doesnt support fullscreen");if(!se.current)throw new Error("No player ref found");se.current.webkitRequestFullScreen?se.current.webkitRequestFullScreen():se.current.requestFullscreen()},[l,Ie]),Pt=y.useCallback(()=>{document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen()},[]);y.useEffect(()=>{const{current:$e}=se;if(!$e)return;const je=()=>{const kt=document.webkitFullscreenElement??document.fullscreenElement;kt&&kt===se.current?ge.emitter.dispatchFullscreenChange({isFullscreen:!0}):ge.emitter.dispatchFullscreenChange({isFullscreen:!1})};return $e.addEventListener("webkitfullscreenchange",je),$e.addEventListener("fullscreenchange",je),()=>{$e.removeEventListener("webkitfullscreenchange",je),$e.removeEventListener("fullscreenchange",je)}},[ge.emitter]);const Bt=D?.durationInFrames??1,Ze=y.useMemo(()=>!D||!fe?null:Nh({canvasSize:fe,compositionHeight:D.height,compositionWidth:D.width,previewSize:"auto"}),[fe,D]),rt=Ze?.scale??1,Zn=y.useRef(!1);y.useEffect(()=>{if(!Zn.current){Zn.current=!0;return}ge.emitter.dispatchScaleChange(rt)},[ge.emitter,rt]);const{setMediaVolume:Wt,setMediaMuted:dn}=y.useContext(ye.SetMediaVolumeContext),{mediaMuted:Sn,mediaVolume:Ht}=y.useContext(ye.MediaVolumeContext);y.useEffect(()=>{ge.emitter.dispatchVolumeChange(Ht)},[ge.emitter,Ht]);const Ut=Sn||Ht===0;y.useEffect(()=>{ge.emitter.dispatchMuteChange({isMuted:Ut})},[ge.emitter,Ut]);const[qt,Tt]=y.useState(!1);y.useEffect(()=>{let $e=null,je=!1;const kt=()=>{je=!1,requestAnimationFrame(()=>{ne===0?Tt(!0):$e=setTimeout(()=>{je||Tt(!0)},ne)})},jn=()=>{requestAnimationFrame(()=>{je=!0,Tt(!1),$e&&clearTimeout($e)})};return ge.emitter.addEventListener("waiting",kt),ge.emitter.addEventListener("resume",jn),()=>{ge.emitter.removeEventListener("waiting",kt),ge.emitter.removeEventListener("resume",jn),Tt(!1),$e&&clearTimeout($e),je=!0}},[ne,ge.emitter]),y.useImperativeHandle(F,()=>{const $e={play:ge.play,pause:()=>{Se(!1),ge.pause()},toggle:Vt,getContainerNode:()=>se.current,getCurrentFrame:ge.getCurrentFrame,isPlaying:ge.isPlaying,seekTo:je=>{const kt=Bt-1,jn=Math.max(0,Math.min(kt,je));ge.isPlaying()&&(Se(jn!==kt||i),ge.pause()),jn===kt&&!i&&ge.emitter.dispatchEnded(),ge.seek(jn)},isFullscreen:()=>{const{current:je}=se;return je?document.fullscreenElement===je||document.webkitFullscreenElement===je:!1},requestFullscreen:Mt,exitFullscreen:Pt,getVolume:()=>Sn?0:Ht,setVolume:je=>{if(typeof je!="number")throw new TypeError(`setVolume() takes a number, got value of type ${typeof je}`);if(isNaN(je))throw new TypeError("setVolume() got a number that is NaN. Volume must be between 0 and 1.");if(je<0||je>1)throw new TypeError(`setVolume() got a number that is out of range. Must be between 0 and 1, got ${typeof je}`);Wt(je)},isMuted:()=>Ut,mute:()=>{dn(!0)},unmute:()=>{dn(!1)},getScale:()=>rt,pauseAndReturnToPlayStart:()=>{ge.pauseAndReturnToPlayStart()}};return Object.assign(ge.emitter,$e)},[Bt,Pt,i,Sn,Ut,Ht,ge,Mt,dn,Wt,Vt,rt]);const Cn=ce?ce.component:null,tn=y.useMemo(()=>Dh({canvasSize:fe,config:D,style:n,overflowVisible:oe,layout:Ze}),[fe,D,Ze,oe,n]),Mr=y.useMemo(()=>Vh({config:D,layout:Ze,scale:rt,overflowVisible:oe}),[D,Ze,oe,rt]),di=y.useMemo(()=>Oh({config:D,layout:Ze,scale:rt,overflowVisible:oe}),[D,Ze,oe,rt]),fi=ge.pause,Pr=ge.emitter.dispatchError,ho=y.useCallback($e=>{fi(),Pr($e)},[Pr,fi]),mo=y.useCallback($e=>{$e.stopPropagation(),Mt()},[Mt]),go=y.useCallback($e=>{$e.stopPropagation(),Pt()},[Pt]),yo=y.useCallback($e=>{($e instanceof MouseEvent?$e.button===2:$e.nativeEvent.button)||Vt($e)},[Vt]),En=y.useCallback(()=>{pt(!0)},[]),_n=y.useCallback(()=>{pt(!1)},[]),pi=y.useCallback(()=>{ze?Pt():Mt()},[Pt,ze,Mt]),{handlePointerDown:er,handleDoubleClick:tr}=B1(yo,pi,p&&l&&Ie);y.useEffect(()=>{ke&&(ge.play(),Ee(!1))},[ke,ge]);const hi=y.useMemo(()=>v?v({height:tn.height,width:tn.width,isBuffering:qt}):null,[tn.height,tn.width,v,qt]),mi=y.useMemo(()=>({type:"scale",scale:rt}),[rt]);if(!D)return null;const $n=k?k({height:X==="player-size"?tn.height:D.height,width:X==="player-size"?tn.width:D.width,isBuffering:qt}):null;if($n===void 0)throw new TypeError("renderPoster() must return a React element, but undefined was returned");const vo=$n&&[R&&!ge.isPlaying()&&!Ot,E&&ge.isLastFrame&&!ge.isPlaying(),C&&!ge.hasPlayed&&!ge.isPlaying(),j&&qt&&ge.isPlaying(),$&&qt&&!ge.isPlaying()].some(Boolean),{left:Tr,top:gi,width:Ir,height:iu,...nr}=Mr,rr=d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:Mr,onPointerDown:u?er:void 0,onDoubleClick:p?tr:void 0,children:[d.jsxs("div",{style:di,className:Qc(ie),children:[Cn?d.jsx(Uh,{onError:ho,errorFallback:x,children:d.jsx(ye.CurrentScaleContext.Provider,{value:mi,children:d.jsx(Cn,{...ce?.props??{},...c??{}})})}):null,vo&&X==="composition-size"?d.jsx("div",{style:{...nr,width:D.width,height:D.height},onPointerDown:u?er:void 0,onDoubleClick:p?tr:void 0,children:$n}):null]}),d.jsx(N1,{})]}),vo&&X==="player-size"?d.jsx("div",{style:Mr,onPointerDown:u?er:void 0,onDoubleClick:p?tr:void 0,children:$n}):null,r?d.jsx(F1,{fps:D.fps,playing:ge.playing,toggle:ge.toggle,durationInFrames:D.durationInFrames,containerRef:se,onFullscreenButtonClick:mo,isFullscreen:ze,allowFullscreen:l,showVolumeControls:h,onExitFullscreenButtonClick:go,spaceKeyToPlayOrPause:g,onSeekEnd:_n,onSeekStart:En,inFrame:P,outFrame:M,initiallyShowControls:z,canvasSize:fe,renderFullscreenButton:V,renderPlayPauseButton:U,alwaysShowControls:ee,showPlaybackRateControl:Y,buffering:qt,hideControlsWhenPointerDoesntMove:ae,onDoubleClick:p?tr:void 0,onPointerDown:u?er:void 0,renderMuteButton:H,renderVolumeSlider:Z}):null]});return G||qh&&!W1?d.jsx("div",{ref:se,style:tn,className:w,children:rr}):d.jsx("div",{ref:se,style:tn,className:w,children:d.jsx(y.Suspense,{fallback:hi,children:rr})})},U1=y.forwardRef(H1),Yh="remotion.volumePreference",q1=(r,n,i)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(i??Yh,String(r))}catch(s){ye.Log.error({logLevel:n,tag:null},"Could not persist volume",s)}},Y1=r=>{if(typeof window>"u")return 1;try{const n=window.localStorage.getItem(r??Yh);return n?Number(n):1}catch{return 1}},Gc="player-comp",Qh=({children:r,timelineContext:n,fps:i,compositionHeight:s,compositionWidth:l,durationInFrames:c,component:u,numberOfSharedAudioTags:h,initiallyMuted:p,logLevel:g,audioLatencyHint:x,volumePersistenceKey:S})=>{const v=y.useMemo(()=>({compositions:[{component:u,durationInFrames:c,height:s,width:l,fps:i,id:Gc,nonce:777,folderName:null,parentFolderName:null,schema:null,calculateMetadata:null}],folders:[],currentCompositionMetadata:null,canvasContent:{type:"composition",compositionId:"player-comp"}}),[u,c,s,l,i]),[k,w]=y.useState(()=>p),[b,C]=y.useState(()=>Y1(S??null)),E=y.useMemo(()=>({mediaMuted:k,mediaVolume:b}),[k,b]),R=y.useCallback(M=>{C(M),q1(M,g,S??null)},[g,S]),j=y.useMemo(()=>({setMediaMuted:w,setMediaVolume:R}),[R]),$=y.useMemo(()=>({logLevel:g,mountTime:Date.now()}),[g]),P=y.useMemo(()=>({isPlayer:!0,isRendering:!1,isStudio:!1,isClientSideRendering:!1,isReadOnlyStudio:!1}),[]);return d.jsx(ye.RemotionEnvironmentContext.Provider,{value:P,children:d.jsx(ye.LogLevelContext.Provider,{value:$,children:d.jsx(ye.CanUseRemotionHooksProvider,{children:d.jsx(ye.Timeline.TimelineContext.Provider,{value:n,children:d.jsx(ye.CompositionManager.Provider,{value:v,children:d.jsx(ye.ResolveCompositionConfig,{children:d.jsx(ye.PrefetchProvider,{children:d.jsx(ye.DurationsContextProvider,{children:d.jsx(ye.MediaVolumeContext.Provider,{value:E,children:d.jsx(ye.SetMediaVolumeContext.Provider,{value:j,children:d.jsx(ye.SharedAudioContextProvider,{numberOfAudioTags:h,component:u,audioLatencyHint:x,children:d.jsx(ye.BufferingProvider,{children:r})})})})})})})})})})})})},Cp=!1,Q1=(r,n)=>{r||Cp||(Cp=!0,ye.Log.warn({logLevel:n,tag:null},"Note: Some companies are required to obtain a license to use Remotion. See: https://remotion.dev/license\nPass the `acknowledgeRemotionLicense` prop to `<Player />` function to make this message disappear."))},Ep=(r,n)=>{if(typeof r>"u"||r===null)return r??null;if(typeof r!="number")throw new TypeError(`"${n}" must be a number, but is ${JSON.stringify(r)}`);if(Number.isNaN(r))throw new TypeError(`"${n}" must not be NaN, but is ${JSON.stringify(r)}`);if(!Number.isFinite(r))throw new TypeError(`"${n}" must be finite, but is ${JSON.stringify(r)}`);if(r%1!==0)throw new TypeError(`"${n}" must be an integer, but is ${JSON.stringify(r)}`);return r},G1=({inFrame:r,durationInFrames:n,outFrame:i})=>{const s=Ep(r,"inFrame"),l=Ep(i,"outFrame");if(!(s===null&&l===null)){if(s!==null&&s>n-1)throw new Error("inFrame must be less than (durationInFrames - 1), but is "+s);if(l!==null&&l>n-1)throw new Error("outFrame must be less than (durationInFrames - 1), but is "+l);if(s!==null&&s<0)throw new Error("inFrame must be greater than 0, but is "+s);if(l!==null&&l<=0)throw new Error(`outFrame must be greater than 0, but is ${l}. If you want to render a single frame, use <Thumbnail /> instead.`);if(l!==null&&s!==null&&l<=s)throw new Error("outFrame must be greater than inFrame, but is "+l+" <= "+s)}},K1=({initialFrame:r,durationInFrames:n})=>{if(typeof n!="number")throw new Error(`\`durationInFrames\` must be a number, but is ${JSON.stringify(n)}`);if(!(typeof r>"u")){if(typeof r!="number")throw new Error(`\`initialFrame\` must be a number, but is ${JSON.stringify(r)}`);if(Number.isNaN(r))throw new Error("`initialFrame` must be a number, but is NaN");if(!Number.isFinite(r))throw new Error("`initialFrame` must be a number, but is Infinity");if(r%1!==0)throw new Error(`\`initialFrame\` must be an integer, but is ${JSON.stringify(r)}`);if(r>n-1)throw new Error(`\`initialFrame\` must be less or equal than \`durationInFrames - 1\`, but is ${JSON.stringify(r)}`)}},X1=r=>{if(r!==void 0){if(r>4)throw new Error(`The highest possible playback rate is 4. You passed: ${r}`);if(r<-4)throw new Error(`The lowest possible playback rate is -4. You passed: ${r}`);if(r===0)throw new Error("A playback rate of 0 is not supported.")}},J1=na.validateFps,_p=na.validateDimension,Z1=na.validateDurationInFrames,ex=na.validateDefaultAndInputProps,tx=r=>"component"in r?r.component:null,nx=({durationInFrames:r,compositionHeight:n,compositionWidth:i,fps:s,inputProps:l,style:c,controls:u=!1,loop:h=!1,autoPlay:p=!1,showVolumeControls:g=!0,allowFullscreen:x=!0,clickToPlay:S,doubleClickToFullscreen:v=!1,spaceKeyToPlayOrPause:k=!0,moveToBeginningWhenEnded:w=!0,numberOfSharedAudioTags:b=5,errorFallback:C=()=>"⚠️",playbackRate:E=1,renderLoading:R,className:j,showPosterWhenUnplayed:$,showPosterWhenEnded:P,showPosterWhenPaused:M,showPosterWhenBuffering:z,showPosterWhenBufferingAndPaused:V,initialFrame:U,renderPoster:H,inFrame:Z,outFrame:ee,initiallyShowControls:Y,renderFullscreenButton:X,renderPlayPauseButton:ne,renderVolumeSlider:ae,alwaysShowControls:oe=!1,initiallyMuted:B=!1,showPlaybackRateControl:ie=!1,posterFillMode:G="player-size",bufferStateDelayInMilliseconds:F,hideControlsWhenPointerDoesntMove:D=!0,overflowVisible:ce=!1,renderMuteButton:se,browserMediaControlsBehavior:fe,overrideInternalClassName:he,logLevel:Se="info",noSuspense:ke,acknowledgeRemotionLicense:Ee,audioLatencyHint:ze="interactive",volumePersistenceKey:ut,...Ot},pt)=>{if(typeof window<"u"&&(window.remotion_isPlayer=!0),Ot.defaultProps!==void 0)throw new Error("The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.");const Ie=tx(Ot);if(Ie?.type===pp)throw new TypeError("'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");if(Ie===pp)throw new TypeError("'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");y.useState(()=>Q1(!!Ee,Se));const ge=ye.useLazyComponent({compProps:Ot,componentName:"Player",noSuspense:!!ke});K1({initialFrame:U,durationInFrames:r});const[Rt,Vt]=y.useState(()=>({[Gc]:U??0})),[Mt,Pt]=y.useState(!1),[Bt]=y.useState("player-comp"),Ze=y.useRef(null),rt=y.useRef([]),Zn=y.useRef(!1),[Wt,dn]=y.useState(E);if(typeof n!="number")throw new TypeError(`'compositionHeight' must be a number but got '${typeof n}' instead`);if(typeof i!="number")throw new TypeError(`'compositionWidth' must be a number but got '${typeof i}' instead`);if(_p(n,"compositionHeight","of the <Player /> component"),_p(i,"compositionWidth","of the <Player /> component"),Z1(r,{component:"of the <Player/> component",allowFloats:!1}),J1(s,"as a prop of the <Player/> component",!1),ex(l,"inputProps",null),G1({durationInFrames:r,inFrame:Z,outFrame:ee}),typeof u!="boolean"&&typeof u<"u")throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof u}' instead`);if(typeof p!="boolean"&&typeof p<"u")throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof p}' instead`);if(typeof h!="boolean"&&typeof h<"u")throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof h}' instead`);if(typeof v!="boolean"&&typeof v<"u")throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof v}' instead`);if(typeof g!="boolean"&&typeof g<"u")throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof g}' instead`);if(typeof x!="boolean"&&typeof x<"u")throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof x}' instead`);if(typeof S!="boolean"&&typeof S<"u")throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof S}' instead`);if(typeof k!="boolean"&&typeof k<"u")throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof k}' instead`);if(typeof b!="number"||b%1!==0||!Number.isFinite(b)||Number.isNaN(b)||b<0)throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${b}' instead`);X1(Wt),y.useEffect(()=>{dn(E)},[E]),y.useImperativeHandle(pt,()=>Ze.current,[]),y.useState(()=>{ye.playbackLogging({logLevel:Se,message:`[player] Mounting <Player>. User agent = ${typeof navigator>"u"?"server":navigator.userAgent}`,tag:"player",mountTime:Date.now()})});const Sn=y.useMemo(()=>({frame:Rt,playing:Mt,rootId:Bt,playbackRate:Wt,imperativePlaying:Zn,setPlaybackRate:Tt=>{dn(Tt)},audioAndVideoTags:rt}),[Rt,Wt,Mt,Bt]),Ht=y.useMemo(()=>({setFrame:Vt,setPlaying:Pt}),[Vt]);typeof window<"u"&&y.useLayoutEffect(()=>{ye.CSSUtils.injectCSS(ye.CSSUtils.makeDefaultPreviewCSS(`.${Qc(he)}`,"#fff"))},[he]);const Ut=y.useMemo(()=>l??{},[l]),qt=y.useMemo(()=>fe??{mode:"prevent-media-session"},[fe]);return d.jsx(ye.IsPlayerContextProvider,{children:d.jsx(Qh,{timelineContext:Sn,component:ge,compositionHeight:n,compositionWidth:i,durationInFrames:r,fps:s,numberOfSharedAudioTags:b,initiallyMuted:B,logLevel:Se,audioLatencyHint:ze,volumePersistenceKey:ut,children:d.jsx(ye.Timeline.SetTimelineContext.Provider,{value:Ht,children:d.jsx(Xv,{currentPlaybackRate:Wt,children:d.jsx(U1,{ref:Ze,posterFillMode:G,renderLoading:R,autoPlay:!!p,loop:!!h,controls:!!u,errorFallback:C,style:c,inputProps:Ut,allowFullscreen:!!x,moveToBeginningWhenEnded:!!w,clickToPlay:typeof S=="boolean"?S:!!u,showVolumeControls:!!g,doubleClickToFullscreen:!!v,spaceKeyToPlayOrPause:!!k,playbackRate:Wt,className:j??void 0,showPosterWhenUnplayed:!!$,showPosterWhenEnded:!!P,showPosterWhenPaused:!!M,showPosterWhenBuffering:!!z,showPosterWhenBufferingAndPaused:!!V,renderPoster:H,inFrame:Z??null,outFrame:ee??null,initiallyShowControls:Y??!0,renderFullscreen:X??null,renderPlayPauseButton:ne??null,renderMuteButton:se??null,renderVolumeSlider:ae??null,alwaysShowControls:oe,showPlaybackRateControl:ie,bufferStateDelayInMilliseconds:F??300,hideControlsWhenPointerDoesntMove:D,overflowVisible:ce,browserMediaControlsBehavior:qt,overrideInternalClassName:he??void 0,noSuspense:!!ke})})})})})},rx=y.forwardRef,xc=rx(nx),ox=()=>{const r=y.useContext(Wh);if(!r)throw new TypeError("Expected Player event emitter context");return y.useMemo(()=>({emitter:r}),[r])},wc=Ce.version.split(".")[0];if(wc==="0")throw new Error(`Version ${wc} of "react" is not supported by Remotion`);var ix=parseInt(wc,10)>=18,sx=({style:r,inputProps:n,errorFallback:i,renderLoading:s,className:l,overflowVisible:c,noSuspense:u,overrideInternalClassName:h},p)=>{const g=ye.useUnsafeVideoConfig(),x=ye.useVideo(),S=y.useRef(null),v=Yc(S,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),k=y.useMemo(()=>!g||!v?null:Nh({canvasSize:v,compositionHeight:g.height,compositionWidth:g.width,previewSize:"auto"}),[v,g]),w=k?.scale??1,b=ox();Hh(b.emitter),y.useImperativeHandle(p,()=>{const V={getContainerNode:()=>S.current,getScale:()=>w};return Object.assign(b.emitter,V)},[w,b.emitter]);const C=x?x.component:null,E=y.useMemo(()=>Dh({config:g,style:r,canvasSize:v,overflowVisible:c,layout:k}),[v,g,k,c,r]),R=y.useMemo(()=>Vh({config:g,layout:k,scale:w,overflowVisible:c}),[g,k,c,w]),j=y.useMemo(()=>Oh({config:g,layout:k,scale:w,overflowVisible:c}),[g,k,c,w]),$=y.useCallback(V=>{b.emitter.dispatchError(V)},[b.emitter]),P=y.useMemo(()=>s?s({height:E.height,width:E.width,isBuffering:!1}):null,[E.height,E.width,s]),M=y.useMemo(()=>({type:"scale",scale:w}),[w]);if(!g)return null;const z=d.jsx("div",{style:R,children:d.jsx("div",{style:j,className:Qc(h),children:C?d.jsx(Uh,{onError:$,errorFallback:i,children:d.jsx(ye.CurrentScaleContext.Provider,{value:M,children:d.jsx(C,{...x?.props??{},...n??{}})})}):null})});return u||qh&&!ix?d.jsx("div",{ref:S,style:E,className:l,children:z}):d.jsx("div",{ref:S,style:E,className:l,children:d.jsx(y.Suspense,{fallback:P,children:z})})},ax=y.forwardRef(sx),lx=({frameToDisplay:r,style:n,inputProps:i,compositionHeight:s,compositionWidth:l,durationInFrames:c,fps:u,className:h,errorFallback:p=()=>"⚠️",renderLoading:g,overflowVisible:x=!1,overrideInternalClassName:S,logLevel:v="info",noSuspense:k,...w},b)=>{typeof window<"u"&&y.useLayoutEffect(()=>{window.remotion_isPlayer=!0},[]);const[C]=y.useState(()=>String(_r(null))),E=y.useRef(null),R=y.useMemo(()=>({playing:!1,frame:{[Gc]:r},rootId:C,imperativePlaying:{current:!1},playbackRate:1,setPlaybackRate:()=>{throw new Error("thumbnail")},audioAndVideoTags:{current:[]}}),[r,C]);y.useImperativeHandle(b,()=>E.current,[]);const j=ye.useLazyComponent({compProps:w,componentName:"Thumbnail",noSuspense:!!k}),[$]=y.useState(()=>new Kv),P=y.useMemo(()=>i??{},[i]);return d.jsx(ye.IsPlayerContextProvider,{children:d.jsx(Qh,{timelineContext:R,component:j,compositionHeight:s,compositionWidth:l,durationInFrames:c,fps:u,numberOfSharedAudioTags:0,initiallyMuted:!0,logLevel:v,audioLatencyHint:"playback",children:d.jsx(Wh.Provider,{value:$,children:d.jsx(ax,{ref:E,className:h,errorFallback:p,inputProps:P,renderLoading:g,style:n,overflowVisible:x,overrideInternalClassName:S,noSuspense:!!k})})})})},cx=y.forwardRef;cx(lx);const W={fonts:{marker:{primary:"'Permanent Marker', cursive",secondary:"'Cabin Sketch', cursive",handwritten:"'Patrick Hand', cursive"},structure:{primary:"'Inter', sans-serif",secondary:"'DM Sans', sans-serif"}},colors:{canvas:{primary:"#FAFBFC",cream:"#FFF9F0"},markers:{blue:"#2E7FE4",red:"#E74C3C",green:"#27AE60",purple:"#8E44AD",orange:"#E67E22"},text:{primary:"#1A1A1A"}}},ii=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.red,ink:W.colors.text.primary},l=r.fill?.texts||{},c=36,u={question1:c*1,question2:c*2.2,pause1:c*3.4,visual1:c*4.2,spark1:c*5.4,spark2:c*6.8,spark3:c*8.2,pause2:c*9.6,challenge:c*10.4,settle:c*12},h=te(n,[0,u.visual1,u.challenge,u.settle+20],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),p=Math.sin(n*.008)*2,g=Math.cos(n*.006)*1.5,x=(w,b=60)=>{if(n<w||n>w+b)return 1;const C=(n-w)/b;return 1+Math.sin(C*Math.PI*3)*.04},S=(w,b=20,C="left")=>{if(n<w)return{opacity:0,clipPath:"inset(0 100% 0 0)"};if(n>=w+b)return{opacity:1,clipPath:"inset(0 0 0 0)"};const E=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"}),R={left:`inset(0 ${(1-E)*100}% 0 0)`,right:`inset(0 0 0 ${(1-E)*100}%)`,center:`polygon(
        ${50-E*50}% 0%, 
        ${50+E*50}% 0%, 
        ${50+E*50}% 100%, 
        ${50-E*50}% 100%
      )`};return{opacity:te(E,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:R[C]||R.left,progress:E}},v=(w,b=25)=>{if(n<w)return{opacity:0,strokeDashoffset:1,scale:0};if(n>=w+b)return{opacity:1,strokeDashoffset:0,scale:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:C,strokeDashoffset:1-C,scale:C}},k="0 2px 8px rgba(0, 0, 0, 0.06)";return d.jsx(Fe,{style:{backgroundColor:s.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${h}) translate(${p}px, ${g}px)`,padding:"60px 80px"},children:[d.jsxs("div",{style:{position:"absolute",top:80,left:80,right:80,display:"flex",flexDirection:"column",gap:20},children:[n>=u.question1&&d.jsxs("div",{style:{position:"relative"},children:[d.jsx("div",{style:{...S(u.question1,24,"left")},children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:64,fontWeight:700,color:s.accent,lineHeight:1.2,textShadow:k},children:l.questionPart1||"What if losing consciousness"})}),(()=>{const w=S(u.question1,24,"left");if(w.progress!==void 0&&w.progress<1)return d.jsx("div",{style:{position:"absolute",left:`${w.progress*100}%`,top:"50%",width:20,height:20,borderRadius:"50%",backgroundColor:s.accent,transform:"translateY(-50%)",boxShadow:`0 0 20px ${s.accent}`,zIndex:10}})})()]}),n>=u.question2&&d.jsxs("div",{style:{position:"relative",paddingLeft:60},children:[d.jsx("div",{style:{...S(u.question2,24,"left")},children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:64,fontWeight:700,color:s.accent,lineHeight:1.2,textShadow:k},children:l.questionPart2||"made you smarter?"})}),(()=>{const w=S(u.question2,24,"left");if(w.progress!==void 0&&w.progress<1)return d.jsx("div",{style:{position:"absolute",left:`${w.progress*100}%`,top:"50%",width:20,height:20,borderRadius:"50%",backgroundColor:s.accent,transform:"translateY(-50%)",boxShadow:`0 0 20px ${s.accent}`}})})()]}),n>=u.question2+20&&d.jsx("svg",{width:"600",height:"8",viewBox:"0 0 600 8",style:{marginLeft:60,marginTop:8},children:d.jsx("line",{x1:"0",y1:"4",x2:"600",y2:"4",stroke:s.accent,strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"600",strokeDashoffset:te(n,[u.question2+20,u.question2+45],[600,0],{easing:re.out(re.ease),extrapolateRight:"clamp"})})})]}),n>=u.pause1&&n<u.visual1&&d.jsx("div",{style:{position:"absolute",top:80,left:80,right:80,transform:`scale(${x(u.pause1)})`,pointerEvents:"none"}}),n>=u.visual1&&d.jsx("div",{style:{position:"absolute",top:"35%",left:"50%",transform:"translateX(-50%)"},children:d.jsxs("div",{style:{position:"relative",width:200,height:200},children:[d.jsx("svg",{width:"200",height:"200",viewBox:"0 0 200 200",style:{position:"absolute",inset:0},children:d.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:s.accent,strokeWidth:"5",strokeDasharray:"565",strokeDashoffset:v(u.visual1,30).strokeDashoffset*565,opacity:v(u.visual1,30).opacity})}),d.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:110,opacity:v(u.visual1+15,15).opacity,transform:`scale(${v(u.visual1+15,15).scale})`},children:l.icon||"🧠"})]})}),d.jsxs("div",{style:{position:"absolute",bottom:180,left:80,right:80,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:40},children:[n>=u.spark1&&d.jsx("div",{style:{opacity:v(u.spark1,20).opacity,transform:`translateY(${(1-v(u.spark1,20).scale)*30}px)`},children:d.jsxs("div",{style:{padding:20,backgroundColor:"rgba(255, 255, 255, 0.95)",borderLeft:`5px solid ${s.accent}`,borderRadius:6,boxShadow:k,minHeight:100,display:"flex",flexDirection:"column",gap:12},children:[d.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,fontWeight:700,color:"#fff",transform:`scale(${v(u.spark1+8,12).scale})`,opacity:v(u.spark1+8,12).opacity},children:"1"}),d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:S(u.spark1+12,20,"left"),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:s.ink,lineHeight:1.4},children:l.spark1||"brain clears toxins"})})})]})}),n>=u.spark2&&d.jsx("div",{style:{opacity:v(u.spark2,20).opacity,transform:`translateY(${(1-v(u.spark2,20).scale)*30}px)`},children:d.jsxs("div",{style:{padding:20,backgroundColor:"rgba(255, 255, 255, 0.95)",borderLeft:`5px solid ${s.accent}`,borderRadius:6,boxShadow:k,minHeight:100,display:"flex",flexDirection:"column",gap:12},children:[d.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,fontWeight:700,color:"#fff",transform:`scale(${v(u.spark2+8,12).scale})`,opacity:v(u.spark2+8,12).opacity},children:"2"}),d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:S(u.spark2+12,20,"left"),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:s.ink,lineHeight:1.4},children:l.spark2||"memories consolidate"})})})]})}),n>=u.spark3&&d.jsx("div",{style:{opacity:v(u.spark3,20).opacity,transform:`translateY(${(1-v(u.spark3,20).scale)*30}px)`},children:d.jsxs("div",{style:{padding:20,backgroundColor:"rgba(255, 255, 255, 0.95)",borderLeft:`5px solid ${s.accent}`,borderRadius:6,boxShadow:k,minHeight:100,display:"flex",flexDirection:"column",gap:12},children:[d.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,fontWeight:700,color:"#fff",transform:`scale(${v(u.spark3+8,12).scale})`,opacity:v(u.spark3+8,12).opacity},children:"3"}),d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:S(u.spark3+12,20,"left"),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:s.ink,lineHeight:1.4},children:l.spark3||"neurons rewire"})})})]})})]}),n>=u.spark1+30&&d.jsxs("svg",{style:{position:"absolute",inset:0,pointerEvents:"none"},viewBox:"0 0 1920 1080",children:[d.jsx("path",{d:"M 960 480 Q 800 600, 300 800",fill:"none",stroke:s.accent,strokeWidth:"3",strokeDasharray:"800",strokeDashoffset:te(n,[u.spark1+30,u.spark1+55],[800,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.3"}),n>=u.spark2+30&&d.jsx("path",{d:"M 960 480 L 960 800",fill:"none",stroke:s.accent,strokeWidth:"3",strokeDasharray:"320",strokeDashoffset:te(n,[u.spark2+30,u.spark2+50],[320,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.3"}),n>=u.spark3+30&&d.jsx("path",{d:"M 960 480 Q 1120 600, 1620 800",fill:"none",stroke:s.accent,strokeWidth:"3",strokeDasharray:"800",strokeDashoffset:te(n,[u.spark3+30,u.spark3+55],[800,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.3"})]}),n>=u.pause2&&n<u.challenge&&d.jsx("div",{style:{position:"absolute",bottom:180,left:80,right:80,transform:`scale(${x(u.pause2,40)})`,pointerEvents:"none"}}),n>=u.challenge&&d.jsx("div",{style:{position:"absolute",top:280,left:"50%",transform:"translateX(-50%)",maxWidth:"80%",zIndex:10},children:d.jsx("div",{style:{opacity:v(u.challenge,25).opacity,transform:`scale(${v(u.challenge,25).scale}) rotate(-0.5deg)`},children:d.jsxs("div",{style:{position:"relative",padding:"28px 50px",backgroundColor:s.accent,borderRadius:10,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)"},children:[d.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{position:"absolute",inset:-6,pointerEvents:"none"},children:d.jsx("rect",{x:"3",y:"3",width:"94",height:"94",fill:"none",stroke:s.ink,strokeWidth:"2",strokeDasharray:"376",strokeDashoffset:te(n,[u.challenge+12,u.challenge+37],[376,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.15"})}),d.jsx("div",{style:S(u.challenge+8,28,"center"),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:48,fontWeight:700,color:"#FFFFFF",lineHeight:1.3,textAlign:"center",display:"block"},children:l.challenge||"Sleep isn't rest. It's renovation."})})]})})}),n>=u.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:s.bg,opacity:te(n,[u.settle,u.settle+40],[0,.25],{extrapolateRight:"clamp"}),pointerEvents:"none"}})]})})},ux={img_lightbulb:{imageId:"img_lightbulb",description:"Light bulb icon representing ideas and innovation",url:"https://api.dicebear.com/7.x/shapes/svg?seed=lightbulb&backgroundColor=4a9c3b"},img_brain:{imageId:"img_brain",description:"Brain icon representing thinking and cognition",url:"https://api.dicebear.com/7.x/shapes/svg?seed=brain&backgroundColor=9b59b6"},img_book:{imageId:"img_book",description:"Book icon representing knowledge and learning",url:"https://api.dicebear.com/7.x/shapes/svg?seed=book&backgroundColor=3498db"},img_question:{imageId:"img_question",description:"Question mark icon for curiosity and inquiry",url:"https://api.dicebear.com/7.x/shapes/svg?seed=question&backgroundColor=e74c3c"},img_heart:{imageId:"img_heart",description:"Heart icon representing emotion and connection",url:"https://api.dicebear.com/7.x/shapes/svg?seed=heart&backgroundColor=e74c3c"},img_star:{imageId:"img_star",description:"Star icon for achievement and excellence",url:"https://api.dicebear.com/7.x/shapes/svg?seed=star&backgroundColor=f39c12"},img_smile:{imageId:"img_smile",description:"Smile icon for positivity and happiness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=smile&backgroundColor=86BC25"},img_network:{imageId:"img_network",description:"Network icon representing connections and sharing",url:"https://api.dicebear.com/7.x/shapes/svg?seed=network&backgroundColor=3498db"},img_clock:{imageId:"img_clock",description:"Clock icon representing time and timing",url:"https://api.dicebear.com/7.x/shapes/svg?seed=clock&backgroundColor=f39c12"},img_calendar:{imageId:"img_calendar",description:"Calendar icon for scheduling and planning",url:"https://api.dicebear.com/7.x/shapes/svg?seed=calendar&backgroundColor=16a085"},img_rocket:{imageId:"img_rocket",description:"Rocket icon for launch and progress",url:"https://api.dicebear.com/7.x/shapes/svg?seed=rocket&backgroundColor=e67e22"},img_target:{imageId:"img_target",description:"Target icon for goals and objectives",url:"https://api.dicebear.com/7.x/shapes/svg?seed=target&backgroundColor=c0392b"},img_tool:{imageId:"img_tool",description:"Tool icon representing implementation and doing",url:"https://api.dicebear.com/7.x/shapes/svg?seed=tool&backgroundColor=7f8c8d"},img_pencil:{imageId:"img_pencil",description:"Pencil icon for writing and creating",url:"https://api.dicebear.com/7.x/shapes/svg?seed=pencil&backgroundColor=34495e"},img_checkmark:{imageId:"img_checkmark",description:"Checkmark icon for completion and success",url:"https://api.dicebear.com/7.x/shapes/svg?seed=check&backgroundColor=27ae60"},img_puzzle:{imageId:"img_puzzle",description:"Puzzle piece for problem-solving",url:"https://api.dicebear.com/7.x/shapes/svg?seed=puzzle&backgroundColor=8e44ad"},img_mirror:{imageId:"img_mirror",description:"Mirror icon for reflection and self-awareness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=mirror&backgroundColor=95a5a6"},img_plant:{imageId:"img_plant",description:"Plant icon representing growth and development",url:"https://api.dicebear.com/7.x/shapes/svg?seed=plant&backgroundColor=86BC25"},img_medal:{imageId:"img_medal",description:"Medal icon for achievement and recognition",url:"https://api.dicebear.com/7.x/shapes/svg?seed=medal&backgroundColor=f1c40f"},img_trophy:{imageId:"img_trophy",description:"Trophy for accomplishment and mastery",url:"https://api.dicebear.com/7.x/shapes/svg?seed=trophy&backgroundColor=f39c12"},img_sparkle:{imageId:"img_sparkle",description:"Sparkle/magic effect",url:"https://api.dicebear.com/7.x/shapes/svg?seed=sparkle&backgroundColor=732282"},img_arrow:{imageId:"img_arrow",description:"Arrow for direction and flow",url:"https://api.dicebear.com/7.x/shapes/svg?seed=arrow&backgroundColor=2c3e50"},img_atom:{imageId:"img_atom",description:"Atom icon for science and physics",url:"https://api.dicebear.com/7.x/shapes/svg?seed=atom&backgroundColor=3498db"},img_microscope:{imageId:"img_microscope",description:"Microscope for scientific investigation",url:"https://api.dicebear.com/7.x/shapes/svg?seed=microscope&backgroundColor=16a085"},img_telescope:{imageId:"img_telescope",description:"Telescope for astronomy and vision",url:"https://api.dicebear.com/7.x/shapes/svg?seed=telescope&backgroundColor=34495e"},img_dna:{imageId:"img_dna",description:"DNA helix for genetics and biology",url:"https://api.dicebear.com/7.x/shapes/svg?seed=dna&backgroundColor=9b59b6"},img_beaker:{imageId:"img_beaker",description:"Chemistry beaker for experiments",url:"https://api.dicebear.com/7.x/shapes/svg?seed=beaker&backgroundColor=e67e22"},img_chip:{imageId:"img_chip",description:"Computer chip for technology",url:"https://api.dicebear.com/7.x/shapes/svg?seed=chip&backgroundColor=2c3e50"},img_code:{imageId:"img_code",description:"Code brackets for programming",url:"https://api.dicebear.com/7.x/shapes/svg?seed=code&backgroundColor=27ae60"},img_database:{imageId:"img_database",description:"Database for data storage",url:"https://api.dicebear.com/7.x/shapes/svg?seed=database&backgroundColor=3498db"},img_wifi:{imageId:"img_wifi",description:"WiFi signal for connectivity",url:"https://api.dicebear.com/7.x/shapes/svg?seed=wifi&backgroundColor=1abc9c"},img_cloud:{imageId:"img_cloud",description:"Cloud for cloud computing",url:"https://api.dicebear.com/7.x/shapes/svg?seed=cloud&backgroundColor=95a5a6"},img_megaphone:{imageId:"img_megaphone",description:"Megaphone for announcements",url:"https://api.dicebear.com/7.x/shapes/svg?seed=megaphone&backgroundColor=e74c3c"},img_speech:{imageId:"img_speech",description:"Speech bubble for communication",url:"https://api.dicebear.com/7.x/shapes/svg?seed=speech&backgroundColor=3498db"},img_handshake:{imageId:"img_handshake",description:"Handshake for agreement and partnership",url:"https://api.dicebear.com/7.x/shapes/svg?seed=handshake&backgroundColor=16a085"},img_people:{imageId:"img_people",description:"Group of people for community",url:"https://api.dicebear.com/7.x/shapes/svg?seed=people&backgroundColor=9b59b6"},img_globe:{imageId:"img_globe",description:"Globe for global reach",url:"https://api.dicebear.com/7.x/shapes/svg?seed=globe&backgroundColor=3498db"},img_chart:{imageId:"img_chart",description:"Chart for data and analytics",url:"https://api.dicebear.com/7.x/shapes/svg?seed=chart&backgroundColor=27ae60"},img_money:{imageId:"img_money",description:"Money/dollar sign for finance",url:"https://api.dicebear.com/7.x/shapes/svg?seed=money&backgroundColor=f39c12"},img_briefcase:{imageId:"img_briefcase",description:"Briefcase for business and work",url:"https://api.dicebear.com/7.x/shapes/svg?seed=briefcase&backgroundColor=34495e"},img_graph:{imageId:"img_graph",description:"Line graph for trends",url:"https://api.dicebear.com/7.x/shapes/svg?seed=graph&backgroundColor=16a085"},img_pie:{imageId:"img_pie",description:"Pie chart for proportions",url:"https://api.dicebear.com/7.x/shapes/svg?seed=pie&backgroundColor=9b59b6"},img_graduation:{imageId:"img_graduation",description:"Graduation cap for education",url:"https://api.dicebear.com/7.x/shapes/svg?seed=graduation&backgroundColor=2c3e50"},img_teacher:{imageId:"img_teacher",description:"Teacher/instructor icon",url:"https://api.dicebear.com/7.x/shapes/svg?seed=teacher&backgroundColor=3498db"},img_notebook:{imageId:"img_notebook",description:"Notebook for notes and learning",url:"https://api.dicebear.com/7.x/shapes/svg?seed=notebook&backgroundColor=e67e22"},img_library:{imageId:"img_library",description:"Library or bookshelf",url:"https://api.dicebear.com/7.x/shapes/svg?seed=library&backgroundColor=8e44ad"},img_certificate:{imageId:"img_certificate",description:"Certificate for achievement",url:"https://api.dicebear.com/7.x/shapes/svg?seed=certificate&backgroundColor=f1c40f"},img_tree:{imageId:"img_tree",description:"Tree for nature and growth",url:"https://api.dicebear.com/7.x/shapes/svg?seed=tree&backgroundColor=27ae60"},img_leaf:{imageId:"img_leaf",description:"Leaf for sustainability",url:"https://api.dicebear.com/7.x/shapes/svg?seed=leaf&backgroundColor=86BC25"},img_sun:{imageId:"img_sun",description:"Sun for energy and brightness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=sun&backgroundColor=f39c12"},img_moon:{imageId:"img_moon",description:"Moon for night and cycles",url:"https://api.dicebear.com/7.x/shapes/svg?seed=moon&backgroundColor=34495e"},img_water:{imageId:"img_water",description:"Water drop for hydration",url:"https://api.dicebear.com/7.x/shapes/svg?seed=water&backgroundColor=3498db"},img_fitness:{imageId:"img_fitness",description:"Dumbbell for fitness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=fitness&backgroundColor=e74c3c"},img_apple:{imageId:"img_apple",description:"Apple for health and nutrition",url:"https://api.dicebear.com/7.x/shapes/svg?seed=apple&backgroundColor=e74c3c"},img_medkit:{imageId:"img_medkit",description:"Medical kit for healthcare",url:"https://api.dicebear.com/7.x/shapes/svg?seed=medkit&backgroundColor=27ae60"},img_heartbeat:{imageId:"img_heartbeat",description:"Heartbeat line for vitality",url:"https://api.dicebear.com/7.x/shapes/svg?seed=heartbeat&backgroundColor=e74c3c"},img_meditation:{imageId:"img_meditation",description:"Meditation for mindfulness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=meditation&backgroundColor=9b59b6"},img_palette:{imageId:"img_palette",description:"Paint palette for creativity",url:"https://api.dicebear.com/7.x/shapes/svg?seed=palette&backgroundColor=e67e22"},img_music:{imageId:"img_music",description:"Music note for audio",url:"https://api.dicebear.com/7.x/shapes/svg?seed=music&backgroundColor=9b59b6"},img_camera:{imageId:"img_camera",description:"Camera for photography",url:"https://api.dicebear.com/7.x/shapes/svg?seed=camera&backgroundColor=34495e"},img_film:{imageId:"img_film",description:"Film reel for video",url:"https://api.dicebear.com/7.x/shapes/svg?seed=film&backgroundColor=2c3e50"},img_canvas:{imageId:"img_canvas",description:"Canvas for painting",url:"https://api.dicebear.com/7.x/shapes/svg?seed=canvas&backgroundColor=ecf0f1"},img_chef:{imageId:"img_chef",description:"Chef hat for cooking",url:"https://api.dicebear.com/7.x/shapes/svg?seed=chef&backgroundColor=ecf0f1"},img_coffee:{imageId:"img_coffee",description:"Coffee cup for energy",url:"https://api.dicebear.com/7.x/shapes/svg?seed=coffee&backgroundColor=795548"},img_utensils:{imageId:"img_utensils",description:"Fork and knife for dining",url:"https://api.dicebear.com/7.x/shapes/svg?seed=utensils&backgroundColor=95a5a6"},img_pizza:{imageId:"img_pizza",description:"Pizza slice for food",url:"https://api.dicebear.com/7.x/shapes/svg?seed=pizza&backgroundColor=e74c3c"},img_plane:{imageId:"img_plane",description:"Airplane for travel",url:"https://api.dicebear.com/7.x/shapes/svg?seed=plane&backgroundColor=3498db"},img_car:{imageId:"img_car",description:"Car for transportation",url:"https://api.dicebear.com/7.x/shapes/svg?seed=car&backgroundColor=e74c3c"},img_bicycle:{imageId:"img_bicycle",description:"Bicycle for cycling",url:"https://api.dicebear.com/7.x/shapes/svg?seed=bicycle&backgroundColor=27ae60"},img_compass:{imageId:"img_compass",description:"Compass for navigation",url:"https://api.dicebear.com/7.x/shapes/svg?seed=compass&backgroundColor=34495e"},img_map:{imageId:"img_map",description:"Map for location",url:"https://api.dicebear.com/7.x/shapes/svg?seed=map&backgroundColor=16a085"},img_shield:{imageId:"img_shield",description:"Shield for protection",url:"https://api.dicebear.com/7.x/shapes/svg?seed=shield&backgroundColor=3498db"},img_lock:{imageId:"img_lock",description:"Lock for security",url:"https://api.dicebear.com/7.x/shapes/svg?seed=lock&backgroundColor=34495e"},img_key:{imageId:"img_key",description:"Key for access",url:"https://api.dicebear.com/7.x/shapes/svg?seed=key&backgroundColor=f39c12"},img_safe:{imageId:"img_safe",description:"Safe for storing valuables",url:"https://api.dicebear.com/7.x/shapes/svg?seed=safe&backgroundColor=7f8c8d"},img_celebrate:{imageId:"img_celebrate",description:"Party popper for celebration",url:"https://api.dicebear.com/7.x/shapes/svg?seed=celebrate&backgroundColor=f39c12"},img_thinking:{imageId:"img_thinking",description:"Thinking face for contemplation",url:"https://api.dicebear.com/7.x/shapes/svg?seed=thinking&backgroundColor=95a5a6"},img_surprised:{imageId:"img_surprised",description:"Surprised expression",url:"https://api.dicebear.com/7.x/shapes/svg?seed=surprised&backgroundColor=f39c12"},img_thumbsup:{imageId:"img_thumbsup",description:"Thumbs up for approval",url:"https://api.dicebear.com/7.x/shapes/svg?seed=thumbsup&backgroundColor=27ae60"},img_infinity:{imageId:"img_infinity",description:"Infinity symbol for limitless",url:"https://api.dicebear.com/7.x/shapes/svg?seed=infinity&backgroundColor=9b59b6"},img_balance:{imageId:"img_balance",description:"Balance scales for equilibrium",url:"https://api.dicebear.com/7.x/shapes/svg?seed=balance&backgroundColor=34495e"},img_magnet:{imageId:"img_magnet",description:"Magnet for attraction",url:"https://api.dicebear.com/7.x/shapes/svg?seed=magnet&backgroundColor=e74c3c"},img_gear:{imageId:"img_gear",description:"Gear for settings and mechanics",url:"https://api.dicebear.com/7.x/shapes/svg?seed=gear&backgroundColor=7f8c8d"},img_lightning:{imageId:"img_lightning",description:"Lightning bolt for speed and energy",url:"https://api.dicebear.com/7.x/shapes/svg?seed=lightning&backgroundColor=f39c12"},img_fire:{imageId:"img_fire",description:"Fire for passion and intensity",url:"https://api.dicebear.com/7.x/shapes/svg?seed=fire&backgroundColor=e74c3c"},img_snowflake:{imageId:"img_snowflake",description:"Snowflake for uniqueness",url:"https://api.dicebear.com/7.x/shapes/svg?seed=snowflake&backgroundColor=3498db"},img_diamond:{imageId:"img_diamond",description:"Diamond for value and clarity",url:"https://api.dicebear.com/7.x/shapes/svg?seed=diamond&backgroundColor=9b59b6"}},dx=r=>{const n=ux[r];return n?n.url:(console.warn(`Image not found in library: ${r}`),`https://via.placeholder.com/100?text=${r}`)},oa=(r={})=>{const n={};return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&!s.startsWith("http")?n[i]=dx(s):n[i]=s}),n},cn=(r,n,i=0,s=30)=>{const l=bt({frame:Math.max(0,r-i),fps:n,config:{damping:15,stiffness:100}});return{opacity:l,transform:`translateY(${(1-l)*30}px)`}},bc=(r,n,i=0)=>{const s=bt({frame:Math.max(0,r-i),fps:n,config:{damping:10,stiffness:120}});return{opacity:Math.min(s*2,1),transform:`scale(${s})`}},$p=(r,n,i=0,s="left",l=100)=>{const c=bt({frame:Math.max(0,r-i),fps:n,config:{damping:12,stiffness:100}}),u={left:`translateX(${(1-c)*-l}px)`,right:`translateX(${(1-c)*l}px)`,up:`translateY(${(1-c)*-l}px)`,down:`translateY(${(1-c)*l}px)`};return{opacity:c,transform:u[s]}},Gh=(r,n=.08,i=.05)=>({transform:`scale(${1+Math.sin(r*n)*i})`}),bn=(r,n=0)=>({transform:`scale(${1+Math.sin((r+n)*.03)*.01})`}),ia=(r=.3)=>({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E")`,opacity:r,pointerEvents:"none"}),fx=y.createContext(void 0),px=()=>y.useContext(fx),Kh=({scene:r})=>{const n=Te(),{fps:i}=Me();px();const s=r.style_tokens?.colors||{bg:"var(--kn-bg, #fafafa)",accent:"var(--kn-accent, #e74c3c)",support:"var(--kn-accent-support, #f39c12)",ink:"var(--kn-ink, #2d3436)",highlight:"var(--kn-highlight, #ff6b6b)"},l={title:{family:'var(--kn-font-title, "Cabin Sketch")',weight:700},body:{},story:{family:'var(--kn-font-body, "Patrick Hand")',size:38}},c={title:r.style_tokens?.fonts?.title||l.title,body:r.style_tokens?.fonts?.body||l.body,story:r.style_tokens?.fonts?.story||l.story},u=oa(r.fill?.images),h=0,p=45,g=120,x=240,S=360,v=cn(n,i,h),k=bc(n,i,p),w=cn(n,i,g),b=bc(n,i,x),C=cn(n,i,S),E=n>h?bn(n,0):{};return d.jsxs("div",{className:"kn-bg-default",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:ia(.3)}),d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"80px 120px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:40},children:[n>=h&&d.jsx("div",{style:{...v,textAlign:"center",maxWidth:"85%"},children:d.jsx("div",{className:"kn-text-h2",style:{color:s.accent,marginBottom:20,...E},children:r.fill.texts.opening||"📖 Once upon a time..."})}),n>=p&&d.jsxs("div",{style:{...k,display:"flex",alignItems:"center",gap:30,backgroundColor:s.bg==="var(--kn-bg, #fafafa)"?"#ffffff":"rgba(255, 255, 255, 0.95)",padding:"40px 60px",borderRadius:"var(--kn-radius-lg, 24px)",boxShadow:"var(--kn-shadow-md)",border:`4px solid ${s.support}`,maxWidth:"90%"},children:[u.character&&d.jsx("img",{src:u.character,alt:"Character",style:{width:120,height:120,borderRadius:"50%",border:`4px solid ${s.accent}`,boxShadow:"0 8px 20px rgba(0,0,0,0.15)",...Gh(n,.06,.04)}}),d.jsx("div",{style:{flex:1},children:d.jsx("p",{className:"kn-text-body",style:{color:s.ink,margin:0,lineHeight:1.5},children:r.fill.texts.character||"Meet our hero facing a challenge..."})})]}),n>=g&&d.jsxs("div",{style:{...w,backgroundColor:s.highlight,color:"#ffffff",padding:"30px 70px",borderRadius:"var(--kn-radius-full, 9999px)",fontFamily:c.story.family,fontSize:c.story.size,fontWeight:700,textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.25)",border:`5px solid ${s.accent}`,maxWidth:"85%",transform:`${w.transform} rotate(-1deg)`,...E},children:["⚡ ",r.fill.texts.conflict||"But then... something unexpected happened!"]}),n>=x&&d.jsx("div",{style:{...b,position:"relative",display:"flex",gap:25,justifyContent:"center",flexWrap:"wrap",maxWidth:"90%"},children:["moment1","moment2","moment3"].map((R,j)=>r.fill.texts[R]&&d.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:`3px solid ${s.ink}`,borderRadius:"var(--kn-radius-md, 16px)",padding:"25px 30px",minWidth:220,textAlign:"center",boxShadow:"var(--kn-shadow-md)",transform:`rotate(${j%2===0?-2:2}deg)`,...bn(n,j*100)},children:[u[`icon${j+1}`]&&d.jsx("img",{src:u[`icon${j+1}`],alt:`Moment ${j+1}`,style:{width:50,height:50,marginBottom:12}}),d.jsx("p",{className:"kn-text-small",style:{color:s.ink,margin:0,fontWeight:600},children:r.fill.texts[R]})]},R))}),n>=S&&r.fill.texts.hook&&d.jsx("div",{style:{...C,position:"absolute",bottom:70,left:"50%",transform:`translateX(-50%) scale(${Math.min(C.opacity,1)})`,textAlign:"center",maxWidth:"85%"},children:d.jsx("div",{style:{fontFamily:c.title.family,fontSize:56,fontWeight:c.title.weight,color:s.accent,textShadow:"3px 3px 6px rgba(0,0,0,0.2)",lineHeight:1.2,padding:"25px 50px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"var(--kn-radius-lg, 24px)",border:`5px solid ${s.accent}`,boxShadow:"0 12px 35px rgba(0,0,0,0.3)",...E},children:r.fill.texts.hook})})]})]})},Kc=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.blue,ink:W.colors.text.primary},l=r.fill?.texts||{},c=36,u={title:c*1,concept:c*2.4,pause1:c*3.8,step1:c*4.6,step2:c*6,step3:c*7.4,step4:c*8.8,pause2:c*10.2,summary:c*11,settle:c*13},h=te(n,[0,u.step1,u.summary,u.settle],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),p=Math.sin(n*.008)*2,g=Math.cos(n*.006)*1.5,x=(w,b=50)=>{if(n<w||n>w+b)return 1;const C=(n-w)/b;return 1+Math.sin(C*Math.PI*2.5)*.04},S=(w,b=20)=>{if(n<w)return{opacity:0,clipPath:"inset(0 100% 0 0)",progress:0};if(n>=w+b)return{opacity:1,clipPath:"inset(0 0 0 0)",progress:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:te(C,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:`inset(0 ${(1-C)*100}% 0 0)`,progress:C}},v=(w,b=22)=>{if(n<w)return{opacity:0,strokeDashoffset:1,scale:0};if(n>=w+b)return{opacity:1,strokeDashoffset:0,scale:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:C,strokeDashoffset:1-C,scale:C}},k="0 2px 8px rgba(0, 0, 0, 0.06)";return d.jsx(Fe,{style:{backgroundColor:s.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${h}) translate(${p}px, ${g}px)`,padding:"70px 90px"},children:[n>=u.title&&d.jsxs("div",{style:{position:"absolute",top:70,left:90,right:90},children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("div",{style:S(u.title,26),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:58,fontWeight:700,color:s.ink,lineHeight:1.2,textShadow:k},children:l.title||"📚 Understanding the Concept"})}),(()=>{const w=S(u.title,26);if(w.progress>0&&w.progress<1)return d.jsx("div",{style:{position:"absolute",left:`${w.progress*100}%`,top:"50%",width:20,height:20,borderRadius:"50%",backgroundColor:s.accent,transform:"translateY(-50%)",boxShadow:`0 0 20px ${s.accent}`}})})()]}),n>=u.title+22&&d.jsx("svg",{width:"500",height:"6",viewBox:"0 0 500 6",style:{marginTop:12},children:d.jsx("line",{x1:"0",y1:"3",x2:"500",y2:"3",stroke:s.accent,strokeWidth:"5",strokeLinecap:"round",strokeDasharray:"500",strokeDashoffset:te(n,[u.title+22,u.title+44],[500,0],{easing:re.out(re.ease),extrapolateRight:"clamp"})})})]}),n>=u.concept&&l.concept&&d.jsx("div",{style:{position:"absolute",top:180,left:90,right:90},children:d.jsx("div",{style:{opacity:v(u.concept,24).opacity,transform:`scale(${v(u.concept,24).scale})`},children:d.jsx("div",{style:{padding:"20px 35px",backgroundColor:`${s.accent}15`,border:`3px solid ${s.accent}`,borderRadius:8,boxShadow:k},children:d.jsx("div",{style:S(u.concept+12,24),children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:600,color:s.accent,lineHeight:1.5},children:l.concept})})})})}),n>=u.pause1&&n<u.step1&&d.jsx("div",{style:{transform:`scale(${x(u.pause1)})`}}),d.jsx("div",{style:{position:"absolute",top:320,left:90,right:90,bottom:180,display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:30},children:[{key:"step1",beat:u.step1,num:1},{key:"step2",beat:u.step2,num:2},{key:"step3",beat:u.step3,num:3},{key:"step4",beat:u.step4,num:4}].map(({key:w,beat:b,num:C})=>{const E=l[w];return!E||n<b?null:d.jsx("div",{style:{opacity:v(b,22).opacity,transform:`translateY(${(1-v(b,22).scale)*25}px)`},children:d.jsxs("div",{style:{padding:24,backgroundColor:"rgba(255, 255, 255, 0.95)",border:`3px solid ${s.accent}`,borderRadius:8,boxShadow:k,height:"100%",display:"flex",flexDirection:"column",gap:16},children:[d.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,fontWeight:700,color:"#fff",transform:`scale(${v(b+10,12).scale})`,opacity:v(b+10,12).opacity,boxShadow:`0 4px 12px ${s.accent}50`},children:C}),d.jsx("div",{style:{position:"relative",flex:1},children:d.jsx("div",{style:S(b+14,22),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:s.ink,lineHeight:1.5},children:E})})})]})},w)})}),n>=u.step1+35&&d.jsxs("svg",{style:{position:"absolute",inset:0,pointerEvents:"none"},viewBox:"0 0 1920 1080",children:[d.jsx("path",{d:"M 850 600 L 1070 600",stroke:s.accent,strokeWidth:"3",strokeDasharray:"220",strokeDashoffset:te(n,[u.step2+20,u.step2+38],[220,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.25",fill:"none"}),n>=u.step3+20&&d.jsx("path",{d:"M 1300 700 L 650 850",stroke:s.accent,strokeWidth:"3",strokeDasharray:"680",strokeDashoffset:te(n,[u.step3+20,u.step3+42],[680,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.25",fill:"none"}),n>=u.step4+20&&d.jsx("path",{d:"M 850 900 L 1070 900",stroke:s.accent,strokeWidth:"3",strokeDasharray:"220",strokeDashoffset:te(n,[u.step4+20,u.step4+38],[220,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.25",fill:"none"})]}),n>=u.pause2&&n<u.summary&&d.jsx("div",{style:{transform:`scale(${x(u.pause2,40)})`}}),n>=u.summary&&l.summary&&d.jsx("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",maxWidth:"75%"},children:d.jsx("div",{style:{opacity:v(u.summary,26).opacity,transform:`scale(${v(u.summary,26).scale})`},children:d.jsx("div",{style:{padding:"24px 45px",backgroundColor:s.accent,borderRadius:50,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.18)"},children:d.jsx("div",{style:S(u.summary+10,24),children:d.jsxs("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:32,fontWeight:700,color:"#FFFFFF",lineHeight:1.3,display:"flex",alignItems:"center",gap:12},children:[d.jsx("span",{style:{fontSize:38},children:"💡"}),l.summary]})})})})}),n>=u.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:s.bg,opacity:te(n,[u.settle,u.settle+40],[0,.25],{extrapolateRight:"clamp"})}})]})})},Xh=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:"var(--kn-bg, #fafafa)",accent:"var(--kn-accent, #3498db)",support:"var(--kn-accent-support, #86BC25)",ink:"var(--kn-ink, #2d3436)",line:"#95a5a6"},l={title:{},milestone:{family:"var(--kn-font-body)",size:28,weight:600},body:{family:"var(--kn-font-body)",size:24}},c={title:r.style_tokens?.fonts?.title||l.title,milestone:r.style_tokens?.fonts?.milestone||l.milestone,body:r.style_tokens?.fonts?.body||l.body},u=oa(r.fill?.images),h=0,p=45,g=90,x=450,S=cn(n,i,h),v=te(n,[p,p+60],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"}),k=[0,1,2,3,4].map(b=>({delay:g+b*60,progress:te(n,[g+b*60,g+b*60+30],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})})),w=cn(n,i,x);return d.jsxs("div",{className:"kn-bg-default",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:ia(.3)}),d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"60px 100px"},children:[n>=h&&d.jsxs("div",{style:{...S,textAlign:"center",marginBottom:50},children:[d.jsx("h1",{className:"kn-text-title",style:{color:s.accent,margin:0,padding:"15px 40px",borderBottom:`4px solid ${s.accent}`,display:"inline-block"},children:r.fill.texts.title||"⏱️ The Journey"}),r.fill.texts.subtitle&&d.jsx("p",{className:"kn-text-body",style:{color:s.ink,marginTop:15,opacity:.8},children:r.fill.texts.subtitle})]}),d.jsxs("div",{style:{position:"relative",marginTop:80,paddingBottom:100},children:[n>=p&&d.jsx("div",{style:{position:"absolute",top:60,left:100,right:100,height:6,backgroundColor:s.line,borderRadius:3,transformOrigin:"left center",transform:`scaleX(${v})`,...bn(n,100)},children:v>.95&&d.jsx("div",{style:{position:"absolute",right:-10,top:"50%",transform:"translateY(-50%)",width:0,height:0,borderLeft:`20px solid ${s.line}`,borderTop:"12px solid transparent",borderBottom:"12px solid transparent"}})}),d.jsx("div",{style:{position:"relative",display:"flex",justifyContent:"space-between",paddingLeft:100,paddingRight:100,marginTop:30},children:["phase1","phase2","phase3","phase4","phase5"].map((b,C)=>r.fill.texts[b]&&k[C].progress>0&&d.jsxs("div",{style:{flex:1,maxWidth:280,position:"relative",opacity:k[C].progress,transform:`translateY(${(1-k[C].progress)*40}px)`},children:[d.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:30,height:30,borderRadius:"50%",backgroundColor:s.accent,border:`5px solid ${s.bg==="var(--kn-bg, #fafafa)"?"#ffffff":s.bg}`,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,color:"#ffffff",fontSize:16},children:C+1}),d.jsxs("div",{style:{backgroundColor:"#ffffff",border:`3px solid ${s.ink}`,borderRadius:"var(--kn-radius-md, 16px)",padding:"20px 15px",minHeight:180,boxShadow:"var(--kn-shadow-md)",textAlign:"center",display:"flex",flexDirection:"column",gap:12,...bn(n,C*50)},children:[u[`icon${C+1}`]&&d.jsx("img",{src:u[`icon${C+1}`],alt:`Phase ${C+1}`,style:{width:50,height:50,margin:"0 auto",borderRadius:"50%",border:`2px solid ${s.support}`}}),d.jsx("div",{style:{fontFamily:c.milestone.family,fontSize:c.milestone.size,fontWeight:c.milestone.weight,color:s.accent,lineHeight:1.3},children:r.fill.texts[b]}),r.fill.texts[`desc${C+1}`]&&d.jsx("div",{style:{fontFamily:c.body.family,fontSize:c.body.size,color:s.ink,opacity:.8,lineHeight:1.4},children:r.fill.texts[`desc${C+1}`]})]}),C<4&&d.jsx("div",{style:{position:"absolute",top:-54,left:"65%",width:"70%",height:6,backgroundColor:s.support,opacity:k[C+1]?.progress||0,transformOrigin:"left center",transform:`scaleX(${k[C+1]?.progress||0})`}})]},b))})]}),n>=x&&r.fill.texts.summary&&d.jsx("div",{style:{...w,position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",maxWidth:"85%",textAlign:"center"},children:d.jsxs("div",{style:{backgroundColor:s.support,color:"#ffffff",padding:"25px 60px",borderRadius:"var(--kn-radius-full, 9999px)",fontFamily:c.body.family,fontSize:34,fontWeight:600,boxShadow:"0 8px 24px rgba(0,0,0,0.2)",border:`4px solid ${s.accent}`},children:["✨ ",r.fill.texts.summary]})})]})]})},Xc=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.green,ink:W.colors.text.primary},l=r.fill?.texts||{},c=36,u={prelude:0,scenario:c*1,pause1:c*2.6,action1:c*3.4,action1Complete:c*5,action2:c*5.8,action2Complete:c*7.4,action3:c*8.2,action3Complete:c*9.8,pause2:c*10.6,result:c*11.4,settle:c*13},h=te(n,[0,u.action1,u.result,u.settle],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),p=Math.sin(n*.008)*2,g=Math.cos(n*.006)*1.5,x=(w,b=45)=>{if(n<w||n>w+b)return 1;const C=(n-w)/b;return 1+Math.sin(C*Math.PI*2.5)*.04},S=(w,b=20)=>{if(n<w)return{opacity:0,clipPath:"inset(0 100% 0 0)",progress:0};if(n>=w+b)return{opacity:1,clipPath:"inset(0 0 0 0)",progress:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:te(C,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:`inset(0 ${(1-C)*100}% 0 0)`,progress:C}},v=(w,b=22)=>{if(n<w)return{opacity:0,scale:0};if(n>=w+b)return{opacity:1,scale:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:C,scale:C}},k="0 2px 8px rgba(0, 0, 0, 0.06)";return d.jsx(Fe,{style:{backgroundColor:s.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${h}) translate(${p}px, ${g}px)`,padding:"70px 100px"},children:[n>=u.scenario&&d.jsx("div",{style:{position:"absolute",top:60,right:100,display:"flex",gap:14},children:[1,2,3].map(w=>{const b=n>=u[`action${w}Complete`],C=n>=u[`action${w}`]&&n<u[`action${w}Complete`];return d.jsx("div",{style:{width:C?36:30,height:C?36:30,borderRadius:"50%",backgroundColor:b?s.accent:C?`${s.accent}60`:"#ddd",border:`3px solid ${b||C?"#fff":"transparent"}`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:b?`0 4px 14px ${s.accent}70`:"none",transform:`scale(${x(u[`action${w}`],30)})`,transition:"all 0.3s ease"},children:b&&d.jsx("span",{style:{fontSize:18,color:"#fff"},children:"✓"})},w)})}),n>=u.scenario&&l.scenario&&d.jsx("div",{style:{position:"absolute",top:140,left:100,right:100},children:d.jsx("div",{style:{opacity:v(u.scenario,24).opacity,transform:`scale(${v(u.scenario,24).scale})`},children:d.jsxs("div",{style:{padding:"24px 35px",backgroundColor:"rgba(255, 255, 255, 0.95)",border:`4px solid ${s.accent}80`,borderRadius:10,boxShadow:k,position:"relative"},children:[d.jsx("div",{style:{position:"absolute",top:-16,left:30,padding:"6px 18px",backgroundColor:s.accent,color:"#fff",fontFamily:W.fonts.structure.primary,fontSize:16,fontWeight:700,letterSpacing:"1px",borderRadius:6,textTransform:"uppercase"},children:"📋 Scenario"}),d.jsx("div",{style:{paddingTop:8,position:"relative"},children:d.jsx("div",{style:S(u.scenario+12,26),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:28,color:s.ink,lineHeight:1.6},children:l.scenario})})})]})})}),d.jsx("div",{style:{position:"absolute",top:320,left:100,right:100,display:"flex",flexDirection:"column",gap:32},children:[1,2,3].map(w=>{const b=l[`action${w}`];if(!b||n<u[`action${w}`])return null;const C=n>=u[`action${w}`]&&n<u[`action${w}Complete`],E=n>=u[`action${w}Complete`];return d.jsxs("div",{style:{opacity:v(u[`action${w}`],22).opacity,transform:`translateY(${(1-v(u[`action${w}`],22).scale)*30}px)`},children:[d.jsxs("div",{style:{display:"flex",gap:22,alignItems:"center",padding:"22px 30px",backgroundColor:E?`${s.accent}15`:"rgba(255, 255, 255, 0.95)",border:`3px solid ${E?s.accent:`${s.accent}60`}`,borderRadius:8,boxShadow:C?"0 6px 20px rgba(0, 0, 0, 0.12)":k,transform:C?`scale(${x(u[`action${w}`])})`:"scale(1)"},children:[d.jsx("div",{style:{flexShrink:0,width:64,height:64,borderRadius:"50%",backgroundColor:E?s.accent:C?`${s.accent}80`:"#ddd",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,fontWeight:700,color:"#fff",boxShadow:E?`0 4px 16px ${s.accent}60`:"none",fontFamily:W.fonts.marker.secondary,transform:`scale(${v(u[`action${w}`]+8,14).scale})`},children:E?"✓":w}),d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{fontFamily:W.fonts.structure.primary,fontSize:18,fontWeight:700,color:E?s.accent:`${s.accent}`,textTransform:"uppercase",letterSpacing:"1px",marginBottom:8},children:["Action ",w," ",E&&"✓ Complete"," ",C&&"→ In Progress"]}),d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:S(u[`action${w}`]+12,24),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:s.ink,lineHeight:1.5},children:b})})})]})]}),w<3&&d.jsx("div",{style:{marginLeft:70,marginTop:8,fontSize:32,color:`${s.accent}40`},children:"↓"})]},w)})}),n>=u.action1+35&&d.jsx("svg",{style:{position:"absolute",inset:0,pointerEvents:"none"},viewBox:"0 0 1920 1080",children:d.jsx("path",{d:"M 170 450 L 170 850",stroke:s.accent,strokeWidth:"4",strokeDasharray:"400",strokeDashoffset:te(n,[u.action1+35,u.action3],[400,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.2",fill:"none"})}),n>=u.pause2&&n<u.result&&d.jsx("div",{style:{transform:`scale(${x(u.pause2)})`}}),n>=u.result&&l.result&&d.jsx("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",maxWidth:"80%"},children:d.jsx("div",{style:{opacity:v(u.result,28).opacity,transform:`scale(${v(u.result,28).scale})`},children:d.jsxs("div",{style:{position:"relative",padding:"28px 50px",backgroundColor:s.accent,borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)"},children:[d.jsx("div",{style:{position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",padding:"6px 24px",backgroundColor:s.bg,border:`4px solid ${s.accent}`,borderRadius:30,fontFamily:W.fonts.structure.primary,fontSize:18,fontWeight:700,color:s.accent,textTransform:"uppercase",letterSpacing:"2px"},children:"★ Result ★"}),d.jsx("div",{style:{paddingTop:12,position:"relative"},children:d.jsx("div",{style:S(u.result+10,26),children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:30,fontWeight:700,color:"#FFFFFF",lineHeight:1.4,textAlign:"center",display:"block"},children:l.result})})})]})})}),n>=u.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:s.bg,opacity:te(n,[u.settle,u.settle+40],[0,.25],{extrapolateRight:"clamp"})}})]})})},Jh=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{before:"#e74c3c",after:"#27ae60",ink:"var(--kn-ink, #2d3436)",divider:"#95a5a6"},l={title:{},label:{family:"var(--kn-font-title)",size:48,weight:700},body:{family:"var(--kn-font-body)",size:28}},c={title:r.style_tokens?.fonts?.title||l.title,label:r.style_tokens?.fonts?.label||l.label,body:r.style_tokens?.fonts?.body||l.body},u=oa(r.fill?.images),h=0,p=60,g=150,x=180,S=300,v=420,k=cn(n,i,h),w=$p(n,i,p,"left"),b=$p(n,i,x,"right"),C=te(n,[g,g+30],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"});cn(n,i,S);const E=cn(n,i,v);return d.jsxs("div",{className:"kn-bg-default",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:ia(.3)}),d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"60px 80px"},children:[n>=h&&d.jsx("div",{style:{...k,textAlign:"center",marginBottom:40},children:d.jsx("h1",{className:"kn-text-title",style:{color:s.ink,margin:0},children:r.fill.texts.title||"🔄 The Transformation"})}),d.jsxs("div",{style:{display:"flex",gap:40,alignItems:"stretch",justifyContent:"center",marginTop:50,position:"relative"},children:[n>=p&&d.jsxs("div",{style:{...w,flex:1,maxWidth:550,display:"flex",flexDirection:"column",gap:20},children:[d.jsx("div",{style:{backgroundColor:s.before,color:"#ffffff",padding:"20px 40px",borderRadius:"var(--kn-radius-lg, 24px)",textAlign:"center",boxShadow:"var(--kn-shadow-md)",border:"4px solid #c0392b"},children:d.jsxs("div",{style:{fontFamily:c.label.family,fontSize:c.label.size,fontWeight:c.label.weight},children:["❌ ",r.fill.texts.beforeLabel||"Before"]})}),u.beforeImage&&d.jsx("img",{src:u.beforeImage,alt:"Before",style:{width:"100%",height:200,objectFit:"cover",borderRadius:"var(--kn-radius-md, 16px)",border:`4px solid ${s.before}`,boxShadow:"var(--kn-shadow-md)",...bn(n,0)}}),d.jsx("div",{style:{backgroundColor:"#ffffff",border:`3px solid ${s.before}`,borderRadius:"var(--kn-radius-md, 16px)",padding:"30px 25px",boxShadow:"var(--kn-shadow-sm)",flex:1},children:["before1","before2","before3"].map((R,j)=>r.fill.texts[R]&&d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:j<2?18:0,opacity:te(n,[p+20+j*10,p+30+j*10],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})},children:[d.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:s.before,display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:18,fontWeight:700,flexShrink:0},children:"✗"}),d.jsx("p",{style:{fontFamily:c.body.family,fontSize:c.body.size,color:s.ink,margin:0,lineHeight:1.4},children:r.fill.texts[R]})]},R))})]}),n>=g&&d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:15,opacity:C,transform:`scale(${C})`},children:[d.jsx("div",{style:{width:80,height:80,borderRadius:"50%",backgroundColor:s.divider,display:"flex",alignItems:"center",justifyContent:"center",fontSize:50,boxShadow:"0 6px 20px rgba(0,0,0,0.2)",border:"5px solid #7f8c8d"},children:"→"}),r.fill.texts.action&&d.jsx("div",{style:{fontFamily:c.body.family,fontSize:24,fontWeight:700,color:s.ink,textAlign:"center",maxWidth:120,lineHeight:1.2},children:r.fill.texts.action})]}),n>=x&&d.jsxs("div",{style:{...b,flex:1,maxWidth:550,display:"flex",flexDirection:"column",gap:20},children:[d.jsx("div",{style:{backgroundColor:s.after,color:"#ffffff",padding:"20px 40px",borderRadius:"var(--kn-radius-lg, 24px)",textAlign:"center",boxShadow:"var(--kn-shadow-md)",border:"4px solid #1e8449"},children:d.jsxs("div",{style:{fontFamily:c.label.family,fontSize:c.label.size,fontWeight:c.label.weight},children:["✅ ",r.fill.texts.afterLabel||"After"]})}),u.afterImage&&d.jsx("img",{src:u.afterImage,alt:"After",style:{width:"100%",height:200,objectFit:"cover",borderRadius:"var(--kn-radius-md, 16px)",border:`4px solid ${s.after}`,boxShadow:"var(--kn-shadow-md)",...bn(n,100)}}),d.jsx("div",{style:{backgroundColor:"#ffffff",border:`3px solid ${s.after}`,borderRadius:"var(--kn-radius-md, 16px)",padding:"30px 25px",boxShadow:"var(--kn-shadow-sm)",flex:1},children:["after1","after2","after3"].map((R,j)=>r.fill.texts[R]&&d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:j<2?18:0,opacity:te(n,[x+20+j*10,x+30+j*10],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})},children:[d.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:s.after,display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:18,fontWeight:700,flexShrink:0},children:"✓"}),d.jsx("p",{style:{fontFamily:c.body.family,fontSize:c.body.size,color:s.ink,margin:0,lineHeight:1.4},children:r.fill.texts[R]})]},R))})]})]}),n>=v&&r.fill.texts.result&&d.jsx("div",{style:{...E,position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",maxWidth:"85%",textAlign:"center"},children:d.jsxs("div",{style:{backgroundColor:s.after,color:"#ffffff",padding:"25px 70px",borderRadius:"var(--kn-radius-full, 9999px)",fontFamily:c.body.family,fontSize:36,fontWeight:700,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"5px solid #1e8449",...bn(n,200)},children:["🎯 ",r.fill.texts.result]})})]})]})},Jc=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.purple,ink:W.colors.text.primary},l=r.fill?.texts||{},c=36,u={prelude:0,title:c*1,insight1:c*2.4,insight2:c*4,insight3:c*5.6,pause1:c*7.2,question:c*8,pause2:c*10,nextSteps:c*10.8,settle:c*13},h=te(n,[0,u.insight1,u.nextSteps,u.settle],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),p=Math.sin(n*.008)*2,g=Math.cos(n*.006)*1.5,x=(w,b=50)=>{if(n<w||n>w+b)return 1;const C=(n-w)/b;return 1+Math.sin(C*Math.PI*2)*.04},S=(w,b=20)=>{if(n<w)return{opacity:0,clipPath:"inset(0 100% 0 0)",progress:0};if(n>=w+b)return{opacity:1,clipPath:"inset(0 0 0 0)",progress:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:te(C,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:`inset(0 ${(1-C)*100}% 0 0)`,progress:C}},v=(w,b=22)=>{if(n<w)return{opacity:0,scale:0};if(n>=w+b)return{opacity:1,scale:1};const C=te(n,[w,w+b],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:C,scale:C}},k="0 2px 8px rgba(0, 0, 0, 0.06)";return d.jsx(Fe,{style:{backgroundColor:s.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${h}) translate(${p}px, ${g}px)`,padding:"70px 100px"},children:[n>=u.title&&d.jsxs("div",{style:{position:"absolute",top:70,left:"50%",transform:"translateX(-50%)",textAlign:"center"},children:[d.jsx("div",{style:{display:"inline-flex",marginBottom:20,transform:`scale(${v(u.title,20).scale})`,opacity:v(u.title,20).opacity},children:d.jsx("div",{style:{width:90,height:90,borderRadius:"50%",backgroundColor:`${s.accent}20`,border:`5px solid ${s.accent}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:52,boxShadow:`0 4px 16px ${s.accent}30`},children:"💭"})}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("div",{style:S(u.title+16,26),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:58,fontWeight:700,color:s.accent,lineHeight:1.2,textShadow:k},children:l.title||"🤔 Time to Reflect"})}),(()=>{const w=S(u.title+16,26);if(w.progress>0&&w.progress<1)return d.jsx("div",{style:{position:"absolute",left:`${50+w.progress*25}%`,top:"50%",width:20,height:20,borderRadius:"50%",backgroundColor:s.accent,transform:"translateY(-50%)",boxShadow:`0 0 20px ${s.accent}`}})})()]})]}),d.jsx("div",{style:{position:"absolute",top:260,left:100,right:100,display:"flex",flexDirection:"column",gap:28},children:[1,2,3].map(w=>{const b=l[`insight${w}`];return!b||n<u[`insight${w}`]?null:d.jsx("div",{style:{opacity:v(u[`insight${w}`],22).opacity,transform:`translateY(${(1-v(u[`insight${w}`],22).scale)*25}px)`},children:d.jsxs("div",{style:{display:"flex",gap:20,alignItems:"flex-start",padding:"22px 30px",backgroundColor:"rgba(255, 255, 255, 0.95)",border:`3px solid ${s.accent}60`,borderLeft:`10px solid ${s.accent}`,borderRadius:8,boxShadow:k},children:[d.jsx("div",{style:{flexShrink:0,width:48,height:48,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:26,fontWeight:700,color:"#fff",fontFamily:W.fonts.marker.secondary,transform:`scale(${v(u[`insight${w}`]+8,12).scale})`,opacity:v(u[`insight${w}`]+8,12).opacity,boxShadow:`0 3px 10px ${s.accent}50`},children:w}),d.jsx("div",{style:{flex:1,position:"relative"},children:d.jsx("div",{style:S(u[`insight${w}`]+12,24),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:27,color:s.ink,lineHeight:1.5},children:b})})})]})},w)})}),n>=u.pause1&&n<u.question&&d.jsx("div",{style:{transform:`scale(${x(u.pause1)})`}}),n>=u.question&&l.question&&d.jsx("div",{style:{position:"absolute",top:600,left:100,right:100},children:d.jsx("div",{style:{opacity:v(u.question,26).opacity,transform:`scale(${v(u.question,26).scale})`},children:d.jsxs("div",{style:{position:"relative",padding:"28px 40px",backgroundColor:`${s.accent}10`,border:`4px dashed ${s.accent}`,borderRadius:12,boxShadow:k},children:[d.jsx("div",{style:{position:"absolute",top:-22,left:40,width:54,height:54,borderRadius:"50%",backgroundColor:s.accent,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:34,fontWeight:700,border:`4px solid ${s.bg}`,boxShadow:`0 4px 14px ${s.accent}50`,transform:`scale(${v(u.question+10,14).scale})`},children:"?"}),d.jsx("div",{style:{paddingTop:8,position:"relative"},children:d.jsx("div",{style:S(u.question+12,28),children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:26,fontWeight:600,color:s.accent,fontStyle:"italic",lineHeight:1.5,textAlign:"center",display:"block"},children:l.question})})})]})})}),n>=u.pause2&&n<u.nextSteps&&d.jsx("div",{style:{transform:`scale(${x(u.pause2,40)})`}}),n>=u.nextSteps&&l.nextSteps&&d.jsx("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",maxWidth:"75%"},children:d.jsx("div",{style:{opacity:v(u.nextSteps,26).opacity,transform:`scale(${v(u.nextSteps,26).scale})`},children:d.jsx("div",{style:{padding:"26px 55px",backgroundColor:s.accent,borderRadius:50,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",border:`5px solid ${s.bg}`},children:d.jsx("div",{style:S(u.nextSteps+10,26),children:d.jsxs("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:30,fontWeight:700,color:"#FFFFFF",lineHeight:1.3,display:"flex",alignItems:"center",justifyContent:"center",gap:14},children:[d.jsx("span",{style:{fontSize:38},children:"🚀"}),l.nextSteps]})})})})}),n>=u.title+20&&d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{position:"absolute",top:70,right:120,fontSize:36,opacity:.25,transform:`scale(${x(u.title+20,100)})`},children:"✨"}),d.jsx("div",{style:{position:"absolute",bottom:65,left:100,fontSize:32,opacity:.25,transform:`scale(${x(u.title+50,100)})`},children:"✨"})]}),n>=u.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:s.bg,opacity:te(n,[u.settle,u.settle+40],[0,.25],{extrapolateRight:"clamp"})}})]})})},Zh=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{center:"#9b59b6",branch1:"#3498db",branch2:"#27ae60",branch3:"#e74c3c",branch4:"#f39c12",ink:"var(--kn-ink, #2d3436)"},l={title:{},center:{family:"var(--kn-font-title)",size:48,weight:700},branch:{family:"var(--kn-font-body)",size:26,weight:600},insight:{family:"var(--kn-font-body)",size:32,weight:600}},c={title:r.style_tokens?.fonts?.title||l.title,center:r.style_tokens?.fonts?.center||l.center,branch:r.style_tokens?.fonts?.branch||l.branch,insight:r.style_tokens?.fonts?.insight||l.insight},u=oa(r.fill?.images),h=0,p=45,g=90,x=150,S=210,v=270,k=390,w=cn(n,i,h),b=bc(n,i,p),C=[{start:g,color:s.branch1,position:{top:150,left:150}},{start:x,color:s.branch2,position:{top:150,right:150}},{start:S,color:s.branch3,position:{bottom:200,left:200}},{start:v,color:s.branch4,position:{bottom:200,right:200}}].map((j,$)=>({...j,progress:te(n,[j.start,j.start+30],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"}),lineProgress:te(n,[j.start-10,j.start+20],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})})),E=cn(n,i,k),R=(j,$,P,M,z,V)=>d.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1},children:d.jsx("path",{d:`M ${j} ${$} Q ${(j+P)/2} ${($+M)/2-50} ${P} ${M}`,stroke:V,strokeWidth:"4",fill:"none",strokeDasharray:"1",strokeDashoffset:1-z,opacity:z,strokeLinecap:"round"})});return d.jsxs("div",{className:"kn-bg-default",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:ia(.3)}),d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"50px 80px"},children:[n>=h&&d.jsx("div",{style:{...w,textAlign:"center",marginBottom:30},children:d.jsx("h1",{className:"kn-text-title",style:{color:s.ink,margin:0},children:r.fill.texts.title||"🧠 Connecting the Dots"})}),d.jsxs("div",{style:{position:"relative",width:"100%",height:650,marginTop:40},children:[n>=p&&d.jsx("div",{style:{...b,position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) scale(${b.opacity})`,zIndex:10},children:d.jsxs("div",{style:{backgroundColor:s.center,color:"#ffffff",padding:"35px 50px",borderRadius:"50%",minWidth:240,minHeight:240,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:10,boxShadow:"0 12px 35px rgba(0,0,0,0.25)",border:"6px solid #8e44ad",textAlign:"center",...Gh(n,.05,.03)},children:[u.centralIcon&&d.jsx("img",{src:u.centralIcon,alt:"Central concept",style:{width:60,height:60,marginBottom:8}}),d.jsx("div",{style:{fontFamily:c.center.family,fontSize:c.center.size,fontWeight:c.center.weight,lineHeight:1.2},children:r.fill.texts.central||"Main Insight"})]})}),["branch1","branch2","branch3","branch4"].map((j,$)=>r.fill.texts[j]&&C[$].progress>0&&d.jsxs(Ce.Fragment,{children:[C[$].lineProgress>0&&R(960,410,C[$].position.left?C[$].position.left+130:1920-C[$].position.right-130,C[$].position.top?C[$].position.top+80:1080-C[$].position.bottom-80,C[$].lineProgress,C[$].color),d.jsx("div",{style:{position:"absolute",...C[$].position,opacity:C[$].progress,transform:`scale(${C[$].progress})`,zIndex:5},children:d.jsxs("div",{style:{backgroundColor:"#ffffff",border:`4px solid ${C[$].color}`,borderRadius:"var(--kn-radius-lg, 24px)",padding:"25px 30px",minWidth:260,maxWidth:320,boxShadow:"var(--kn-shadow-lg)",textAlign:"center",...bn(n,$*100)},children:[u[`icon${$+1}`]&&d.jsx("img",{src:u[`icon${$+1}`],alt:`Branch ${$+1}`,style:{width:50,height:50,marginBottom:12,border:`2px solid ${C[$].color}`,borderRadius:"50%"}}),d.jsx("div",{style:{fontFamily:c.branch.family,fontSize:c.branch.size,fontWeight:c.branch.weight,color:C[$].color,marginBottom:10,lineHeight:1.3},children:r.fill.texts[j]}),r.fill.texts[`desc${$+1}`]&&d.jsx("div",{style:{fontFamily:c.branch.family,fontSize:20,color:s.ink,opacity:.8,lineHeight:1.4},children:r.fill.texts[`desc${$+1}`]})]})})]},j))]}),n>=k&&r.fill.texts.insight&&d.jsx("div",{style:{...E,position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",maxWidth:"90%",textAlign:"center"},children:d.jsxs("div",{style:{backgroundColor:s.center,color:"#ffffff",padding:"30px 70px",borderRadius:"var(--kn-radius-full, 9999px)",fontFamily:c.insight.family,fontSize:c.insight.size,fontWeight:c.insight.weight,boxShadow:"0 10px 35px rgba(0,0,0,0.3)",border:"5px solid #8e44ad",...bn(n,500)},children:["💡 ",r.fill.texts.insight]})})]})]})},hx=({durationInFrames:r=30,type:n="erase",color:i="#fafafa"})=>{const s=Te(),{width:l,height:c}=Me();if(n==="erase"){const h=te(s,[0,r],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp",easing:re.bezier(.65,0,.35,1)})*l,p=200;return d.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3},children:[d.jsx("div",{style:{position:"absolute",top:0,left:0,width:h,height:"100%",backgroundColor:i}}),s<r&&d.jsxs("div",{style:{position:"absolute",left:h-p/2,top:"50%",transform:"translateY(-50%) rotate(-15deg)",width:p,height:80,background:"linear-gradient(135deg, #e8e8e8 0%, #c0c0c0 50%, #a8a8a8 100%)",borderRadius:10,boxShadow:"0 4px 12px rgba(0,0,0,0.3)",border:"2px solid #888",opacity:Math.min(s/10,1)*Math.max(1-(s-r+10)/10,0)},children:[d.jsx("div",{style:{position:"absolute",right:-5,top:-5,width:60,height:90,backgroundColor:"#ffb3ba",borderRadius:8,border:"2px solid #ff8fa3",boxShadow:"0 2px 6px rgba(0,0,0,0.2)"}}),[...Array(5)].map((g,x)=>d.jsx("div",{style:{position:"absolute",right:-20-x*15,top:Math.random()*80,width:6+Math.random()*8,height:6+Math.random()*8,backgroundColor:"#ddd",borderRadius:"50%",opacity:.6-x*.1}},x))]})]})}if(n==="wipe"){const u=te(s,[0,r],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp",easing:re.bezier(.65,0,.35,1)});return d.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:`${u*100}%`,backgroundColor:i,zIndex:1e3}})}if(n==="fade"){const u=te(s,[0,r],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"});return d.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:i,opacity:u,zIndex:1e3}})}return null},mx=({scenes:r,transitionDuration:n=20})=>{const{fps:i}=Me();console.log("MultiSceneVideo rendering with scenes:",r);const s={hook:ii,explain:Kc,apply:Xc,reflect:Jc},c=["hook","explain","apply","reflect"].map(p=>r[p]).filter(Boolean);console.log("Ordered scenes:",c.length,"scenes");let u=0;const h=c.map((p,g)=>{const x=p.duration_s*i,S=u,v=g<c.length-1?S+x-n:null;return u+=x-(g<c.length-1?n:0),{scene:p,start:S,duration:x,transitionStart:v,pillar:p.pillar}});return d.jsx(Fe,{style:{backgroundColor:"#fafafa"},children:h.map((p,g)=>{const x=s[p.pillar]||ii;return d.jsxs(Ce.Fragment,{children:[d.jsx(Gn,{from:p.start,durationInFrames:p.duration,children:d.jsx(x,{scene:p.scene})}),p.transitionStart!==null&&d.jsx(Gn,{from:p.transitionStart,durationInFrames:n,children:d.jsx(hx,{durationInFrames:n,type:"erase",color:c[g+1]?.style_tokens?.colors?.bg||"#fafafa"})})]},`scene-${p.pillar}-${g}`)})})},gx="3.0",yx="hook",vx="hook",xx=12,wx=30,bx={title:"The Science of Sleep - Hook",description:"Cinematic write-on introduction to sleep science",tags:["module:neuroscience","pedagogy:hook","topic:sleep"],difficulty:"beginner",tone:"intriguing"},kx={colors:{bg:"#FAFBFC",accent:"#5B47D6",ink:"#1A1A1A"}},Sx={canvas:{w:1920,h:1080}},Cx={texts:{questionPart1:"What if losing consciousness",questionPart2:"made you smarter?",icon:"😴",spark1:"brain clears toxins",spark2:"memories consolidate",spark3:"neurons rewire",challenge:"Sleep isn't rest. It's renovation."}},Ex=[],Zc={schema_version:gx,template_id:yx,pillar:vx,duration_s:xx,fps:wx,meta:bx,style_tokens:kx,layout:Sx,fill:Cx,timeline:Ex},_x="3.0",$x="explain",jx="explain",Rx=35,Mx=30,Px={title:"Growth Mindset Explained",description:"Break down the concept step by step",tags:["module:psychology","pedagogy:explain","topic:growth-mindset"],difficulty:"beginner",tone:"educational"},Tx={colors:{bg:"#FAFBFC",accent:"#2E7FE4",support:"#27AE60",ink:"#1A1A1A",highlight:"#E8F4FD"},fonts:{title:{family:"Cabin Sketch, cursive",size:64,weight:700},subtitle:{family:"Inter, sans-serif",size:32,weight:500},body:{family:"Patrick Hand, cursive",size:32,weight:400}}},Ix={canvas:{w:1920,h:1080}},Fx={texts:{title:"Understanding Growth Mindset",concept:"Your abilities can develop through dedication and practice",step1:"Embrace challenges as opportunities to grow",step2:"Persist through setbacks with resilience",step3:"See effort as the path to mastery",step4:"Learn from criticism and feedback",summary:"Your brain grows stronger with every challenge!"}},Ax=[],eu={schema_version:_x,template_id:$x,pillar:jx,duration_s:Rx,fps:Mx,meta:Px,style_tokens:Tx,layout:Ix,fill:Fx,timeline:Ax},zx="3.0",Lx="apply",Nx="apply",Dx=35,Ox=30,Vx={title:"Growth Mindset in Action",description:"See how to apply growth mindset in real situations",tags:["module:psychology","pedagogy:apply","topic:growth-mindset"],difficulty:"beginner",tone:"practical"},Bx={colors:{bg:"#FFF9F0",accent:"#27AE60",support:"#2E7FE4",ink:"#1A1A1A",highlight:"#E8F8F2"},fonts:{title:{family:"Cabin Sketch, cursive",size:58,weight:700},subtitle:{family:"Inter, sans-serif",size:28,weight:600},body:{family:"Patrick Hand, cursive",size:32,weight:400}}},Wx={canvas:{w:1920,h:1080}},Hx={texts:{scenario:"You're struggling with a difficult math problem and feel like giving up.",action1:`Reframe: "I can't do this yet" instead of "I can't do this"`,action2:"Break it down: Split the problem into smaller, manageable steps",action3:"Seek help: Ask a teacher or peer to explain a tricky concept",result:"You solve the problem AND strengthen your brain's problem-solving pathways! 🎯"}},Ux=[],tu={schema_version:zx,template_id:Lx,pillar:Nx,duration_s:Dx,fps:Ox,meta:Vx,style_tokens:Bx,layout:Wx,fill:Hx,timeline:Ux},qx="3.0",Yx="reflect",Qx="reflect",Gx=35,Kx=30,Xx={title:"Growth Mindset Reflection",description:"Consolidate learning and prompt deeper thinking",tags:["module:psychology","pedagogy:reflect","topic:growth-mindset"],difficulty:"beginner",tone:"thoughtful"},Jx={colors:{bg:"#FFF9F0",accent:"#8E44AD",support:"#2E7FE4",ink:"#1A1A1A",highlight:"#F3EBFA"},fonts:{title:{family:"Cabin Sketch, cursive",size:64,weight:700},subtitle:{family:"Inter, sans-serif",size:30,weight:600},body:{family:"Patrick Hand, cursive",size:32,weight:400}}},Zx={canvas:{w:1920,h:1080}},ew={texts:{title:"Let's Reflect",insight1:"Intelligence isn't fixed — your brain physically changes when you learn",insight2:"Challenges and mistakes are opportunities for growth, not signs of failure",insight3:'The word "yet" transforms how you see your abilities',question:"When was the last time you said 'I can't' about something? What would change if you added 'yet'?",nextSteps:"Try this week: Add 'yet' to one challenge you're facing"}},tw=[],nu={schema_version:qx,template_id:Yx,pillar:Qx,duration_s:Gx,fps:Kx,meta:Xx,style_tokens:Jx,layout:Zx,fill:ew,timeline:tw},jp={hook:ii,hook_story:Kh,explain:Kc,explain_timeline:Xh,apply:Xc,apply_compare:Jh,reflect:Jc,reflect_mindmap:Zh},Rp=r=>jp[r]||jp[r?.split("_")[0]]||ii,ec={hook:{title:"Hook",icon:"🎯",description:"Grab attention and spark curiosity",color:"#e74c3c",defaultScene:Zc},explain:{title:"Explain",icon:"📚",description:"Teach core concepts clearly",color:"#3498db",defaultScene:eu},apply:{title:"Apply",icon:"🛠️",description:"Practice and implement",color:"#86BC25",defaultScene:tu},reflect:{title:"Reflect",icon:"🤔",description:"Consolidate and plan ahead",color:"#732282",defaultScene:nu}},wn=["hook","explain","apply","reflect","final"],nw=()=>{const[r,n]=y.useState(0),[i,s]=y.useState({hook:Zc,explain:eu,apply:tu,reflect:nu}),[l,c]=y.useState({hook:!1,explain:!1,apply:!1,reflect:!1}),[u,h]=y.useState({}),[p,g]=y.useState({}),[x,S]=y.useState(!0),v=wn[r],k=v==="final",w=ec[v];Ce.useEffect(()=>{!k&&!u[v]&&h($=>({...$,[v]:JSON.stringify(i[v],null,2)}))},[v,k]);const b=$=>{try{const P=JSON.parse(u[$]);!P.duration_s&&P.duration&&(P.duration_s=P.duration),P.fps||(P.fps=30),P.layout||(P.layout={canvas:{w:1920,h:1080}}),P.meta||(P.meta={title:P.fill?.texts?.title||`${$} scene`,description:"",tags:[],difficulty:"beginner",tone:"engaging"}),P.timeline||(P.timeline=[]);const M=[];if(P.template_id||M.push("Missing template_id"),P.duration_s||M.push("Missing duration_s (or duration)"),P.fill||M.push("Missing fill data"),Rp(P.template_id)||M.push(`Unknown template_id: ${P.template_id}`),M.length>0){g(V=>({...V,[$]:M}));return}s(V=>({...V,[$]:P})),g(V=>({...V,[$]:[]}))}catch(P){g(M=>({...M,[$]:[`Invalid JSON: ${P.message}`]}))}},C=()=>{c($=>({...$,[v]:!0})),r<wn.length-1&&n(r+1)},E=$=>{c(P=>({...P,[$]:!1})),n(wn.indexOf($))},R=()=>{r>0&&n(r-1)},j=Object.values(i).reduce(($,P)=>$+P.duration_s,0)-2;return d.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#f5f5f5",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[d.jsxs("header",{style:{backgroundColor:"#fff",borderBottom:"1px solid #e0e0e0",padding:"20px 40px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[d.jsx("h1",{style:{margin:0,fontSize:28,fontWeight:700,color:"#732282"},children:"🎬 Video Creation Wizard"}),d.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:14,color:"#666"},children:["Create your complete ",j,"s educational video"]})]}),d.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #e0e0e0",padding:"20px 40px"},children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:1200,margin:"0 auto",position:"relative"},children:[r<4&&d.jsx("button",{onClick:()=>n(4),style:{position:"absolute",right:-10,top:"50%",transform:"translateY(-50%)",padding:"8px 16px",fontSize:12,fontWeight:600,backgroundColor:"#2ecc71",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",boxShadow:"0 2px 8px rgba(46, 204, 113, 0.3)",zIndex:10,whiteSpace:"nowrap"},onMouseOver:$=>$.target.style.transform="translateY(-50%) scale(1.05)",onMouseOut:$=>$.target.style.transform="translateY(-50%) scale(1)",children:"⚡ Skip to Final Video"}),wn.map(($,P)=>{const M=$==="final"?{title:"Final Video",icon:"🎥",color:"#2ecc71"}:ec[$],z=P===r,V=P<r||l[$];return d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",opacity:z?1:V?.8:.4},children:[d.jsx("div",{style:{width:60,height:60,borderRadius:"50%",backgroundColor:V?M.color:"#e0e0e0",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,fontWeight:700,border:z?`4px solid ${M.color}`:"none",boxShadow:z?"0 4px 12px rgba(0,0,0,0.2)":"none",transition:"all 0.3s ease"},children:V?"✓":M.icon}),d.jsx("div",{style:{marginTop:8,fontSize:14,fontWeight:z?600:400,color:z?M.color:"#666"},children:M.title}),P<wn.length-1&&d.jsx("div",{style:{position:"absolute",top:30,left:`${(P+1)*(100/wn.length)}%`,width:`${100/wn.length}%`,height:4,backgroundColor:V?M.color:"#e0e0e0",zIndex:-1}})]},$)})]})}),d.jsx("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:k?d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:40,backgroundColor:"#f8f8f8"},children:[d.jsxs("div",{style:{marginBottom:30,textAlign:"center"},children:[d.jsx("h2",{style:{fontSize:36,fontWeight:700,color:"#2ecc71",margin:"0 0 10px 0"},children:"🎉 Your Complete Video is Ready!"}),d.jsxs("p",{style:{fontSize:18,color:"#666",margin:0},children:["All ",wn.length-1," scenes stitched together • ",j," seconds"]})]}),d.jsx("div",{style:{backgroundColor:"#2d3436",borderRadius:16,padding:6,boxShadow:"0 16px 48px rgba(0,0,0,0.3)",maxWidth:1200,width:"100%"},children:d.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,overflow:"hidden"},children:d.jsx(xc,{component:mx,inputProps:{scenes:i},durationInFrames:Math.floor(j*30),fps:30,compositionWidth:1920,compositionHeight:1080,controls:!0,loop:!0,clickToPlay:!0,style:{width:"100%"}})})}),d.jsxs("div",{style:{marginTop:20,padding:"15px 30px",backgroundColor:"#fff",borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",textAlign:"center"},children:[d.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"Complete Video"}),d.jsxs("div",{style:{fontSize:18,fontWeight:600,color:"#2ecc71"},children:[Math.floor(j),"s • 1920×1080 • 30 fps"]}),d.jsx("div",{style:{fontSize:12,color:"#999",marginTop:5},children:"Click play button or anywhere on video to watch"})]}),d.jsx("div",{style:{marginTop:30,display:"flex",gap:20,maxWidth:1200,width:"100%"},children:Object.entries(ec).map(([$,P])=>d.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderLeft:`6px solid ${P.color}`,borderRadius:8,padding:"15px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[d.jsx("span",{style:{fontSize:24},children:P.icon}),d.jsx("strong",{style:{fontSize:16},children:P.title})]}),d.jsx("p",{style:{fontSize:13,color:"#666",margin:"0 0 8px 0"},children:i[$].meta.title}),d.jsx("button",{onClick:()=>E($),style:{padding:"6px 14px",fontSize:12,backgroundColor:"transparent",color:P.color,border:`1px solid ${P.color}`,borderRadius:4,cursor:"pointer",transition:"all 0.2s"},onMouseOver:M=>{M.target.style.backgroundColor=P.color,M.target.style.color="#fff"},onMouseOut:M=>{M.target.style.backgroundColor="transparent",M.target.style.color=P.color},children:"Edit Scene"})]},$))})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{width:"45%",display:"flex",flexDirection:"column",backgroundColor:"#fff",borderRight:"1px solid #e0e0e0"},children:[d.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e0e0e0",backgroundColor:w.color,color:"#fff"},children:[d.jsxs("h2",{style:{margin:0,fontSize:24,fontWeight:700,display:"flex",alignItems:"center",gap:12},children:[d.jsx("span",{style:{fontSize:32},children:w.icon}),"Step ",r+1,": Define ",w.title]}),d.jsx("p",{style:{margin:"8px 0 0 0",fontSize:14,opacity:.95},children:w.description})]}),d.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600,color:"#333"},children:"Scene JSON"}),d.jsx("button",{onClick:()=>b(v),style:{padding:"8px 20px",fontSize:14,fontWeight:600,backgroundColor:w.color,color:"#fff",border:"none",borderRadius:6,cursor:"pointer",transition:"opacity 0.2s"},onMouseOver:$=>$.target.style.opacity="0.9",onMouseOut:$=>$.target.style.opacity="1",children:"Apply Changes"})]}),d.jsx("textarea",{value:u[v]||"",onChange:$=>h(P=>({...P,[v]:$.target.value})),style:{flex:1,padding:20,fontSize:13,fontFamily:'Monaco, Consolas, "Courier New", monospace',border:"none",outline:"none",resize:"none",lineHeight:1.6},spellCheck:!1}),p[v]?.length>0?d.jsx("div",{style:{borderTop:"1px solid #e0e0e0",padding:20,backgroundColor:"#fff3cd",maxHeight:150,overflowY:"auto"},children:p[v].map(($,P)=>d.jsxs("div",{style:{color:"#856404",fontSize:13,marginBottom:6},children:["⚠ ",$]},P))}):d.jsxs("div",{style:{borderTop:"1px solid #e0e0e0",padding:"12px 20px",backgroundColor:"#d4edda",color:"#155724",fontSize:13},children:[d.jsx("span",{style:{marginRight:8},children:"✓"}),"Scene validated successfully"]})]}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:40,backgroundColor:"#f8f8f8",position:"relative"},children:[x&&r===0&&d.jsxs("div",{style:{position:"absolute",top:20,left:20,right:20,backgroundColor:"#4a9c3b",color:"#fff",padding:"15px 20px",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:10},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx("strong",{style:{fontSize:15},children:"👋 Welcome!"}),d.jsx("div",{style:{fontSize:13,marginTop:5,opacity:.95},children:'Watch the preview below, then click "Apply Changes" to update, or "Approve & Continue" to move forward!'})]}),d.jsx("button",{onClick:()=>S(!1),style:{marginLeft:15,padding:"5px 10px",backgroundColor:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.4)",borderRadius:4,color:"#fff",cursor:"pointer",fontSize:12},children:"Got it!"})]}),d.jsxs("div",{style:{marginTop:x&&r===0?100:0,marginBottom:30,width:"100%",maxWidth:960},children:[d.jsx("div",{style:{backgroundColor:"#2d3436",borderRadius:12,padding:4,boxShadow:"0 12px 32px rgba(0,0,0,0.25)"},children:d.jsx("div",{style:{backgroundColor:"#fff",borderRadius:8,overflow:"hidden"},children:d.jsx(xc,{component:Rp(i[v].template_id),inputProps:{scene:i[v]},durationInFrames:i[v].duration_s*i[v].fps,fps:i[v].fps,compositionWidth:i[v].layout.canvas.w,compositionHeight:i[v].layout.canvas.h,controls:!0,loop:!0,style:{width:"100%"}})})}),d.jsxs("div",{style:{marginTop:15,textAlign:"center",fontSize:14,color:"#666",padding:"10px 20px",backgroundColor:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[d.jsx("div",{style:{marginBottom:5},children:d.jsxs("strong",{style:{color:w.color,fontSize:16},children:[w.icon," ",i[v].meta.title]})}),d.jsxs("div",{style:{fontSize:12,color:"#999"},children:[i[v].duration_s,"s • ",i[v].layout.canvas.w,"×",i[v].layout.canvas.h," • ",i[v].fps," fps"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:15},children:[r>0&&d.jsx("button",{onClick:R,style:{padding:"12px 30px",fontSize:16,fontWeight:600,backgroundColor:"#fff",color:"#666",border:"2px solid #ddd",borderRadius:8,cursor:"pointer",transition:"all 0.2s"},onMouseOver:$=>$.target.style.borderColor="#999",onMouseOut:$=>$.target.style.borderColor="#ddd",children:"← Previous"}),d.jsx("button",{onClick:C,style:{padding:"12px 50px",fontSize:18,fontWeight:700,backgroundColor:w.color,color:"#fff",border:"none",borderRadius:8,cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transition:"transform 0.2s"},onMouseOver:$=>$.target.style.transform="scale(1.05)",onMouseOut:$=>$.target.style.transform="scale(1)",children:r===wn.length-2?"✓ Approve & Finish":"✓ Approve & Continue"})]})]})]})})]})},rw=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens.colors,l=r.style_tokens.fonts,c=Z=>{const ee=Z.t*i,Y=(Z.duration||.5)*i;return te(n,[ee,ee+Y],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})},u=(Z,ee=null)=>r.timeline.find(Y=>Y.action===Z&&(!ee||Y.target===ee)),h=u("drawText","title"),p=h?c(h):0,g=u("drawTextL","left_h1"),x=g?c(g):0,S=u("drawTextL","left_h2"),v=S?c(S):0,k=u("drawImageL","image_left"),w=k?c(k):0,b=u("drawTextR","right_h1"),C=b?c(b):0,E=u("drawTextR","right_h2"),R=E?c(E):0,j=u("drawImageR","image_right"),$=j?c(j):0,M=r.timeline.filter(Z=>Z.action==="arrowSwap").find(Z=>{const ee=Z.t*i,Y=ee+(Z.duration||1)*i;return n>=ee&&n<=Y}),z=u("tick","left_h2"),V=z?c(z):0,U=u("cross","right_h2"),H=U?c(U):0;return d.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:s.bg,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:d.jsxs("div",{style:{width:1800,height:950,backgroundColor:s.board,border:`4px solid ${s.boardStroke}`,borderRadius:12,position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",padding:60},children:[p>0&&d.jsx("div",{style:{fontFamily:l.title.family,fontSize:l.title.size,fontWeight:l.title.weight,color:s.accent,textAlign:"center",marginBottom:60,opacity:p},children:r.fill.texts.title}),d.jsxs("div",{style:{display:"flex",flex:1,gap:80},children:[d.jsxs("div",{style:{flex:1,backgroundColor:M?.target==="left_h1"?"rgba(115, 34, 130, 0.1)":"transparent",borderRadius:8,padding:40,display:"flex",flexDirection:"column",alignItems:"center",border:`3px solid ${M?.target==="left_h1"?s.accent:"transparent"}`,transition:"all 0.3s ease"},children:[x>0&&d.jsx("div",{style:{fontFamily:l.subtitle.family,fontSize:l.subtitle.size+8,fontWeight:l.subtitle.weight,color:s.accent,marginBottom:20,opacity:x},children:r.fill.texts.left_h1}),w>0&&r.fill.images.image_left&&d.jsx("img",{src:r.fill.images.image_left,style:{width:200,height:200,objectFit:"contain",marginBottom:30,opacity:w,transform:`scale(${w})`},alt:"Left visual"}),v>0&&d.jsxs("div",{style:{fontFamily:l.body.family,fontSize:l.body.size-4,color:s.ink,textAlign:"center",opacity:v,position:"relative"},children:[r.fill.texts.left_h2,V>0&&d.jsx("div",{style:{position:"absolute",right:-50,top:"50%",transform:"translateY(-50%)",fontSize:48,color:s.support,opacity:V},children:"✓"})]})]}),d.jsx("div",{style:{width:4,backgroundColor:s.boardStroke,borderRadius:2}}),d.jsxs("div",{style:{flex:1,backgroundColor:M?.target==="right_h1"?"rgba(115, 34, 130, 0.1)":"transparent",borderRadius:8,padding:40,display:"flex",flexDirection:"column",alignItems:"center",border:`3px solid ${M?.target==="right_h1"?s.accent:"transparent"}`,transition:"all 0.3s ease"},children:[C>0&&d.jsx("div",{style:{fontFamily:l.subtitle.family,fontSize:l.subtitle.size+8,fontWeight:l.subtitle.weight,color:s.accent,marginBottom:20,opacity:C},children:r.fill.texts.right_h1}),$>0&&r.fill.images.image_right&&d.jsx("img",{src:r.fill.images.image_right,style:{width:200,height:200,objectFit:"contain",marginBottom:30,opacity:$,transform:`scale(${$})`},alt:"Right visual"}),R>0&&d.jsxs("div",{style:{fontFamily:l.body.family,fontSize:l.body.size-4,color:s.ink,textAlign:"center",opacity:R,position:"relative"},children:[r.fill.texts.right_h2,H>0&&d.jsx("div",{style:{position:"absolute",right:-50,top:"50%",transform:"translateY(-50%)",fontSize:48,color:"#e74c3c",opacity:H},children:"✗"})]})]})]})]})})},ow=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens.colors,l=r.style_tokens.fonts,c=w=>{const b=w.t*i,C=(w.duration||.5)*i;return te(n,[b,b+C],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})},u=(w,b=null)=>r.timeline.find(C=>C.action===w&&(!b||C.target===b)),h=u("drawText","title"),p=h?c(h):0,g=["s1","s2","s3","s4","s5"],x=g.map(w=>{const b=u("stepIn",w);return b?c(b):0}),S=[{action:u("connectorReveal","s1->s2"),progress:0},{action:u("connectorReveal","s2->s3"),progress:0},{action:u("connectorReveal","s3->s4"),progress:0},{action:u("connectorReveal","s4->s5"),progress:0}].map(({action:w})=>w?c(w):0),v=u("badge","s5"),k=v?c(v):0;return d.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:s.bg,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:d.jsxs("div",{style:{width:1800,height:950,backgroundColor:s.board,border:`4px solid ${s.boardStroke}`,borderRadius:12,position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",padding:60},children:[p>0&&d.jsx("div",{style:{fontFamily:l.title.family,fontSize:l.title.size,fontWeight:l.title.weight,color:s.accent,textAlign:"center",marginBottom:80,opacity:p},children:r.fill.texts.title}),d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",paddingLeft:40,paddingRight:40},children:g.map((w,b)=>{const C=x[b],E=`i${b+1}`;return d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:2},children:[d.jsxs("div",{style:{width:150,height:150,borderRadius:"50%",backgroundColor:s.board,border:`4px solid ${s.accent}`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:20,opacity:C,transform:`scale(${C})`,boxShadow:C>0?"0 4px 12px rgba(115, 34, 130, 0.3)":"none",position:"relative"},children:[r.fill.images[E]&&d.jsx("img",{src:r.fill.images[E],style:{width:100,height:100,objectFit:"contain"},alt:`Step ${b+1}`}),b===4&&k>0&&d.jsx("div",{style:{position:"absolute",top:-20,right:-20,width:80,height:80,borderRadius:"50%",backgroundColor:s.support,display:"flex",alignItems:"center",justifyContent:"center",fontSize:40,opacity:k,transform:`scale(${k}) rotate(${k*360}deg)`,border:`3px solid ${s.board}`,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"⭐"})]}),d.jsx("div",{style:{fontFamily:l.body.family,fontSize:l.body.size-10,color:s.ink,textAlign:"center",maxWidth:200,opacity:C,transform:`translateY(${te(C,[0,1],[20,0])}px)`},children:r.fill.texts[w]}),b<4&&d.jsx("div",{style:{position:"absolute",left:"50%",top:75,width:280,height:4,backgroundColor:s.accent,transformOrigin:"left center",transform:`scaleX(${S[b]})`,zIndex:1},children:d.jsx("div",{style:{position:"absolute",right:-8,top:"50%",transform:"translateY(-50%)",width:0,height:0,borderLeft:`12px solid ${s.accent}`,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",opacity:S[b]}})})]},w)})}),d.jsx("div",{style:{position:"absolute",bottom:40,left:"50%",transform:"translateX(-50%)",display:"flex",gap:12,opacity:p},children:g.map((w,b)=>d.jsx("div",{style:{width:16,height:16,borderRadius:"50%",backgroundColor:x[b]>.5?s.support:s.boardStroke,transition:"background-color 0.3s ease"}},b))})]})})};function tc(r,n,i){if(r&&r.length){const[s,l]=n,c=Math.PI/180*i,u=Math.cos(c),h=Math.sin(c);for(const p of r){const[g,x]=p;p[0]=(g-s)*u-(x-l)*h+s,p[1]=(g-s)*h+(x-l)*u+l}}}function iw(r,n){return r[0]===n[0]&&r[1]===n[1]}function sw(r,n,i,s=1){const l=i,c=Math.max(n,.1),u=r[0]&&r[0][0]&&typeof r[0][0]=="number"?[r]:r,h=[0,0];if(l)for(const g of u)tc(g,h,l);const p=(function(g,x,S){const v=[];for(const R of g){const j=[...R];iw(j[0],j[j.length-1])||j.push([j[0][0],j[0][1]]),j.length>2&&v.push(j)}const k=[];x=Math.max(x,.1);const w=[];for(const R of v)for(let j=0;j<R.length-1;j++){const $=R[j],P=R[j+1];if($[1]!==P[1]){const M=Math.min($[1],P[1]);w.push({ymin:M,ymax:Math.max($[1],P[1]),x:M===$[1]?$[0]:P[0],islope:(P[0]-$[0])/(P[1]-$[1])})}}if(w.sort(((R,j)=>R.ymin<j.ymin?-1:R.ymin>j.ymin?1:R.x<j.x?-1:R.x>j.x?1:R.ymax===j.ymax?0:(R.ymax-j.ymax)/Math.abs(R.ymax-j.ymax))),!w.length)return k;let b=[],C=w[0].ymin,E=0;for(;b.length||w.length;){if(w.length){let R=-1;for(let j=0;j<w.length&&!(w[j].ymin>C);j++)R=j;w.splice(0,R+1).forEach((j=>{b.push({s:C,edge:j})}))}if(b=b.filter((R=>!(R.edge.ymax<=C))),b.sort(((R,j)=>R.edge.x===j.edge.x?0:(R.edge.x-j.edge.x)/Math.abs(R.edge.x-j.edge.x))),(S!==1||E%x==0)&&b.length>1)for(let R=0;R<b.length;R+=2){const j=R+1;if(j>=b.length)break;const $=b[R].edge,P=b[j].edge;k.push([[Math.round($.x),C],[Math.round(P.x),C]])}C+=S,b.forEach((R=>{R.edge.x=R.edge.x+S*R.edge.islope})),E++}return k})(u,c,s);if(l){for(const g of u)tc(g,h,-l);(function(g,x,S){const v=[];g.forEach((k=>v.push(...k))),tc(v,x,S)})(p,h,-l)}return p}function ui(r,n){var i;const s=n.hachureAngle+90;let l=n.hachureGap;l<0&&(l=4*n.strokeWidth),l=Math.round(Math.max(l,.1));let c=1;return n.roughness>=1&&(((i=n.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(c=l),sw(r,l,s,c||1)}class ru{constructor(n){this.helper=n}fillPolygons(n,i){return this._fillPolygons(n,i)}_fillPolygons(n,i){const s=ui(n,i);return{type:"fillSketch",ops:this.renderLines(s,i)}}renderLines(n,i){const s=[];for(const l of n)s.push(...this.helper.doubleLineOps(l[0][0],l[0][1],l[1][0],l[1][1],i));return s}}function sa(r){const n=r[0],i=r[1];return Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2))}class aw extends ru{fillPolygons(n,i){let s=i.hachureGap;s<0&&(s=4*i.strokeWidth),s=Math.max(s,.1);const l=ui(n,Object.assign({},i,{hachureGap:s})),c=Math.PI/180*i.hachureAngle,u=[],h=.5*s*Math.cos(c),p=.5*s*Math.sin(c);for(const[g,x]of l)sa([g,x])&&u.push([[g[0]-h,g[1]+p],[...x]],[[g[0]+h,g[1]-p],[...x]]);return{type:"fillSketch",ops:this.renderLines(u,i)}}}class lw extends ru{fillPolygons(n,i){const s=this._fillPolygons(n,i),l=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),c=this._fillPolygons(n,l);return s.ops=s.ops.concat(c.ops),s}}class cw{constructor(n){this.helper=n}fillPolygons(n,i){const s=ui(n,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(s,i)}dotsOnLines(n,i){const s=[];let l=i.hachureGap;l<0&&(l=4*i.strokeWidth),l=Math.max(l,.1);let c=i.fillWeight;c<0&&(c=i.strokeWidth/2);const u=l/4;for(const h of n){const p=sa(h),g=p/l,x=Math.ceil(g)-1,S=p-x*l,v=(h[0][0]+h[1][0])/2-l/4,k=Math.min(h[0][1],h[1][1]);for(let w=0;w<x;w++){const b=k+S+w*l,C=v-u+2*Math.random()*u,E=b-u+2*Math.random()*u,R=this.helper.ellipse(C,E,c,c,i);s.push(...R.ops)}}return{type:"fillSketch",ops:s}}}class uw{constructor(n){this.helper=n}fillPolygons(n,i){const s=ui(n,i);return{type:"fillSketch",ops:this.dashedLine(s,i)}}dashedLine(n,i){const s=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,l=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,c=[];return n.forEach((u=>{const h=sa(u),p=Math.floor(h/(s+l)),g=(h+l-p*(s+l))/2;let x=u[0],S=u[1];x[0]>S[0]&&(x=u[1],S=u[0]);const v=Math.atan((S[1]-x[1])/(S[0]-x[0]));for(let k=0;k<p;k++){const w=k*(s+l),b=w+s,C=[x[0]+w*Math.cos(v)+g*Math.cos(v),x[1]+w*Math.sin(v)+g*Math.sin(v)],E=[x[0]+b*Math.cos(v)+g*Math.cos(v),x[1]+b*Math.sin(v)+g*Math.sin(v)];c.push(...this.helper.doubleLineOps(C[0],C[1],E[0],E[1],i))}})),c}}class dw{constructor(n){this.helper=n}fillPolygons(n,i){const s=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,l=i.zigzagOffset<0?s:i.zigzagOffset,c=ui(n,i=Object.assign({},i,{hachureGap:s+l}));return{type:"fillSketch",ops:this.zigzagLines(c,l,i)}}zigzagLines(n,i,s){const l=[];return n.forEach((c=>{const u=sa(c),h=Math.round(u/(2*i));let p=c[0],g=c[1];p[0]>g[0]&&(p=c[1],g=c[0]);const x=Math.atan((g[1]-p[1])/(g[0]-p[0]));for(let S=0;S<h;S++){const v=2*S*i,k=2*(S+1)*i,w=Math.sqrt(2*Math.pow(i,2)),b=[p[0]+v*Math.cos(x),p[1]+v*Math.sin(x)],C=[p[0]+k*Math.cos(x),p[1]+k*Math.sin(x)],E=[b[0]+w*Math.cos(x+Math.PI/4),b[1]+w*Math.sin(x+Math.PI/4)];l.push(...this.helper.doubleLineOps(b[0],b[1],E[0],E[1],s),...this.helper.doubleLineOps(E[0],E[1],C[0],C[1],s))}})),l}}const wt={};class fw{constructor(n){this.seed=n}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const pw=0,nc=1,Mp=2,Es={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function rc(r,n){return r.type===n}function ou(r){const n=[],i=(function(u){const h=new Array;for(;u!=="";)if(u.match(/^([ \t\r\n,]+)/))u=u.substr(RegExp.$1.length);else if(u.match(/^([aAcChHlLmMqQsStTvVzZ])/))h[h.length]={type:pw,text:RegExp.$1},u=u.substr(RegExp.$1.length);else{if(!u.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];h[h.length]={type:nc,text:`${parseFloat(RegExp.$1)}`},u=u.substr(RegExp.$1.length)}return h[h.length]={type:Mp,text:""},h})(r);let s="BOD",l=0,c=i[l];for(;!rc(c,Mp);){let u=0;const h=[];if(s==="BOD"){if(c.text!=="M"&&c.text!=="m")return ou("M0,0"+r);l++,u=Es[c.text],s=c.text}else rc(c,nc)?u=Es[s]:(l++,u=Es[c.text],s=c.text);if(!(l+u<i.length))throw new Error("Path data ended short");for(let p=l;p<l+u;p++){const g=i[p];if(!rc(g,nc))throw new Error("Param not a number: "+s+","+g.text);h[h.length]=+g.text}if(typeof Es[s]!="number")throw new Error("Bad segment: "+s);{const p={key:s,data:h};n.push(p),l+=u,c=i[l],s==="M"&&(s="L"),s==="m"&&(s="l")}}return n}function em(r){let n=0,i=0,s=0,l=0;const c=[];for(const{key:u,data:h}of r)switch(u){case"M":c.push({key:"M",data:[...h]}),[n,i]=h,[s,l]=h;break;case"m":n+=h[0],i+=h[1],c.push({key:"M",data:[n,i]}),s=n,l=i;break;case"L":c.push({key:"L",data:[...h]}),[n,i]=h;break;case"l":n+=h[0],i+=h[1],c.push({key:"L",data:[n,i]});break;case"C":c.push({key:"C",data:[...h]}),n=h[4],i=h[5];break;case"c":{const p=h.map(((g,x)=>x%2?g+i:g+n));c.push({key:"C",data:p}),n=p[4],i=p[5];break}case"Q":c.push({key:"Q",data:[...h]}),n=h[2],i=h[3];break;case"q":{const p=h.map(((g,x)=>x%2?g+i:g+n));c.push({key:"Q",data:p}),n=p[2],i=p[3];break}case"A":c.push({key:"A",data:[...h]}),n=h[5],i=h[6];break;case"a":n+=h[5],i+=h[6],c.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],n,i]});break;case"H":c.push({key:"H",data:[...h]}),n=h[0];break;case"h":n+=h[0],c.push({key:"H",data:[n]});break;case"V":c.push({key:"V",data:[...h]}),i=h[0];break;case"v":i+=h[0],c.push({key:"V",data:[i]});break;case"S":c.push({key:"S",data:[...h]}),n=h[2],i=h[3];break;case"s":{const p=h.map(((g,x)=>x%2?g+i:g+n));c.push({key:"S",data:p}),n=p[2],i=p[3];break}case"T":c.push({key:"T",data:[...h]}),n=h[0],i=h[1];break;case"t":n+=h[0],i+=h[1],c.push({key:"T",data:[n,i]});break;case"Z":case"z":c.push({key:"Z",data:[]}),n=s,i=l}return c}function tm(r){const n=[];let i="",s=0,l=0,c=0,u=0,h=0,p=0;for(const{key:g,data:x}of r){switch(g){case"M":n.push({key:"M",data:[...x]}),[s,l]=x,[c,u]=x;break;case"C":n.push({key:"C",data:[...x]}),s=x[4],l=x[5],h=x[2],p=x[3];break;case"L":n.push({key:"L",data:[...x]}),[s,l]=x;break;case"H":s=x[0],n.push({key:"L",data:[s,l]});break;case"V":l=x[0],n.push({key:"L",data:[s,l]});break;case"S":{let S=0,v=0;i==="C"||i==="S"?(S=s+(s-h),v=l+(l-p)):(S=s,v=l),n.push({key:"C",data:[S,v,...x]}),h=x[0],p=x[1],s=x[2],l=x[3];break}case"T":{const[S,v]=x;let k=0,w=0;i==="Q"||i==="T"?(k=s+(s-h),w=l+(l-p)):(k=s,w=l);const b=s+2*(k-s)/3,C=l+2*(w-l)/3,E=S+2*(k-S)/3,R=v+2*(w-v)/3;n.push({key:"C",data:[b,C,E,R,S,v]}),h=k,p=w,s=S,l=v;break}case"Q":{const[S,v,k,w]=x,b=s+2*(S-s)/3,C=l+2*(v-l)/3,E=k+2*(S-k)/3,R=w+2*(v-w)/3;n.push({key:"C",data:[b,C,E,R,k,w]}),h=S,p=v,s=k,l=w;break}case"A":{const S=Math.abs(x[0]),v=Math.abs(x[1]),k=x[2],w=x[3],b=x[4],C=x[5],E=x[6];S===0||v===0?(n.push({key:"C",data:[s,l,C,E,C,E]}),s=C,l=E):(s!==C||l!==E)&&(nm(s,l,C,E,S,v,k,w,b).forEach((function(R){n.push({key:"C",data:R})})),s=C,l=E);break}case"Z":n.push({key:"Z",data:[]}),s=c,l=u}i=g}return n}function ei(r,n,i){return[r*Math.cos(i)-n*Math.sin(i),r*Math.sin(i)+n*Math.cos(i)]}function nm(r,n,i,s,l,c,u,h,p,g){const x=(S=u,Math.PI*S/180);var S;let v=[],k=0,w=0,b=0,C=0;if(g)[k,w,b,C]=g;else{[r,n]=ei(r,n,-x),[i,s]=ei(i,s,-x);const Y=(r-i)/2,X=(n-s)/2;let ne=Y*Y/(l*l)+X*X/(c*c);ne>1&&(ne=Math.sqrt(ne),l*=ne,c*=ne);const ae=l*l,oe=c*c,B=ae*oe-ae*X*X-oe*Y*Y,ie=ae*X*X+oe*Y*Y,G=(h===p?-1:1)*Math.sqrt(Math.abs(B/ie));b=G*l*X/c+(r+i)/2,C=G*-c*Y/l+(n+s)/2,k=Math.asin(parseFloat(((n-C)/c).toFixed(9))),w=Math.asin(parseFloat(((s-C)/c).toFixed(9))),r<b&&(k=Math.PI-k),i<b&&(w=Math.PI-w),k<0&&(k=2*Math.PI+k),w<0&&(w=2*Math.PI+w),p&&k>w&&(k-=2*Math.PI),!p&&w>k&&(w-=2*Math.PI)}let E=w-k;if(Math.abs(E)>120*Math.PI/180){const Y=w,X=i,ne=s;w=p&&w>k?k+120*Math.PI/180*1:k+120*Math.PI/180*-1,v=nm(i=b+l*Math.cos(w),s=C+c*Math.sin(w),X,ne,l,c,u,0,p,[w,Y,b,C])}E=w-k;const R=Math.cos(k),j=Math.sin(k),$=Math.cos(w),P=Math.sin(w),M=Math.tan(E/4),z=4/3*l*M,V=4/3*c*M,U=[r,n],H=[r+z*j,n-V*R],Z=[i+z*P,s-V*$],ee=[i,s];if(H[0]=2*U[0]-H[0],H[1]=2*U[1]-H[1],g)return[H,Z,ee].concat(v);{v=[H,Z,ee].concat(v);const Y=[];for(let X=0;X<v.length;X+=3){const ne=ei(v[X][0],v[X][1],x),ae=ei(v[X+1][0],v[X+1][1],x),oe=ei(v[X+2][0],v[X+2][1],x);Y.push([ne[0],ne[1],ae[0],ae[1],oe[0],oe[1]])}return Y}}const hw={randOffset:function(r,n){return we(r,n)},randOffsetWithRange:function(r,n,i){return Ns(r,n,i)},ellipse:function(r,n,i,s,l){const c=om(i,s,l);return kc(r,n,l,c).opset},doubleLineOps:function(r,n,i,s,l){return Kn(r,n,i,s,l,!0)}};function rm(r,n,i,s,l){return{type:"path",ops:Kn(r,n,i,s,l)}}function Ts(r,n,i){const s=(r||[]).length;if(s>2){const l=[];for(let c=0;c<s-1;c++)l.push(...Kn(r[c][0],r[c][1],r[c+1][0],r[c+1][1],i));return n&&l.push(...Kn(r[s-1][0],r[s-1][1],r[0][0],r[0][1],i)),{type:"path",ops:l}}return s===2?rm(r[0][0],r[0][1],r[1][0],r[1][1],i):{type:"path",ops:[]}}function mw(r,n,i,s,l){return(function(c,u){return Ts(c,!0,u)})([[r,n],[r+i,n],[r+i,n+s],[r,n+s]],l)}function Pp(r,n){if(r.length){const i=typeof r[0][0]=="number"?[r]:r,s=_s(i[0],1*(1+.2*n.roughness),n),l=n.disableMultiStroke?[]:_s(i[0],1.5*(1+.22*n.roughness),Fp(n));for(let c=1;c<i.length;c++){const u=i[c];if(u.length){const h=_s(u,1*(1+.2*n.roughness),n),p=n.disableMultiStroke?[]:_s(u,1.5*(1+.22*n.roughness),Fp(n));for(const g of h)g.op!=="move"&&s.push(g);for(const g of p)g.op!=="move"&&l.push(g)}}return{type:"path",ops:s.concat(l)}}return{type:"path",ops:[]}}function om(r,n,i){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(r/2,2)+Math.pow(n/2,2))/2)),l=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*s)),c=2*Math.PI/l;let u=Math.abs(r/2),h=Math.abs(n/2);const p=1-i.curveFitting;return u+=we(u*p,i),h+=we(h*p,i),{increment:c,rx:u,ry:h}}function kc(r,n,i,s){const[l,c]=Ap(s.increment,r,n,s.rx,s.ry,1,s.increment*Ns(.1,Ns(.4,1,i),i),i);let u=Ds(l,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[h]=Ap(s.increment,r,n,s.rx,s.ry,1.5,0,i),p=Ds(h,null,i);u=u.concat(p)}return{estimatedPoints:c,opset:{type:"path",ops:u}}}function Tp(r,n,i,s,l,c,u,h,p){const g=r,x=n;let S=Math.abs(i/2),v=Math.abs(s/2);S+=we(.01*S,p),v+=we(.01*v,p);let k=l,w=c;for(;k<0;)k+=2*Math.PI,w+=2*Math.PI;w-k>2*Math.PI&&(k=0,w=2*Math.PI);const b=2*Math.PI/p.curveStepCount,C=Math.min(b/2,(w-k)/2),E=zp(C,g,x,S,v,k,w,1,p);if(!p.disableMultiStroke){const R=zp(C,g,x,S,v,k,w,1.5,p);E.push(...R)}return u&&(h?E.push(...Kn(g,x,g+S*Math.cos(k),x+v*Math.sin(k),p),...Kn(g,x,g+S*Math.cos(w),x+v*Math.sin(w),p)):E.push({op:"lineTo",data:[g,x]},{op:"lineTo",data:[g+S*Math.cos(k),x+v*Math.sin(k)]})),{type:"path",ops:E}}function Ip(r,n){const i=tm(em(ou(r))),s=[];let l=[0,0],c=[0,0];for(const{key:u,data:h}of i)switch(u){case"M":c=[h[0],h[1]],l=[h[0],h[1]];break;case"L":s.push(...Kn(c[0],c[1],h[0],h[1],n)),c=[h[0],h[1]];break;case"C":{const[p,g,x,S,v,k]=h;s.push(...gw(p,g,x,S,v,k,c,n)),c=[v,k];break}case"Z":s.push(...Kn(c[0],c[1],l[0],l[1],n)),c=[l[0],l[1]]}return{type:"path",ops:s}}function oc(r,n){const i=[];for(const s of r)if(s.length){const l=n.maxRandomnessOffset||0,c=s.length;if(c>2){i.push({op:"move",data:[s[0][0]+we(l,n),s[0][1]+we(l,n)]});for(let u=1;u<c;u++)i.push({op:"lineTo",data:[s[u][0]+we(l,n),s[u][1]+we(l,n)]})}}return{type:"fillPath",ops:i}}function ro(r,n){return(function(i,s){let l=i.fillStyle||"hachure";if(!wt[l])switch(l){case"zigzag":wt[l]||(wt[l]=new aw(s));break;case"cross-hatch":wt[l]||(wt[l]=new lw(s));break;case"dots":wt[l]||(wt[l]=new cw(s));break;case"dashed":wt[l]||(wt[l]=new uw(s));break;case"zigzag-line":wt[l]||(wt[l]=new dw(s));break;default:l="hachure",wt[l]||(wt[l]=new ru(s))}return wt[l]})(n,hw).fillPolygons(r,n)}function Fp(r){const n=Object.assign({},r);return n.randomizer=void 0,r.seed&&(n.seed=r.seed+1),n}function im(r){return r.randomizer||(r.randomizer=new fw(r.seed||0)),r.randomizer.next()}function Ns(r,n,i,s=1){return i.roughness*s*(im(i)*(n-r)+r)}function we(r,n,i=1){return Ns(-r,r,n,i)}function Kn(r,n,i,s,l,c=!1){const u=c?l.disableMultiStrokeFill:l.disableMultiStroke,h=Sc(r,n,i,s,l,!0,!1);if(u)return h;const p=Sc(r,n,i,s,l,!0,!0);return h.concat(p)}function Sc(r,n,i,s,l,c,u){const h=Math.pow(r-i,2)+Math.pow(n-s,2),p=Math.sqrt(h);let g=1;g=p<200?1:p>500?.4:-.0016668*p+1.233334;let x=l.maxRandomnessOffset||0;x*x*100>h&&(x=p/10);const S=x/2,v=.2+.2*im(l);let k=l.bowing*l.maxRandomnessOffset*(s-n)/200,w=l.bowing*l.maxRandomnessOffset*(r-i)/200;k=we(k,l,g),w=we(w,l,g);const b=[],C=()=>we(S,l,g),E=()=>we(x,l,g),R=l.preserveVertices;return u?b.push({op:"move",data:[r+(R?0:C()),n+(R?0:C())]}):b.push({op:"move",data:[r+(R?0:we(x,l,g)),n+(R?0:we(x,l,g))]}),u?b.push({op:"bcurveTo",data:[k+r+(i-r)*v+C(),w+n+(s-n)*v+C(),k+r+2*(i-r)*v+C(),w+n+2*(s-n)*v+C(),i+(R?0:C()),s+(R?0:C())]}):b.push({op:"bcurveTo",data:[k+r+(i-r)*v+E(),w+n+(s-n)*v+E(),k+r+2*(i-r)*v+E(),w+n+2*(s-n)*v+E(),i+(R?0:E()),s+(R?0:E())]}),b}function _s(r,n,i){if(!r.length)return[];const s=[];s.push([r[0][0]+we(n,i),r[0][1]+we(n,i)]),s.push([r[0][0]+we(n,i),r[0][1]+we(n,i)]);for(let l=1;l<r.length;l++)s.push([r[l][0]+we(n,i),r[l][1]+we(n,i)]),l===r.length-1&&s.push([r[l][0]+we(n,i),r[l][1]+we(n,i)]);return Ds(s,null,i)}function Ds(r,n,i){const s=r.length,l=[];if(s>3){const c=[],u=1-i.curveTightness;l.push({op:"move",data:[r[1][0],r[1][1]]});for(let h=1;h+2<s;h++){const p=r[h];c[0]=[p[0],p[1]],c[1]=[p[0]+(u*r[h+1][0]-u*r[h-1][0])/6,p[1]+(u*r[h+1][1]-u*r[h-1][1])/6],c[2]=[r[h+1][0]+(u*r[h][0]-u*r[h+2][0])/6,r[h+1][1]+(u*r[h][1]-u*r[h+2][1])/6],c[3]=[r[h+1][0],r[h+1][1]],l.push({op:"bcurveTo",data:[c[1][0],c[1][1],c[2][0],c[2][1],c[3][0],c[3][1]]})}}else s===3?(l.push({op:"move",data:[r[1][0],r[1][1]]}),l.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[2][0],r[2][1]]})):s===2&&l.push(...Sc(r[0][0],r[0][1],r[1][0],r[1][1],i,!0,!0));return l}function Ap(r,n,i,s,l,c,u,h){const p=[],g=[];if(h.roughness===0){r/=4,g.push([n+s*Math.cos(-r),i+l*Math.sin(-r)]);for(let x=0;x<=2*Math.PI;x+=r){const S=[n+s*Math.cos(x),i+l*Math.sin(x)];p.push(S),g.push(S)}g.push([n+s*Math.cos(0),i+l*Math.sin(0)]),g.push([n+s*Math.cos(r),i+l*Math.sin(r)])}else{const x=we(.5,h)-Math.PI/2;g.push([we(c,h)+n+.9*s*Math.cos(x-r),we(c,h)+i+.9*l*Math.sin(x-r)]);const S=2*Math.PI+x-.01;for(let v=x;v<S;v+=r){const k=[we(c,h)+n+s*Math.cos(v),we(c,h)+i+l*Math.sin(v)];p.push(k),g.push(k)}g.push([we(c,h)+n+s*Math.cos(x+2*Math.PI+.5*u),we(c,h)+i+l*Math.sin(x+2*Math.PI+.5*u)]),g.push([we(c,h)+n+.98*s*Math.cos(x+u),we(c,h)+i+.98*l*Math.sin(x+u)]),g.push([we(c,h)+n+.9*s*Math.cos(x+.5*u),we(c,h)+i+.9*l*Math.sin(x+.5*u)])}return[g,p]}function zp(r,n,i,s,l,c,u,h,p){const g=c+we(.1,p),x=[];x.push([we(h,p)+n+.9*s*Math.cos(g-r),we(h,p)+i+.9*l*Math.sin(g-r)]);for(let S=g;S<=u;S+=r)x.push([we(h,p)+n+s*Math.cos(S),we(h,p)+i+l*Math.sin(S)]);return x.push([n+s*Math.cos(u),i+l*Math.sin(u)]),x.push([n+s*Math.cos(u),i+l*Math.sin(u)]),Ds(x,null,p)}function gw(r,n,i,s,l,c,u,h){const p=[],g=[h.maxRandomnessOffset||1,(h.maxRandomnessOffset||1)+.3];let x=[0,0];const S=h.disableMultiStroke?1:2,v=h.preserveVertices;for(let k=0;k<S;k++)k===0?p.push({op:"move",data:[u[0],u[1]]}):p.push({op:"move",data:[u[0]+(v?0:we(g[0],h)),u[1]+(v?0:we(g[0],h))]}),x=v?[l,c]:[l+we(g[k],h),c+we(g[k],h)],p.push({op:"bcurveTo",data:[r+we(g[k],h),n+we(g[k],h),i+we(g[k],h),s+we(g[k],h),x[0],x[1]]});return p}function ti(r){return[...r]}function Lp(r,n=0){const i=r.length;if(i<3)throw new Error("A curve must have at least three points.");const s=[];if(i===3)s.push(ti(r[0]),ti(r[1]),ti(r[2]),ti(r[2]));else{const l=[];l.push(r[0],r[0]);for(let h=1;h<r.length;h++)l.push(r[h]),h===r.length-1&&l.push(r[h]);const c=[],u=1-n;s.push(ti(l[0]));for(let h=1;h+2<l.length;h++){const p=l[h];c[0]=[p[0],p[1]],c[1]=[p[0]+(u*l[h+1][0]-u*l[h-1][0])/6,p[1]+(u*l[h+1][1]-u*l[h-1][1])/6],c[2]=[l[h+1][0]+(u*l[h][0]-u*l[h+2][0])/6,l[h+1][1]+(u*l[h][1]-u*l[h+2][1])/6],c[3]=[l[h+1][0],l[h+1][1]],s.push(c[1],c[2],c[3])}}return s}function Is(r,n){return Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)}function yw(r,n,i){const s=Is(n,i);if(s===0)return Is(r,n);let l=((r[0]-n[0])*(i[0]-n[0])+(r[1]-n[1])*(i[1]-n[1]))/s;return l=Math.max(0,Math.min(1,l)),Is(r,vr(n,i,l))}function vr(r,n,i){return[r[0]+(n[0]-r[0])*i,r[1]+(n[1]-r[1])*i]}function Cc(r,n,i,s){const l=s||[];if((function(h,p){const g=h[p+0],x=h[p+1],S=h[p+2],v=h[p+3];let k=3*x[0]-2*g[0]-v[0];k*=k;let w=3*x[1]-2*g[1]-v[1];w*=w;let b=3*S[0]-2*v[0]-g[0];b*=b;let C=3*S[1]-2*v[1]-g[1];return C*=C,k<b&&(k=b),w<C&&(w=C),k+w})(r,n)<i){const h=r[n+0];l.length?(c=l[l.length-1],u=h,Math.sqrt(Is(c,u))>1&&l.push(h)):l.push(h),l.push(r[n+3])}else{const p=r[n+0],g=r[n+1],x=r[n+2],S=r[n+3],v=vr(p,g,.5),k=vr(g,x,.5),w=vr(x,S,.5),b=vr(v,k,.5),C=vr(k,w,.5),E=vr(b,C,.5);Cc([p,v,b,E],0,i,l),Cc([E,C,w,S],0,i,l)}var c,u;return l}function vw(r,n){return Os(r,0,r.length,n)}function Os(r,n,i,s,l){const c=l||[],u=r[n],h=r[i-1];let p=0,g=1;for(let x=n+1;x<i-1;++x){const S=yw(r[x],u,h);S>p&&(p=S,g=x)}return Math.sqrt(p)>s?(Os(r,n,g+1,s,c),Os(r,g,i,s,c)):(c.length||c.push(u),c.push(h)),c}function ic(r,n=.15,i){const s=[],l=(r.length-1)/3;for(let c=0;c<l;c++)Cc(r,3*c,n,s);return i&&i>0?Os(s,0,s.length,i):s}const jt="none";class Vs{constructor(n){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=n||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(n){return n?Object.assign({},this.defaultOptions,n):this.defaultOptions}_d(n,i,s){return{shape:n,sets:i||[],options:s||this.defaultOptions}}line(n,i,s,l,c){const u=this._o(c);return this._d("line",[rm(n,i,s,l,u)],u)}rectangle(n,i,s,l,c){const u=this._o(c),h=[],p=mw(n,i,s,l,u);if(u.fill){const g=[[n,i],[n+s,i],[n+s,i+l],[n,i+l]];u.fillStyle==="solid"?h.push(oc([g],u)):h.push(ro([g],u))}return u.stroke!==jt&&h.push(p),this._d("rectangle",h,u)}ellipse(n,i,s,l,c){const u=this._o(c),h=[],p=om(s,l,u),g=kc(n,i,u,p);if(u.fill)if(u.fillStyle==="solid"){const x=kc(n,i,u,p).opset;x.type="fillPath",h.push(x)}else h.push(ro([g.estimatedPoints],u));return u.stroke!==jt&&h.push(g.opset),this._d("ellipse",h,u)}circle(n,i,s,l){const c=this.ellipse(n,i,s,s,l);return c.shape="circle",c}linearPath(n,i){const s=this._o(i);return this._d("linearPath",[Ts(n,!1,s)],s)}arc(n,i,s,l,c,u,h=!1,p){const g=this._o(p),x=[],S=Tp(n,i,s,l,c,u,h,!0,g);if(h&&g.fill)if(g.fillStyle==="solid"){const v=Object.assign({},g);v.disableMultiStroke=!0;const k=Tp(n,i,s,l,c,u,!0,!1,v);k.type="fillPath",x.push(k)}else x.push((function(v,k,w,b,C,E,R){const j=v,$=k;let P=Math.abs(w/2),M=Math.abs(b/2);P+=we(.01*P,R),M+=we(.01*M,R);let z=C,V=E;for(;z<0;)z+=2*Math.PI,V+=2*Math.PI;V-z>2*Math.PI&&(z=0,V=2*Math.PI);const U=(V-z)/R.curveStepCount,H=[];for(let Z=z;Z<=V;Z+=U)H.push([j+P*Math.cos(Z),$+M*Math.sin(Z)]);return H.push([j+P*Math.cos(V),$+M*Math.sin(V)]),H.push([j,$]),ro([H],R)})(n,i,s,l,c,u,g));return g.stroke!==jt&&x.push(S),this._d("arc",x,g)}curve(n,i){const s=this._o(i),l=[],c=Pp(n,s);if(s.fill&&s.fill!==jt)if(s.fillStyle==="solid"){const u=Pp(n,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));l.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else{const u=[],h=n;if(h.length){const p=typeof h[0][0]=="number"?[h]:h;for(const g of p)g.length<3?u.push(...g):g.length===3?u.push(...ic(Lp([g[0],g[0],g[1],g[2]]),10,(1+s.roughness)/2)):u.push(...ic(Lp(g),10,(1+s.roughness)/2))}u.length&&l.push(ro([u],s))}return s.stroke!==jt&&l.push(c),this._d("curve",l,s)}polygon(n,i){const s=this._o(i),l=[],c=Ts(n,!0,s);return s.fill&&(s.fillStyle==="solid"?l.push(oc([n],s)):l.push(ro([n],s))),s.stroke!==jt&&l.push(c),this._d("polygon",l,s)}path(n,i){const s=this._o(i),l=[];if(!n)return this._d("path",l,s);n=(n||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const c=s.fill&&s.fill!=="transparent"&&s.fill!==jt,u=s.stroke!==jt,h=!!(s.simplification&&s.simplification<1),p=(function(x,S,v){const k=tm(em(ou(x))),w=[];let b=[],C=[0,0],E=[];const R=()=>{E.length>=4&&b.push(...ic(E,S)),E=[]},j=()=>{R(),b.length&&(w.push(b),b=[])};for(const{key:P,data:M}of k)switch(P){case"M":j(),C=[M[0],M[1]],b.push(C);break;case"L":R(),b.push([M[0],M[1]]);break;case"C":if(!E.length){const z=b.length?b[b.length-1]:C;E.push([z[0],z[1]])}E.push([M[0],M[1]]),E.push([M[2],M[3]]),E.push([M[4],M[5]]);break;case"Z":R(),b.push([C[0],C[1]])}if(j(),!v)return w;const $=[];for(const P of w){const M=vw(P,v);M.length&&$.push(M)}return $})(n,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),g=Ip(n,s);if(c)if(s.fillStyle==="solid")if(p.length===1){const x=Ip(n,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));l.push({type:"fillPath",ops:this._mergedShape(x.ops)})}else l.push(oc(p,s));else l.push(ro(p,s));return u&&(h?p.forEach((x=>{l.push(Ts(x,!1,s))})):l.push(g)),this._d("path",l,s)}opsToPath(n,i){let s="";for(const l of n.ops){const c=typeof i=="number"&&i>=0?l.data.map((u=>+u.toFixed(i))):l.data;switch(l.op){case"move":s+=`M${c[0]} ${c[1]} `;break;case"bcurveTo":s+=`C${c[0]} ${c[1]}, ${c[2]} ${c[3]}, ${c[4]} ${c[5]} `;break;case"lineTo":s+=`L${c[0]} ${c[1]} `}}return s.trim()}toPaths(n){const i=n.sets||[],s=n.options||this.defaultOptions,l=[];for(const c of i){let u=null;switch(c.type){case"path":u={d:this.opsToPath(c),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:jt};break;case"fillPath":u={d:this.opsToPath(c),stroke:jt,strokeWidth:0,fill:s.fill||jt};break;case"fillSketch":u=this.fillSketch(c,s)}u&&l.push(u)}return l}fillSketch(n,i){let s=i.fillWeight;return s<0&&(s=i.strokeWidth/2),{d:this.opsToPath(n),stroke:i.fill||jt,strokeWidth:s,fill:jt}}_mergedShape(n){return n.filter(((i,s)=>s===0||i.op!=="move"))}}class xw{constructor(n,i){this.canvas=n,this.ctx=this.canvas.getContext("2d"),this.gen=new Vs(i)}draw(n){const i=n.sets||[],s=n.options||this.getDefaultOptions(),l=this.ctx,c=n.options.fixedDecimalPlaceDigits;for(const u of i)switch(u.type){case"path":l.save(),l.strokeStyle=s.stroke==="none"?"transparent":s.stroke,l.lineWidth=s.strokeWidth,s.strokeLineDash&&l.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(l.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(l,u,c),l.restore();break;case"fillPath":{l.save(),l.fillStyle=s.fill||"";const h=n.shape==="curve"||n.shape==="polygon"||n.shape==="path"?"evenodd":"nonzero";this._drawToContext(l,u,c,h),l.restore();break}case"fillSketch":this.fillSketch(l,u,s)}}fillSketch(n,i,s){let l=s.fillWeight;l<0&&(l=s.strokeWidth/2),n.save(),s.fillLineDash&&n.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(n.lineDashOffset=s.fillLineDashOffset),n.strokeStyle=s.fill||"",n.lineWidth=l,this._drawToContext(n,i,s.fixedDecimalPlaceDigits),n.restore()}_drawToContext(n,i,s,l="nonzero"){n.beginPath();for(const c of i.ops){const u=typeof s=="number"&&s>=0?c.data.map((h=>+h.toFixed(s))):c.data;switch(c.op){case"move":n.moveTo(u[0],u[1]);break;case"bcurveTo":n.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"lineTo":n.lineTo(u[0],u[1])}}i.type==="fillPath"?n.fill(l):n.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(n,i,s,l,c){const u=this.gen.line(n,i,s,l,c);return this.draw(u),u}rectangle(n,i,s,l,c){const u=this.gen.rectangle(n,i,s,l,c);return this.draw(u),u}ellipse(n,i,s,l,c){const u=this.gen.ellipse(n,i,s,l,c);return this.draw(u),u}circle(n,i,s,l){const c=this.gen.circle(n,i,s,l);return this.draw(c),c}linearPath(n,i){const s=this.gen.linearPath(n,i);return this.draw(s),s}polygon(n,i){const s=this.gen.polygon(n,i);return this.draw(s),s}arc(n,i,s,l,c,u,h=!1,p){const g=this.gen.arc(n,i,s,l,c,u,h,p);return this.draw(g),g}curve(n,i){const s=this.gen.curve(n,i);return this.draw(s),s}path(n,i){const s=this.gen.path(n,i);return this.draw(s),s}}const $s="http://www.w3.org/2000/svg";class ww{constructor(n,i){this.svg=n,this.gen=new Vs(i)}draw(n){const i=n.sets||[],s=n.options||this.getDefaultOptions(),l=this.svg.ownerDocument||window.document,c=l.createElementNS($s,"g"),u=n.options.fixedDecimalPlaceDigits;for(const h of i){let p=null;switch(h.type){case"path":p=l.createElementNS($s,"path"),p.setAttribute("d",this.opsToPath(h,u)),p.setAttribute("stroke",s.stroke),p.setAttribute("stroke-width",s.strokeWidth+""),p.setAttribute("fill","none"),s.strokeLineDash&&p.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&p.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":p=l.createElementNS($s,"path"),p.setAttribute("d",this.opsToPath(h,u)),p.setAttribute("stroke","none"),p.setAttribute("stroke-width","0"),p.setAttribute("fill",s.fill||""),n.shape!=="curve"&&n.shape!=="polygon"||p.setAttribute("fill-rule","evenodd");break;case"fillSketch":p=this.fillSketch(l,h,s)}p&&c.appendChild(p)}return c}fillSketch(n,i,s){let l=s.fillWeight;l<0&&(l=s.strokeWidth/2);const c=n.createElementNS($s,"path");return c.setAttribute("d",this.opsToPath(i,s.fixedDecimalPlaceDigits)),c.setAttribute("stroke",s.fill||""),c.setAttribute("stroke-width",l+""),c.setAttribute("fill","none"),s.fillLineDash&&c.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&c.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),c}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(n,i){return this.gen.opsToPath(n,i)}line(n,i,s,l,c){const u=this.gen.line(n,i,s,l,c);return this.draw(u)}rectangle(n,i,s,l,c){const u=this.gen.rectangle(n,i,s,l,c);return this.draw(u)}ellipse(n,i,s,l,c){const u=this.gen.ellipse(n,i,s,l,c);return this.draw(u)}circle(n,i,s,l){const c=this.gen.circle(n,i,s,l);return this.draw(c)}linearPath(n,i){const s=this.gen.linearPath(n,i);return this.draw(s)}polygon(n,i){const s=this.gen.polygon(n,i);return this.draw(s)}arc(n,i,s,l,c,u,h=!1,p){const g=this.gen.arc(n,i,s,l,c,u,h,p);return this.draw(g)}curve(n,i){const s=this.gen.curve(n,i);return this.draw(s)}path(n,i){const s=this.gen.path(n,i);return this.draw(s)}}var kn={canvas:(r,n)=>new xw(r,n),svg:(r,n)=>new ww(r,n),generator:r=>new Vs(r),newSeed:()=>Vs.newSeed()};const Np={roughness:2,strokeWidth:2,fillWeight:.5,hachureGap:4},bw=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=y.useRef(null),l={title:bt({frame:n,fps:i,config:{damping:12}}),subtitle:bt({frame:n-15,fps:i,config:{damping:12}}),boxes:Array(4).fill(0).map((u,h)=>bt({frame:n-(30+h*20),fps:i,config:{damping:12}})),circles:Array(2).fill(0).map((u,h)=>bt({frame:n-(45+h*20),fps:i,config:{damping:12}}))},c=r.style_tokens?.colors||{bg:"#fafafa",ink:"#2d3436",accent:"#4a9c3b",support:"#8bc34a"};return y.useEffect(()=>{if(!s.current)return;const u=kn.canvas(s.current);s.current.getContext("2d").clearRect(0,0,s.current.width,s.current.height),[{x:200,y:200,w:400,h:100},{x:200,y:320,w:400,h:100},{x:200,y:440,w:400,h:100},{x:200,y:560,w:400,h:100}].forEach((x,S)=>{l.boxes[S]>0&&u.rectangle(x.x,x.y,x.w,x.h,{...Np,fill:c.bg,fillStyle:"solid",stroke:c.ink,opacity:l.boxes[S]})}),[{x:120,y:250,r:30},{x:120,y:370,r:30}].forEach((x,S)=>{if(l.circles[S]>0){const v=1+Math.sin(n*.1)*.1;u.circle(x.x,x.y,x.r*2*v,{...Np,fill:c.support+"20",stroke:c.accent,opacity:l.circles[S]})}})},[n,l,c]),d.jsxs("div",{style:{width:"100%",height:"100%",background:c.bg,position:"relative",fontFamily:"Permanent Marker, cursive"},children:[d.jsx("canvas",{ref:s,width:1920,height:1080,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),d.jsxs("div",{style:{position:"relative",padding:"40px 60px",opacity:l.title},children:[d.jsx("h1",{style:{fontSize:"72px",color:c.ink,margin:0,marginBottom:"16px"},children:r.fill.texts.title}),d.jsx("h2",{style:{fontSize:"36px",color:c.accent,margin:0,opacity:l.subtitle},children:r.fill.texts.subtitle})]}),["b1","b2","b3","b4"].map((u,h)=>d.jsx("div",{style:{position:"absolute",left:"220px",top:`${220+h*120}px`,opacity:l.boxes[h],transform:`translateX(${(1-l.boxes[h])*50}px)`},children:d.jsx("p",{style:{fontSize:"32px",color:c.ink,margin:0},children:r.fill.texts[u]})},u))]})},kw=({number:r,size:n=50,backgroundColor:i="#4a9c3b",color:s="#ffffff",style:l={}})=>d.jsx("div",{style:{width:n,height:n,borderRadius:"50%",backgroundColor:i,color:s,display:"flex",alignItems:"center",justifyContent:"center",fontSize:n*.5,fontWeight:700,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",...l},children:r}),sm=({scene:r})=>{const n=Te(),{fps:i}=Me(),s=r.style_tokens?.colors||{bg:"#fafafa",board:"#ffffff",ink:"#2d3436",accent:"#4a9c3b",support:"#8bc34a",highlight:"#ffd93d"},l=r.style_tokens?.fonts||{title:{family:"Cabin Sketch, cursive",size:72,weight:700},subtitle:{family:"Cabin Sketch, cursive",size:42,weight:400},body:{family:"Patrick Hand, cursive",size:32},label:{family:"Patrick Hand, cursive"}},c={title:0,subtitle:15,mainIcon:30,boxes:[60,90,120,150],connectors:[85,115,145],icons:[75,105,135,165],highlights:[240,300,360,420],conclusion:480,conclusionScale:510},u=bt({frame:n-c.title,fps:i,config:{damping:15,mass:1,stiffness:100}}),h=bt({frame:n-c.subtitle,fps:i,config:{damping:15,mass:1,stiffness:100}}),p=bt({frame:n-c.mainIcon,fps:i,config:{damping:12,mass:1,stiffness:120}}),g=c.boxes.map(C=>bt({frame:n-C,fps:i,config:{damping:12,mass:1,stiffness:120}})),x=c.icons.map(C=>bt({frame:n-C,fps:i,config:{damping:15,mass:1,stiffness:100}})),S=c.connectors.map(C=>te(n,[C,C+20],[0,1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})),v=c.highlights.map(C=>te(n,[C,C+30,C+60],[0,1,0],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})),k=bt({frame:n-c.conclusion,fps:i,config:{damping:15,mass:1,stiffness:100}}),w=bt({frame:n-c.conclusionScale,fps:i,config:{damping:10,mass:1,stiffness:150}}),b=p>0?1+Math.sin(n*.05)*.05:1;return d.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:s.bg,position:"relative",fontFamily:l.body.family,overflow:"hidden"},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"60px 80px"},children:[u>0&&d.jsx("div",{style:{textAlign:"center",marginBottom:20,opacity:u,transform:`translateY(${(1-u)*-20}px)`},children:d.jsx("h1",{style:{fontFamily:l.title.family,fontSize:l.title.size,fontWeight:l.title.weight,color:s.ink,margin:0,textShadow:"2px 2px 4px rgba(0,0,0,0.1)"},children:r.fill.texts.title})}),h>0&&d.jsx("div",{style:{textAlign:"center",marginBottom:60,opacity:h,transform:`translateY(${(1-h)*-20}px)`},children:d.jsx("h2",{style:{fontFamily:l.subtitle.family,fontSize:l.subtitle.size,fontWeight:l.subtitle.weight,color:s.accent,margin:0},children:r.fill.texts.subtitle})}),p>0&&d.jsx("div",{style:{position:"absolute",top:240,left:"50%",transform:`translateX(-50%) scale(${p*b})`,opacity:Math.min(p,1),transition:"transform 0.1s ease-out"},children:d.jsx("div",{style:{width:100,height:100,borderRadius:"50%",backgroundColor:s.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:50,boxShadow:"0 8px 20px rgba(0,0,0,0.2)"},children:"💡"})}),d.jsx("div",{style:{position:"absolute",top:400,left:100,right:100,display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:30},children:["point1","point2","point3","point4"].map((C,E)=>d.jsxs("div",{style:{flex:1,position:"relative"},children:[g[E]>0&&d.jsxs("div",{style:{backgroundColor:s.board,border:`3px solid ${s.ink}`,borderRadius:12,padding:"30px 20px",minHeight:200,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:20,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",opacity:g[E],transform:`translateY(${(1-g[E])*30}px)`,position:"relative"},children:[d.jsx("div",{style:{position:"absolute",top:-25,left:"50%",transform:"translateX(-50%)",zIndex:10},children:d.jsx(kw,{number:E+1,size:50,backgroundColor:s.accent,color:"#ffffff"})}),x[E]>0&&r.fill.images?.[`icon${E+1}`]&&d.jsx("img",{src:r.fill.images[`icon${E+1}`],alt:`Icon ${E+1}`,style:{width:60,height:60,opacity:x[E],transform:`scale(${x[E]})`}}),d.jsx("p",{style:{fontFamily:l.body.family,fontSize:l.body.size,color:s.ink,textAlign:"center",margin:0,lineHeight:1.4,wordWrap:"break-word",maxWidth:"100%"},children:r.fill.texts[C]}),v[E]>0&&d.jsx("div",{style:{position:"absolute",top:-6,left:-6,right:-6,bottom:-6,border:`6px solid ${s.highlight}`,borderRadius:16,pointerEvents:"none",opacity:v[E],boxShadow:`0 0 20px ${s.highlight}`}})]}),E<3&&S[E]>0&&d.jsx("div",{style:{position:"absolute",top:120,right:-40,width:50,height:4,backgroundColor:s.accent,transformOrigin:"left center",transform:`scaleX(${S[E]})`,zIndex:5},children:S[E]>.8&&d.jsx("div",{style:{position:"absolute",right:-8,top:"50%",transform:"translateY(-50%)",width:0,height:0,borderLeft:`12px solid ${s.accent}`,borderTop:"8px solid transparent",borderBottom:"8px solid transparent"}})})]},C))}),k>0&&d.jsx("div",{style:{position:"absolute",bottom:100,left:"50%",transform:`translateX(-50%) scale(${Math.min(w,1)})`,opacity:k},children:d.jsx("div",{style:{backgroundColor:s.support,color:"#ffffff",padding:"25px 60px",borderRadius:50,fontFamily:l.subtitle.family,fontSize:42,fontWeight:600,textAlign:"center",boxShadow:"0 8px 24px rgba(0,0,0,0.2)",border:`4px solid ${s.accent}`},children:r.fill.texts.conclusion||"✨ Key Insight ✨"})}),d.jsx("div",{style:{position:"absolute",bottom:40,right:60,fontSize:16,color:s.ink,opacity:.5,fontFamily:l.label.family},children:r.meta?.title||"TED-style Explainer"})]})})},Sw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.blue,ink:W.colors.text.primary},c=r.fill?.texts||{},u=r.fill?.regions||[],h=s/i,p=36,g=u.length||4,S=h*.7/g*i,v={title:p*.5,region1:p*2,summary:s-p*2,settle:s-p},k=te(n,[0,v.region1,v.summary,v.settle],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),w=Math.sin(n*.008)*2,b=Math.cos(n*.006)*1.5,C=($,P=24)=>{if(n<$)return{opacity:0,clipPath:"inset(0 100% 0 0)",progress:0};if(n>=$+P)return{opacity:1,clipPath:"inset(0 0 0 0)",progress:1};const M=te(n,[$,$+P],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:te(M,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:`inset(0 ${(1-M)*100}% 0 0)`,progress:M}},E=($,P=22)=>{if(n<$)return{opacity:0,scale:0};if(n>=$+P)return{opacity:1,scale:1};const M=te(n,[$,$+P],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:M,scale:M}},R="0 2px 8px rgba(0, 0, 0, 0.06)",j=$=>v.region1+S*$;return d.jsx(Fe,{style:{backgroundColor:l.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${k}) translate(${w}px, ${b}px)`,padding:"60px 90px"},children:[n>=v.title&&c.title&&d.jsxs("div",{style:{position:"absolute",top:60,left:90,right:90},children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("div",{style:C(v.title,28),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:56,fontWeight:700,color:l.ink,lineHeight:1.2,textShadow:R},children:c.title})}),(()=>{const $=C(v.title,28);if($.progress>0&&$.progress<1)return d.jsx("div",{style:{position:"absolute",left:`${$.progress*100}%`,top:"50%",width:20,height:20,borderRadius:"50%",backgroundColor:l.accent,transform:"translateY(-50%)",boxShadow:`0 0 20px ${l.accent}`}})})()]}),n>=v.title+24&&d.jsx("svg",{width:"450",height:"6",viewBox:"0 0 450 6",style:{marginTop:14},children:d.jsx("line",{x1:"0",y1:"3",x2:"450",y2:"3",stroke:l.accent,strokeWidth:"5",strokeLinecap:"round",strokeDasharray:"450",strokeDashoffset:te(n,[v.title+24,v.title+48],[450,0],{easing:re.out(re.ease),extrapolateRight:"clamp"})})})]}),d.jsx("div",{style:{position:"absolute",top:180,left:90,right:90,bottom:160,display:"flex",flexDirection:"column",gap:24,justifyContent:"space-around"},children:u.map(($,P)=>{const M=j(P);return n<M?null:d.jsx("div",{style:{opacity:E(M,24).opacity,transform:`translateX(${(1-E(M,24).scale)*40}px)`},children:d.jsxs("div",{style:{display:"flex",gap:24,alignItems:"center",padding:"20px 28px",backgroundColor:"rgba(255, 255, 255, 0.95)",border:`4px solid ${$.color||l.accent}`,borderRadius:10,boxShadow:R},children:[d.jsx("div",{style:{flexShrink:0,width:70,height:70,borderRadius:"50%",backgroundColor:$.color||l.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:40,transform:`scale(${E(M+10,14).scale})`,opacity:E(M+10,14).opacity,boxShadow:`0 4px 16px ${$.color||l.accent}60`},children:$.icon||"📍"}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{position:"relative",marginBottom:8},children:d.jsx("div",{style:C(M+14,20),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:32,fontWeight:700,color:$.color||l.accent,lineHeight:1.2},children:$.name})})}),d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:C(M+20,26),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:24,color:l.ink,lineHeight:1.5},children:$.description})})}),$.annotation&&n>=M+40&&d.jsx("div",{style:{marginTop:10,opacity:E(M+40,16).opacity},children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:18,fontStyle:"italic",color:`${l.ink}90`,backgroundColor:`${$.color||l.accent}20`,padding:"4px 12px",borderRadius:4},children:$.annotation})})]})]})},P)})}),n>=j(0)+45&&u.length>1&&d.jsx("svg",{style:{position:"absolute",inset:0,pointerEvents:"none"},viewBox:"0 0 1920 1080",children:u.slice(0,-1).map(($,P)=>{const M=j(P)+45;if(n<M)return null;const z=220+P*180,V=z+180;return d.jsx("path",{d:`M 160 ${z} L 160 ${V}`,stroke:l.accent,strokeWidth:"3",strokeDasharray:"180",strokeDashoffset:te(n,[M,M+24],[180,0],{easing:re.out(re.ease),extrapolateRight:"clamp"}),opacity:"0.25",fill:"none"},P)})}),n>=v.summary&&c.summary&&d.jsx("div",{style:{position:"absolute",bottom:60,left:"50%",transform:"translateX(-50%)",maxWidth:"75%"},children:d.jsx("div",{style:{opacity:E(v.summary,28).opacity,transform:`scale(${E(v.summary,28).scale})`},children:d.jsx("div",{style:{padding:"24px 45px",backgroundColor:l.accent,borderRadius:50,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.18)"},children:d.jsx("div",{style:C(v.summary+12,26),children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:700,color:"#FFFFFF",lineHeight:1.3,textAlign:"center",display:"block"},children:c.summary})})})})}),n>=v.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:l.bg,opacity:te(n,[v.settle,v.settle+30],[0,.25],{extrapolateRight:"clamp"})}})]})})},Cw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.green,correct:W.colors.markers.green,incorrect:"#999",ink:W.colors.text.primary},c=r.fill?.texts||{},u=r.fill?.quiz||{},h=36,p={prelude:0,context:h*.5,question:h*2,optionA:h*3.5,optionB:h*4.2,optionC:h*4.9,optionD:h*5.6,pause:h*6.8,reveal:h*8,explanation:h*9.5,settle:s-h},g=te(n,[0,p.question,p.reveal,p.settle],[1,1.02,1.04,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),x=Math.sin(n*.008)*2,S=Math.cos(n*.006)*1.5,v=(E,R=60)=>{if(n<E||n>E+R)return 1;const j=(n-E)/R;return 1+Math.sin(j*Math.PI*3)*.05},k=(E,R=22)=>{if(n<E)return{opacity:0,clipPath:"inset(0 100% 0 0)",progress:0};if(n>=E+R)return{opacity:1,clipPath:"inset(0 0 0 0)",progress:1};const j=te(n,[E,E+R],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:te(j,[0,.2],[0,1],{extrapolateRight:"clamp"}),clipPath:`inset(0 ${(1-j)*100}% 0 0)`,progress:j}},w=(E,R=20)=>{if(n<E)return{opacity:0,scale:0};if(n>=E+R)return{opacity:1,scale:1};const j=te(n,[E,E+R],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:j,scale:j}},b="0 2px 8px rgba(0, 0, 0, 0.06)",C=u.correctAnswer||"B";return d.jsx(Fe,{style:{backgroundColor:l.bg,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")`},children:d.jsxs(Fe,{style:{transform:`scale(${g}) translate(${x}px, ${S}px)`,padding:"70px 100px"},children:[n>=p.context&&c.context&&d.jsx("div",{style:{position:"absolute",top:60,left:100,right:100},children:d.jsx("div",{style:{opacity:w(p.context,22).opacity,transform:`scale(${w(p.context,22).scale})`},children:d.jsx("div",{style:{padding:"18px 32px",backgroundColor:`${l.accent}15`,border:`3px solid ${l.accent}60`,borderRadius:8,boxShadow:b},children:d.jsx("div",{style:k(p.context+10,24),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:26,color:l.ink,lineHeight:1.5},children:c.context})})})})}),n>=p.question&&u.question&&d.jsx("div",{style:{position:"absolute",top:c.context?180:140,left:100,right:100},children:d.jsx("div",{style:{opacity:w(p.question,24).opacity,transform:`scale(${w(p.question,24).scale})`},children:d.jsx("div",{style:{padding:"28px 40px",backgroundColor:"rgba(255, 255, 255, 0.98)",border:`5px solid ${l.accent}`,borderRadius:12,boxShadow:"0 6px 20px rgba(0, 0, 0, 0.12)"},children:d.jsx("div",{style:{position:"relative"},children:d.jsx("div",{style:k(p.question+10,28),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.secondary,fontSize:36,fontWeight:700,color:l.accent,lineHeight:1.4},children:u.question})})})})})}),d.jsx("div",{style:{position:"absolute",top:c.context?380:320,left:100,right:100,display:"grid",gridTemplateColumns:"1fr 1fr",gap:24},children:["A","B","C","D"].map((E,R)=>{const j=p[`option${E}`],$=u[`option${E}`];if(!$||n<j)return null;const P=E===C,M=n>=p.reveal,z=M&&P,V=M&&!P;return d.jsx("div",{style:{opacity:w(j,18).opacity,transform:`translateY(${(1-w(j,18).scale)*20}px) scale(${z?v(p.reveal,40):1})`},children:d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,padding:"20px 28px",backgroundColor:z?`${l.correct}25`:"rgba(255, 255, 255, 0.95)",border:`4px solid ${z?l.correct:V?l.incorrect:l.accent}`,borderRadius:50,boxShadow:z?`0 6px 24px ${l.correct}40`:b,opacity:V?.4:1,transition:"all 0.3s ease"},children:[d.jsx("div",{style:{flexShrink:0,width:48,height:48,borderRadius:"50%",backgroundColor:z?l.correct:V?l.incorrect:l.accent,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:26,fontWeight:700,fontFamily:W.fonts.marker.secondary},children:E}),d.jsx("div",{style:{flex:1,position:"relative"},children:d.jsx("div",{style:k(j+8,20),children:d.jsx("span",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:24,color:l.ink,lineHeight:1.4},children:$})})}),z&&d.jsx("div",{style:{fontSize:36,opacity:w(p.reveal+15,18).opacity,transform:`scale(${w(p.reveal+15,18).scale})`},children:"✓"})]})},E)})}),n>=p.pause&&n<p.reveal&&d.jsx("div",{style:{position:"absolute",top:c.context?380:320,left:100,right:100,transform:`scale(${v(p.pause)})`,pointerEvents:"none"}}),n>=p.explanation&&c.explanation&&d.jsx("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",maxWidth:"80%"},children:d.jsx("div",{style:{opacity:w(p.explanation,26).opacity,transform:`scale(${w(p.explanation,26).scale})`},children:d.jsx("div",{style:{padding:"24px 42px",backgroundColor:l.accent,borderRadius:12,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.18)",border:`4px solid ${l.bg}`},children:d.jsx("div",{style:k(p.explanation+10,26),children:d.jsx("span",{style:{fontFamily:W.fonts.structure.primary,fontSize:26,fontWeight:600,color:"#FFFFFF",lineHeight:1.4,textAlign:"center",display:"block"},children:c.explanation})})})})}),n>=p.reveal&&n<p.reveal+30&&d.jsx(d.Fragment,{children:[...Array(8)].map((E,R)=>{const j=R/8*Math.PI*2,$=te(n,[p.reveal,p.reveal+30],[0,150],{easing:re.out(re.quad),extrapolateRight:"clamp"}),P=960+Math.cos(j)*$,M=540+Math.sin(j)*$;return d.jsx("div",{style:{position:"absolute",left:P,top:M,width:12,height:12,borderRadius:"50%",backgroundColor:l.correct,opacity:te(n,[p.reveal,p.reveal+30],[1,0],{extrapolateRight:"clamp"})}},R)})}),n>=p.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:l.bg,opacity:te(n,[p.settle,p.settle+30],[0,.25],{extrapolateRight:"clamp"})}})]})})},Ew=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),[c,u]=y.useState([]),h=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.red,accent2:W.colors.markers.orange,ink:W.colors.text.primary},p=r.fill?.texts||{},g=36,x={prelude:0,questionPart1:g*.8,underline1:g*2,questionPart2:g*2.4,underline2:g*3.6,accentCircle:g*4.2,sparkBurst:g*5,subtitle:g*6,settle:g*7.5},S=te(n,[0,x.questionPart1,x.sparkBurst,x.settle],[1.05,1,1.03,1],{easing:re.bezier(.4,0,.2,1),extrapolateLeft:"clamp",extrapolateRight:"clamp"}),v={x:Math.sin(n*.006)*4,y:Math.cos(n*.005)*3};y.useEffect(()=>{if(!l.current)return;const w=l.current,b=kn.svg(w);for(;w.firstChild;)w.removeChild(w.firstChild);if(n>=x.underline1){const C=Math.min((n-x.underline1)/28,1),E=b.line(220,310,220+700*C,315,{stroke:h.accent,strokeWidth:6,roughness:.8,bowing:2});w.appendChild(E)}if(n>=x.underline2){const C=Math.min((n-x.underline2)/28,1),E=b.line(280,430,280+820*C,438,{stroke:h.accent,strokeWidth:7,roughness:1,bowing:2});w.appendChild(E)}if(n>=x.accentCircle){const C=Math.min((n-x.accentCircle)/35,1),E=b.circle(960,540,360,{stroke:`${h.accent}60`,strokeWidth:5,roughness:.6,bowing:1,fill:"none"});E.querySelectorAll("path").forEach(j=>{const $=j.getTotalLength();j.style.strokeDasharray=$,j.style.strokeDashoffset=$*(1-C)}),w.appendChild(E)}n>=x.sparkBurst&&[{x:340,y:220,size:35,rotation:15},{x:1580,y:260,size:40,rotation:-20},{x:480,y:820,size:38,rotation:25},{x:1440,y:850,size:42,rotation:-15}].forEach((E,R)=>{const j=R*6;if(n<x.sparkBurst+j)return;const $=Math.min((n-x.sparkBurst-j)/22,1),P=$,M=5,z=E.size,V=E.size*.4;let U="";for(let Z=0;Z<M*2;Z++){const ee=Z%2===0?z:V,Y=Z*Math.PI/M-Math.PI/2+E.rotation*Math.PI/180,X=E.x+ee*Math.cos(Y)*P,ne=E.y+ee*Math.sin(Y)*P;U+=(Z===0?"M":" L")+` ${X} ${ne}`}U+=" Z";const H=b.path(U,{stroke:h.accent,strokeWidth:3,roughness:.8,fill:`${h.accent2}40`,fillStyle:"hachure",hachureGap:8,hachureAngle:E.rotation});H.style.opacity=$,w.appendChild(H)}),n>=x.subtitle&&[{x1:180,y1:520,x2:220,y2:540},{x1:1700,y1:480,x2:1740,y2:460}].forEach((E,R)=>{const j=Math.min((n-x.subtitle-R*10)/20,1);if(j<=0)return;const $=b.line(E.x1,E.y1,E.x1+(E.x2-E.x1)*j,E.y1+(E.y2-E.y1)*j,{stroke:`${h.accent}50`,strokeWidth:4,roughness:1,bowing:2});w.appendChild($)})},[n,x,h,p]);const k=(w,b=25,C=0)=>{if(n<w)return{opacity:0,transform:`translateY(-50px) rotate(${C*3}deg) scale(0.85)`};if(n>=w+b)return{opacity:1,transform:`translateY(0) rotate(${C}deg) scale(1)`};const E=te(n,[w,w+b],[0,1],{easing:re.out(re.back(1.7)),extrapolateRight:"clamp"});return{opacity:E,transform:`
        translateY(${-50*(1-E)}px) 
        rotate(${C*(3-E*2)}deg) 
        scale(${.85+E*.15})
      `}};return d.jsxs(Fe,{style:{backgroundColor:h.bg,backgroundImage:`
          radial-gradient(circle at 25% 35%, ${h.accent}06 0%, transparent 60%),
          radial-gradient(circle at 75% 70%, ${h.accent2}05 0%, transparent 55%),
          url("data:image/svg+xml,%3Csvg width='120' height='120' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulance baseFrequency='0.65' numOctaves='4'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23noise)' opacity='0.025'/%3E%3C/svg%3E")
        `},children:[d.jsx("style",{children:`
          @keyframes pen-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
          }
        `}),d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${S}) translate(${v.x}px, ${v.y}px)`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${S}) translate(${v.x}px, ${v.y}px)`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"140px 200px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[n>=x.questionPart1&&d.jsxs("div",{style:{position:"relative",marginBottom:40,...k(x.questionPart1,28,-2)},children:[d.jsx("h1",{style:{fontFamily:W.fonts.marker.secondary,fontSize:84,fontWeight:700,color:h.ink,lineHeight:1.1,margin:0,letterSpacing:"-1px",textShadow:`4px 4px 0px ${h.accent}15`},children:p.questionPart1||"What if geography"}),n>=x.questionPart1&&n<x.questionPart1+28&&d.jsx("div",{style:{position:"absolute",right:-30,top:"50%",width:22,height:22,borderRadius:"50%",backgroundColor:h.accent,transform:"translateY(-50%)",boxShadow:`0 0 25px ${h.accent}, 0 0 40px ${h.accent}60`,animation:"pen-pulse 0.3s ease-in-out infinite"}})]}),n>=x.questionPart2&&d.jsxs("div",{style:{position:"relative",marginLeft:60,...k(x.questionPart2,28,1.5)},children:[d.jsx("h1",{style:{fontFamily:W.fonts.marker.secondary,fontSize:92,fontWeight:700,color:h.accent,lineHeight:1.1,margin:0,letterSpacing:"-2px",textShadow:`5px 5px 0px ${h.ink}10`},children:p.questionPart2||"was measured in mindsets?"}),n>=x.questionPart2&&n<x.questionPart2+28&&d.jsx("div",{style:{position:"absolute",right:-30,top:"50%",width:22,height:22,borderRadius:"50%",backgroundColor:h.accent,transform:"translateY(-50%)",boxShadow:`0 0 25px ${h.accent}`,animation:"pen-pulse 0.3s ease-in-out infinite"}})]}),n>=x.prelude&&d.jsx(d.Fragment,{children:[...Array(16)].map((w,b)=>{const C=b*137.5,E=150+b%5*180,R=180+b%4*440,j=(n+C)*.015,$=Math.sin(j)*20,P=Math.cos(j*.8)*15,M=Math.sin(j*1.2)*10,z=8+b%4*3,V=te(n,[x.prelude+b*4,x.prelude+b*4+40],[0,.35],{extrapolateRight:"clamp"});return d.jsx("div",{style:{position:"absolute",left:R+P,top:E+$,width:z,height:z,borderRadius:b%3===0?"50%":"20%",backgroundColor:b%2===0?h.accent:h.accent2,opacity:V,transform:`rotate(${M}deg)`}},b)})}),n>=x.subtitle&&p.subtitle&&d.jsx("div",{style:{position:"absolute",bottom:120,left:200,opacity:te(n,[x.subtitle,x.subtitle+30],[0,1],{extrapolateRight:"clamp"}),transform:`translateY(${te(n,[x.subtitle,x.subtitle+30],[20,0],{easing:re.out(re.cubic),extrapolateRight:"clamp"})}px)`},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:36,color:`${h.ink}70`,margin:0,fontStyle:"italic",transform:"rotate(-1deg)"},children:p.subtitle})}),n>=x.underline2+30&&n<x.accentCircle&&d.jsx("div",{style:{position:"absolute",inset:0,transform:`scale(${1+Math.sin((n-x.underline2)*.08)*.015})`,pointerEvents:"none"}})]})}),n>=x.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:h.bg,opacity:te(n,[x.settle,x.settle+35],[0,.2],{extrapolateRight:"clamp"})}})]})},_w=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:"#1A1F2E",fog:"#4A5568",accent:"#8E44AD",accent2:"#6C7A89",ink:"#E8F4FD",spotlight:"#F39C12"},u=r.fill?.texts||{},h=42,p={prelude:0,fogIn:h*.5,spotlight:h*1.5,whisperText:h*2.5,questionReveal:h*4,wisps:h*5.5,accentGlow:h*7,settle:h*9},g=te(n,[0,p.spotlight,p.settle],[1.08,1,1.02],{easing:re.bezier(.3,0,.2,1),extrapolateRight:"clamp"}),x=te(n,[0,p.fogIn,p.spotlight,p.settle],[.9,.7,.5,.6],{extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const v=l.current,k=kn.svg(v);for(;v.firstChild;)v.removeChild(v.firstChild);if(n>=p.fogIn&&[{x:300,y:200,w:400,h:180,delay:0,opacity:.15},{x:1400,y:300,w:350,h:160,delay:20,opacity:.12},{x:200,y:700,w:450,h:200,delay:15,opacity:.18},{x:1300,y:750,w:380,h:170,delay:25,opacity:.14}].forEach(b=>{if(n<p.fogIn+b.delay)return;const C=Math.min((n-p.fogIn-b.delay)/80,1),E=Math.sin((n-b.delay)*.008)*30,R=k.ellipse(b.x+E,b.y+Math.cos((n-b.delay)*.006)*20,b.w*C,b.h*C,{stroke:"none",fill:`${c.fog}`,fillStyle:"solid",roughness:.7,bowing:1});R.style.opacity=b.opacity*C,R.style.filter="blur(40px)",v.appendChild(R)}),n>=p.spotlight){const w=Math.min((n-p.spotlight)/60,1),b=k.circle(960,540,650*w,{stroke:`${c.spotlight}40`,strokeWidth:4,roughness:.6,bowing:1,fill:"none"});b.style.filter="blur(8px)",b.style.opacity=.4*w,v.appendChild(b)}n>=p.wisps&&[{x1:400,y1:350,x2:550,y2:320,delay:0},{x1:1400,y1:600,x2:1520,y2:650,delay:10},{x1:600,y1:750,x2:480,y2:800,delay:15}].forEach((b,C)=>{if(n<p.wisps+b.delay)return;const E=Math.min((n-p.wisps-b.delay)/35,1),R=(n+C*50)*.01,j=Math.sin(R)*15,$=k.line(b.x1+j,b.y1,b.x1+(b.x2-b.x1)*E+j,b.y1+(b.y2-b.y1)*E,{stroke:`${c.accent}60`,strokeWidth:3,roughness:.8,bowing:2});$.style.opacity=.5*E,v.appendChild($)}),n>=p.accentGlow&&[{x:480,y:540,r:120,delay:0},{x:1440,y:540,r:100,delay:12}].forEach((b,C)=>{if(n<p.accentGlow+b.delay)return;const E=Math.min((n-p.accentGlow-b.delay)/50,1),R=1+Math.sin((n-b.delay)*.06)*.08,j=k.circle(b.x,b.y,b.r*R*E,{stroke:"none",fill:`${c.accent}`,fillStyle:"solid",roughness:.6,bowing:1});j.style.opacity=.15*E,j.style.filter="blur(50px)",v.appendChild(j)})},[n,p,c]);const S=(v,k=60)=>{if(n<v)return{opacity:0,transform:"translateY(30px) scale(0.95)"};if(n>=v+k)return{opacity:1,transform:"translateY(0) scale(1)"};const w=te(n,[v,v+k],[0,1],{easing:re.out(re.cubic),extrapolateRight:"clamp"});return{opacity:w*.95,transform:`translateY(${30*(1-w)}px) scale(${.95+w*.05})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg,backgroundImage:`
          radial-gradient(circle at 50% 50%, ${c.spotlight}08 0%, transparent 50%)
        `},children:[d.jsx("div",{style:{position:"absolute",inset:0,background:`radial-gradient(ellipse at center, transparent 30%, ${c.bg} 100%)`,opacity:x,pointerEvents:"none"}}),d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${g})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${g})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"140px 200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[n>=p.whisperText&&u.whisper&&d.jsx("div",{style:{marginBottom:60,...S(p.whisperText,70)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:42,color:`${c.ink}50`,margin:0,fontStyle:"italic",textAlign:"center",letterSpacing:"2px"},children:u.whisper})}),n>=p.questionReveal&&d.jsxs("div",{style:{position:"relative",textAlign:"center",...S(p.questionReveal,80)},children:[d.jsx("h1",{style:{fontFamily:W.fonts.structure.primary,fontSize:78,fontWeight:600,color:c.ink,lineHeight:1.2,margin:0,letterSpacing:"1px",textShadow:`0 0 40px ${c.accent}40, 0 0 80px ${c.accent}20`},children:u.question||"What lies beneath the surface?"}),n>=p.questionReveal+40&&d.jsx("div",{style:{marginTop:30,opacity:te(n,[p.questionReveal+40,p.questionReveal+80],[0,.6],{extrapolateRight:"clamp"})},children:d.jsx("div",{style:{width:380,height:4,margin:"0 auto",background:`linear-gradient(90deg, transparent, ${c.accent}, transparent)`,borderRadius:2,filter:"blur(3px)"}})})]}),n>=p.prelude&&d.jsx(d.Fragment,{children:[...Array(24)].map((v,k)=>{const w=k*151,b=100+k%6*160,C=150+k%4*520,E=(n+w)*.008,R=Math.sin(E)*40,j=Math.cos(E*.6)*30,$=6+k%3*4,P=te(n,[p.prelude+k*6,p.prelude+k*6+60],[0,.25],{extrapolateRight:"clamp"});return d.jsx("div",{style:{position:"absolute",left:C+j,top:b+R,width:$,height:$,borderRadius:"50%",backgroundColor:k%3===0?c.spotlight:c.accent,opacity:P,filter:"blur(2px)",boxShadow:`0 0 20px ${k%3===0?c.spotlight:c.accent}60`}},k)})}),n>=p.accentGlow+30&&u.hint&&d.jsx("div",{style:{position:"absolute",bottom:120,opacity:te(n,[p.accentGlow+30,p.accentGlow+70],[0,.7],{extrapolateRight:"clamp"})},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:32,color:`${c.ink}60`,margin:0,fontStyle:"italic",textAlign:"center"},children:u.hint})}),n>=p.spotlight&&n<p.settle&&d.jsx("div",{style:{position:"absolute",inset:0,transform:`scale(${1+Math.sin(n*.04)*.008})`,pointerEvents:"none"}})]})}),n>=p.settle&&d.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:c.bg,opacity:te(n,[p.settle,p.settle+50],[0,.15],{extrapolateRight:"clamp"})}})]})},$w=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.blue,accent2:W.colors.markers.green,accent3:W.colors.markers.purple,ink:W.colors.text.primary},u=r.fill?.concept||{},h=u.parts||[],p=36,g={prelude:0,title:p*.8,centerConcept:p*2,parts:p*3.5,connections:p*(3.5+h.length*.8),settle:p*(5+h.length)},x=te(n,[0,g.centerConcept,g.settle],[1.05,1,1.02],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const v=l.current,k=kn.svg(v);for(;v.firstChild;)v.removeChild(v.firstChild);if(n>=g.centerConcept){const w=Math.min((n-g.centerConcept)/35,1),b=k.rectangle(760,420,400,140,{stroke:c.accent,strokeWidth:5,roughness:.9,bowing:2,fill:`${c.accent}10`,fillStyle:"hachure",hachureGap:10});b.querySelectorAll("path").forEach(E=>{const R=E.getTotalLength();E.style.strokeDasharray=R,E.style.strokeDashoffset=R*(1-w)}),v.appendChild(b)}if(n>=g.parts){const w=h.length===3?[{x:260,y:720},{x:760,y:720},{x:1260,y:720}]:h.length===4?[{x:160,y:720},{x:560,y:720},{x:960,y:720},{x:1360,y:720}]:[{x:460,y:720},{x:1060,y:720}];h.forEach((b,C)=>{const E=g.parts+C*p*.8;if(n<E)return;const R=Math.min((n-E)/30,1),j=w[C]||w[0],$=k.rectangle(j.x,j.y,380,180,{stroke:C===0?c.accent2:C===1?c.accent3:c.accent,strokeWidth:4,roughness:.8,bowing:2,fill:`${C===0?c.accent2:C===1?c.accent3:c.accent}08`,fillStyle:"hachure",hachureGap:12});$.querySelectorAll("path").forEach(M=>{const z=M.getTotalLength();M.style.strokeDasharray=z,M.style.strokeDashoffset=z*(1-R)}),v.appendChild($)})}n>=g.connections&&h.forEach((C,E)=>{const R=g.connections+E*10;if(n<R)return;const j=Math.min((n-R)/25,1),$=h.length===3?[{x:450,y:720},{x:950,y:720},{x:1450,y:720}]:h.length===4?[{x:350,y:720},{x:750,y:720},{x:1150,y:720},{x:1550,y:720}]:[{x:650,y:720},{x:1250,y:720}],P=$[E]||$[0],z=`M 960 560 Q 960 ${560+(P.y-560)*.5} ${960+(P.x-960)*j} ${560+(P.y-560)*j}`,V=k.path(z,{stroke:`${c.ink}40`,strokeWidth:3,roughness:.7,bowing:2});v.appendChild(V)})},[n,g,c,h]);const S=(v,k=30)=>{if(n<v)return{opacity:0,transform:"translateY(-20px) scale(0.92)"};if(n>=v+k)return{opacity:1,transform:"translateY(0) scale(1)"};const w=te(n,[v,v+k],[0,1],{easing:re.out(re.back(1.5)),extrapolateRight:"clamp"});return{opacity:w,transform:`translateY(${-20*(1-w)}px) scale(${.92+w*.08})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg,backgroundImage:`
          radial-gradient(circle at 30% 40%, ${c.accent}04 0%, transparent 60%),
          url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulance baseFrequency='0.7' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E")
        `},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${x})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${x})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"80px 120px"},children:[n>=g.title&&d.jsx("div",{style:{...S(g.title,28)},children:d.jsx("h2",{style:{fontFamily:W.fonts.marker.secondary,fontSize:52,fontWeight:700,color:c.ink,margin:0,textAlign:"center"},children:u.title||"Breaking It Down"})}),n>=g.centerConcept+10&&d.jsx("div",{style:{position:"absolute",top:440,left:"50%",transform:"translateX(-50%)",width:380,textAlign:"center",...S(g.centerConcept+10,35)},children:d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:46,fontWeight:600,color:c.accent,margin:0,lineHeight:1.3},children:u.concept||"Main Concept"})}),h.map((v,k)=>{const w=g.parts+k*p*.8+10;if(n<w)return null;const b=h.length===3?[{x:270,y:740},{x:770,y:740},{x:1270,y:740}]:h.length===4?[{x:170,y:740},{x:570,y:740},{x:970,y:740},{x:1370,y:740}]:[{x:470,y:740},{x:1070,y:740}],C=b[k]||b[0],E=k===0?c.accent2:k===1?c.accent3:c.accent;return d.jsx("div",{style:{position:"absolute",top:C.y,left:C.x,width:360,padding:"20px",...S(w,35)},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[d.jsx("h4",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:700,color:E,margin:0},children:v.label||`Part ${k+1}`}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:20,color:c.ink,margin:0,lineHeight:1.4},children:v.description||"..."})]})},k)})]})})]})},jw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.orange,accent2:W.colors.markers.blue,ink:W.colors.text.primary},u=r.fill?.analogy||{},h=36,p={prelude:0,title:h*.8,familiar:h*2,newConcept:h*3.5,bridge:h*5,explanation:h*6.5,settle:h*8},g=te(n,[0,p.familiar,p.settle],[1.04,1,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const S=l.current,v=kn.svg(S);for(;S.firstChild;)S.removeChild(S.firstChild);if(n>=p.familiar){const k=Math.min((n-p.familiar)/32,1),w=v.rectangle(180,350,680,420,{stroke:c.accent,strokeWidth:5,roughness:.8,bowing:2,fill:`${c.accent}08`,fillStyle:"hachure",hachureGap:12});w.querySelectorAll("path").forEach(C=>{const E=C.getTotalLength();C.style.strokeDasharray=E,C.style.strokeDashoffset=E*(1-k)}),S.appendChild(w)}if(n>=p.newConcept){const k=Math.min((n-p.newConcept)/32,1),w=v.rectangle(1060,350,680,420,{stroke:c.accent2,strokeWidth:5,roughness:.8,bowing:2,fill:`${c.accent2}08`,fillStyle:"hachure",hachureGap:12});w.querySelectorAll("path").forEach(C=>{const E=C.getTotalLength();C.style.strokeDasharray=E,C.style.strokeDashoffset=E*(1-k)}),S.appendChild(w)}if(n>=p.bridge){const k=Math.min((n-p.bridge)/35,1),w=`M 880 560 L ${880+160*k} 560`,b=v.path(w,{stroke:c.ink,strokeWidth:6,roughness:.9,bowing:2});if(S.appendChild(b),k>.7){const C=(k-.7)/.3,E=`M 1040 560 L ${1040-25*C} ${560-20*C} M 1040 560 L ${1040-25*C} ${560+20*C}`,R=v.path(E,{stroke:c.ink,strokeWidth:6,roughness:.8,bowing:1});S.appendChild(R)}}if(n>=p.explanation){const k=Math.min((n-p.explanation)/28,1),w=v.path(`M 200 ${320+15*(1-k)} Q 190 560 200 ${800-15*(1-k)}`,{stroke:`${c.accent}60`,strokeWidth:4,roughness:.7,bowing:2});S.appendChild(w);const b=v.path(`M 1720 ${320+15*(1-k)} Q 1730 560 1720 ${800-15*(1-k)}`,{stroke:`${c.accent2}60`,strokeWidth:4,roughness:.7,bowing:2});S.appendChild(b)}},[n,p,c]);const x=(S,v=30)=>{if(n<S)return{opacity:0,transform:"translateY(-15px) scale(0.95)"};if(n>=S+v)return{opacity:1,transform:"translateY(0) scale(1)"};const k=te(n,[S,S+v],[0,1],{easing:re.out(re.back(1.4)),extrapolateRight:"clamp"});return{opacity:k,transform:`translateY(${-15*(1-k)}px) scale(${.95+k*.05})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${g})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${g})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"80px 100px"},children:[n>=p.title&&d.jsx("div",{style:{...x(p.title,28),textAlign:"center"},children:d.jsx("h2",{style:{fontFamily:W.fonts.marker.secondary,fontSize:52,fontWeight:700,color:c.ink,margin:0},children:u.title||"Think of it like this..."})}),n>=p.familiar+10&&d.jsxs("div",{style:{position:"absolute",top:400,left:220,width:600,...x(p.familiar+10,35)},children:[d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:38,fontWeight:700,color:c.accent,margin:"0 0 20px 0"},children:u.familiar?.label||"Familiar Thing"}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:24,color:c.ink,margin:0,lineHeight:1.5},children:u.familiar?.description||"Description of familiar concept..."})]}),n>=p.newConcept+10&&d.jsxs("div",{style:{position:"absolute",top:400,left:1100,width:600,...x(p.newConcept+10,35)},children:[d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:38,fontWeight:700,color:c.accent2,margin:"0 0 20px 0"},children:u.newConcept?.label||"New Concept"}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:24,color:c.ink,margin:0,lineHeight:1.5},children:u.newConcept?.description||"Description of new concept..."})]}),n>=p.bridge+20&&d.jsx("div",{style:{position:"absolute",top:500,left:"50%",transform:"translateX(-50%)",...x(p.bridge+20,28)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:32,color:`${c.ink}70`,margin:0,fontStyle:"italic",whiteSpace:"nowrap"},children:u.connection||"is like"})})]})})]})},Rw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.green,wrong:W.colors.markers.red,ink:W.colors.text.primary},u=r.fill?.quiz||{},h=u.options||[],p=u.correctIndex||0,g=30,x={prelude:0,question:g*.5,options:g*2,reveal:g*(2+h.length*.6),celebrate:g*(3+h.length*.6),settle:g*(4.5+h.length*.6)},S=te(n,[0,x.question,x.celebrate,x.settle],[1.03,1,1.05,1],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const k=l.current,w=kn.svg(k);for(;k.firstChild;)k.removeChild(k.firstChild);if(n>=x.options){const b=h.length===2?[{x:580,y:600},{x:1340,y:600}]:h.length===3?[{x:420,y:600},{x:960,y:600},{x:1500,y:600}]:[{x:340,y:600},{x:780,y:600},{x:1140,y:600},{x:1580,y:600}];h.forEach((C,E)=>{const R=x.options+E*g*.6;if(n<R)return;const j=Math.min((n-R)/25,1),$=b[E]||b[0],P=E===p,M=n>=x.reveal,z=M?P?c.accent:c.wrong:`${c.ink}40`,V=w.circle($.x,$.y,120*j,{stroke:z,strokeWidth:M&&P?7:5,roughness:.7,bowing:1,fill:M&&P?`${c.accent}15`:"none",fillStyle:"hachure",hachureGap:10});if(k.appendChild(V),M&&P&&n>=x.celebrate){const U=Math.min((n-x.celebrate)/20,1),H=`M ${$.x-30} ${$.y} L ${$.x-10} ${$.y+25*U} L ${$.x+35*U} ${$.y-30}`,Z=w.path(H,{stroke:c.accent,strokeWidth:8,roughness:.9,bowing:2});k.appendChild(Z)}})}if(n>=x.celebrate+10){const b=h.length===2?[{x:580,y:600},{x:1340,y:600}][p]:h.length===3?[{x:420,y:600},{x:960,y:600},{x:1500,y:600}][p]:[{x:340,y:600},{x:780,y:600},{x:1140,y:600},{x:1580,y:600}][p];if(b){const C=Math.min((n-x.celebrate-10)/18,1);for(let E=0;E<6;E++){const R=E/6*Math.PI*2,j=100*C,$=b.x+Math.cos(R)*j,P=b.y+Math.sin(R)*j,M=20,z=`M ${$} ${P-M} L ${$+6} ${P-6} L ${$+M} ${P} L ${$+6} ${P+6} L ${$} ${P+M} L ${$-6} ${P+6} L ${$-M} ${P} L ${$-6} ${P-6} Z`,V=w.path(z,{stroke:c.accent,strokeWidth:2,roughness:.8,fill:`${c.accent}40`,fillStyle:"solid"});V.style.opacity=1-C*.7,k.appendChild(V)}}}},[n,x,c,h,p]);const v=(k,w=25)=>{if(n<k)return{opacity:0,transform:"translateY(-20px) scale(0.9)"};if(n>=k+w)return{opacity:1,transform:"translateY(0) scale(1)"};const b=te(n,[k,k+w],[0,1],{easing:re.out(re.back(1.6)),extrapolateRight:"clamp"});return{opacity:b,transform:`translateY(${-20*(1-b)}px) scale(${.9+b*.1})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${S})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${S})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"100px 150px"},children:[n>=x.question&&d.jsx("div",{style:{...v(x.question,30),textAlign:"center"},children:d.jsx("h2",{style:{fontFamily:W.fonts.marker.secondary,fontSize:56,fontWeight:700,color:c.ink,margin:0,lineHeight:1.3},children:u.question||"Quick check!"})}),h.map((k,w)=>{const b=x.options+w*g*.6+8;if(n<b)return null;const C=h.length===2?[{x:580,y:680},{x:1340,y:680}]:h.length===3?[{x:420,y:680},{x:960,y:680},{x:1500,y:680}]:[{x:340,y:680},{x:780,y:680},{x:1140,y:680},{x:1580,y:680}],E=C[w]||C[0],R=w===p,j=n>=x.reveal;return d.jsx("div",{style:{position:"absolute",top:E.y,left:E.x,transform:"translate(-50%, -50%)",width:280,textAlign:"center",...v(b,28)},children:d.jsx("p",{style:{fontFamily:W.fonts.structure.primary,fontSize:26,fontWeight:j&&R?700:500,color:j&&R?c.accent:c.ink,margin:0,lineHeight:1.4},children:k})},w)})]})})]})},Mw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.purple,path1:W.colors.markers.blue,path2:W.colors.markers.orange,ink:W.colors.text.primary},u=r.fill?.scenario||{},h=u.choices||[],p=36,g={prelude:0,scenario:p*.8,prompt:p*2.5,paths:p*4,choices:p*5,outcomes:p*7,settle:p*9},x=te(n,[0,g.scenario,g.settle],[1.04,1,1.02],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const v=l.current,k=kn.svg(v);for(;v.firstChild;)v.removeChild(v.firstChild);if(n>=g.scenario){const w=Math.min((n-g.scenario)/35,1),b=k.circle(960,380,220*w,{stroke:c.accent,strokeWidth:6,roughness:.7,bowing:1,fill:`${c.accent}12`,fillStyle:"hachure",hachureGap:10});b.querySelectorAll("path").forEach(E=>{const R=E.getTotalLength();E.style.strokeDasharray=R,E.style.strokeDashoffset=R*(1-w)}),v.appendChild(b)}if(n>=g.paths){const w=Math.min((n-g.paths)/40,1),b=`M 960 490 Q ${960-200*w} ${490+120*w} ${960-400*w} ${490+220*w}`,C=k.path(b,{stroke:c.path1,strokeWidth:5,roughness:.8,bowing:2});v.appendChild(C);const E=`M 960 490 Q ${960+200*w} ${490+120*w} ${960+400*w} ${490+220*w}`,R=k.path(E,{stroke:c.path2,strokeWidth:5,roughness:.8,bowing:2});v.appendChild(R)}if(n>=g.choices){const w=[{x:560,y:710,color:c.path1},{x:1360,y:710,color:c.path2}];h.forEach((b,C)=>{if(C>=w.length)return;const E=g.choices+C*18;if(n<E)return;const R=Math.min((n-E)/28,1),j=w[C],$=k.ellipse(j.x,j.y,320*R,160*R,{stroke:j.color,strokeWidth:5,roughness:.7,bowing:2,fill:`${j.color}10`,fillStyle:"hachure",hachureGap:12});v.appendChild($)})}if(n>=g.prompt+20){const b=`M 960 ${430+30*Math.min((n-g.prompt-20)/20,1)} L 960 490`,C=k.path(b,{stroke:c.accent,strokeWidth:4,roughness:.9,bowing:1});v.appendChild(C)}},[n,g,c,h]);const S=(v,k=28)=>{if(n<v)return{opacity:0,transform:"translateY(-18px) scale(0.93)"};if(n>=v+k)return{opacity:1,transform:"translateY(0) scale(1)"};const w=te(n,[v,v+k],[0,1],{easing:re.out(re.back(1.5)),extrapolateRight:"clamp"});return{opacity:w,transform:`translateY(${-18*(1-w)}px) scale(${.93+w*.07})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${x})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${x})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"100px 150px"},children:[n>=g.scenario+10&&d.jsx("div",{style:{position:"absolute",top:360,left:"50%",transform:"translateX(-50%)",width:400,textAlign:"center",...S(g.scenario+10,35)},children:d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:600,color:c.accent,margin:0,lineHeight:1.4},children:u.scenario||"You face a choice..."})}),n>=g.prompt&&d.jsx("div",{style:{position:"absolute",top:520,left:"50%",transform:"translateX(-50%)",...S(g.prompt,30)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:34,color:`${c.ink}70`,margin:0,fontStyle:"italic",whiteSpace:"nowrap"},children:u.prompt||"What would you do?"})}),h.map((v,k)=>{const w=g.choices+k*18+12;if(n<w)return null;const C=[{x:560,y:710},{x:1360,y:710}][k],E=k===0?c.path1:c.path2;return d.jsxs("div",{style:{position:"absolute",top:C.y,left:C.x,transform:"translate(-50%, -50%)",width:280,textAlign:"center",...S(w,32)},children:[d.jsx("h4",{style:{fontFamily:W.fonts.structure.primary,fontSize:24,fontWeight:700,color:E,margin:"0 0 10px 0"},children:v.label||`Option ${k+1}`}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:18,color:c.ink,margin:0,lineHeight:1.4},children:v.description||"..."})]},k)}),n>=g.outcomes&&h.map((v,k)=>{const w=g.outcomes+k*15;if(n<w||!v.outcome)return null;const C=[{x:560,y:860},{x:1360,y:860}][k];return d.jsx("div",{style:{position:"absolute",top:C.y,left:C.x,transform:"translateX(-50%)",width:240,textAlign:"center",...S(w,25)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:16,color:`${c.ink}50`,margin:0,fontStyle:"italic"},children:v.outcome})},`outcome-${k}`)})]})})]})},Pw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.primary,accent:W.colors.markers.green,accent2:W.colors.markers.blue,ink:W.colors.text.primary},u=r.fill?.reflection||{},h=u.takeaways||[],p=36,g={prelude:0,title:p*.8,takeaways:p*2.2,checkmarks:p*(2.2+h.length*1.2),settle:p*(4+h.length*1.2)},x=te(n,[0,g.title,g.settle],[1.03,1,1.01],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const v=l.current,k=kn.svg(v);for(;v.firstChild;)v.removeChild(v.firstChild);if(n>=g.takeaways&&h.forEach((w,b)=>{const C=g.takeaways+b*p*1.2;if(n<C)return;const E=Math.min((n-C)/32,1),R=300+b*180,j=k.rectangle(180,R,1560*E,140,{stroke:b%2===0?c.accent:c.accent2,strokeWidth:4,roughness:.8,bowing:2,fill:`${b%2===0?c.accent:c.accent2}06`,fillStyle:"hachure",hachureGap:14});j.querySelectorAll("path").forEach(P=>{const M=P.getTotalLength();P.style.strokeDasharray=M,P.style.strokeDashoffset=M*(1-E)}),v.appendChild(j)}),n>=g.checkmarks&&h.forEach((w,b)=>{const C=g.checkmarks+b*12;if(n<C)return;const E=Math.min((n-C)/18,1),R=370+b*180,j=`M 220 ${R} L 240 ${R+20*E} L 280 ${R-25}`,$=k.path(j,{stroke:b%2===0?c.accent:c.accent2,strokeWidth:6,roughness:.9,bowing:2});v.appendChild($)}),n>=g.title+30){const w=Math.min((n-g.title-30)/28,1),b=k.line(600,200,600+720*w,205,{stroke:c.accent,strokeWidth:5,roughness:.8,bowing:2});v.appendChild(b)}},[n,g,c,h]);const S=(v,k=28)=>{if(n<v)return{opacity:0,transform:"translateY(-15px) scale(0.95)"};if(n>=v+k)return{opacity:1,transform:"translateY(0) scale(1)"};const w=te(n,[v,v+k],[0,1],{easing:re.out(re.back(1.4)),extrapolateRight:"clamp"});return{opacity:w,transform:`translateY(${-15*(1-w)}px) scale(${.95+w*.05})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${x})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${x})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"100px 150px"},children:[n>=g.title&&d.jsx("div",{style:{...S(g.title,30),textAlign:"center"},children:d.jsx("h2",{style:{fontFamily:W.fonts.marker.secondary,fontSize:54,fontWeight:700,color:c.ink,margin:0},children:u.title||"Key Takeaways"})}),h.map((v,k)=>{const w=g.takeaways+k*p*1.2+12;if(n<w)return null;const b=340+k*180,C=k%2===0?c.accent:c.accent2;return d.jsx("div",{style:{position:"absolute",top:b,left:320,width:1380,...S(w,35)},children:d.jsxs("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:32,fontWeight:600,color:c.ink,margin:0,lineHeight:1.5},children:[d.jsxs("span",{style:{fontFamily:W.fonts.marker.primary,color:C,marginRight:16,fontSize:36},children:[k+1,"."]}),v]})},k)})]})})]})},Tw=({scene:r})=>{const n=Te(),{fps:i,durationInFrames:s}=Me(),l=y.useRef(null),c=r.style_tokens?.colors||{bg:W.colors.canvas.cream,accent:W.colors.markers.purple,accent2:W.colors.markers.orange,path:W.colors.markers.blue,ink:W.colors.text.primary},u=r.fill?.forward||{},h=36,p={prelude:0,currentSummary:h*.8,bridge:h*2.5,nextTeaser:h*4.5,pathForward:h*6,settle:h*7.5},g=te(n,[0,p.currentSummary,p.settle],[1.04,1,1.02],{easing:re.bezier(.4,0,.2,1),extrapolateRight:"clamp"});y.useEffect(()=>{if(!l.current)return;const S=l.current,v=kn.svg(S);for(;S.firstChild;)S.removeChild(S.firstChild);if(n>=p.currentSummary){const k=Math.min((n-p.currentSummary)/32,1),w=v.rectangle(180,380,620,280,{stroke:c.accent,strokeWidth:5,roughness:.8,bowing:2,fill:`${c.accent}10`,fillStyle:"hachure",hachureGap:12});w.querySelectorAll("path").forEach(C=>{const E=C.getTotalLength();C.style.strokeDasharray=E,C.style.strokeDashoffset=E*(1-k)}),S.appendChild(w)}if(n>=p.bridge){const k=Math.min((n-p.bridge)/50,1),w=`M 800 520 Q ${800+280*k} 480 ${800+560*k} 520`,b=v.path(w,{stroke:c.path,strokeWidth:7,roughness:.9,bowing:2});if(S.appendChild(b),k>.7){const C=(k-.7)/.3,E=1360,R=`M ${E} 520 L ${E-30*C} ${520-22*C} M ${E} 520 L ${E-30*C} ${520+22*C}`,j=v.path(R,{stroke:c.path,strokeWidth:7,roughness:.8,bowing:1});S.appendChild(j)}}if(n>=p.nextTeaser){const k=Math.min((n-p.nextTeaser)/35,1),w=v.rectangle(1120,380,620,280,{stroke:c.accent2,strokeWidth:5,roughness:.8,bowing:2,fill:`${c.accent2}10`,fillStyle:"hachure",hachureGap:12});w.querySelectorAll("path").forEach(C=>{const E=C.getTotalLength();C.style.strokeDasharray=E,C.style.strokeDashoffset=E*(1-k)}),S.appendChild(w)}if(n>=p.pathForward){const k=Math.min((n-p.pathForward)/40,1),w=v.path(`M 960 740 L ${960+180*k} 740`,{stroke:c.path,strokeWidth:5,roughness:.8,bowing:2});if(S.appendChild(w),k>.6){const b=(k-.6)/.4,C=`M 1140 740 L ${1140-20*b} ${740-16*b} M 1140 740 L ${1140-20*b} ${740+16*b}`,E=v.path(C,{stroke:c.path,strokeWidth:5,roughness:.8,bowing:1});S.appendChild(E)}}if(n>=p.bridge+20)for(let k=0;k<5;k++){const w=p.bridge+20+k*8;if(n<w)continue;const b=Math.min((n-w)/15,1),C=850+k*110,E=480+Math.sin(k/5*Math.PI)*20,R=v.circle(C,E,12*b,{stroke:"none",fill:c.path,fillStyle:"solid",roughness:.6});R.style.opacity=.5,S.appendChild(R)}},[n,p,c]);const x=(S,v=28)=>{if(n<S)return{opacity:0,transform:"translateY(-15px) scale(0.95)"};if(n>=S+v)return{opacity:1,transform:"translateY(0) scale(1)"};const k=te(n,[S,S+v],[0,1],{easing:re.out(re.back(1.5)),extrapolateRight:"clamp"});return{opacity:k,transform:`translateY(${-15*(1-k)}px) scale(${.95+k*.05})`}};return d.jsxs(Fe,{style:{backgroundColor:c.bg},children:[d.jsx("svg",{ref:l,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",transform:`scale(${g})`},viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet"}),d.jsx(Fe,{style:{transform:`scale(${g})`},children:d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",padding:"80px 120px"},children:[n>=h*.3&&d.jsx("div",{style:{...x(h*.3,28),textAlign:"center"},children:d.jsx("h2",{style:{fontFamily:W.fonts.marker.secondary,fontSize:52,fontWeight:700,color:c.ink,margin:0},children:u.title||"Your Journey Continues"})}),n>=p.currentSummary+10&&d.jsxs("div",{style:{position:"absolute",top:440,left:210,width:560,...x(p.currentSummary+10,32)},children:[d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:700,color:c.accent,margin:"0 0 16px 0"},children:u.current?.label||"You learned:"}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:22,color:c.ink,margin:0,lineHeight:1.5},children:u.current?.summary||"Key concepts from this lesson"})]}),n>=p.bridge+25&&d.jsx("div",{style:{position:"absolute",top:450,left:"50%",transform:"translateX(-50%)",...x(p.bridge+25,25)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.handwritten,fontSize:30,color:c.path,margin:0,fontStyle:"italic",whiteSpace:"nowrap"},children:u.connection||"leads to"})}),n>=p.nextTeaser+12&&d.jsxs("div",{style:{position:"absolute",top:440,left:1150,width:560,...x(p.nextTeaser+12,35)},children:[d.jsx("h3",{style:{fontFamily:W.fonts.structure.primary,fontSize:28,fontWeight:700,color:c.accent2,margin:"0 0 16px 0"},children:u.next?.label||"Coming up:"}),d.jsx("p",{style:{fontFamily:W.fonts.structure.secondary,fontSize:22,color:c.ink,margin:0,lineHeight:1.5},children:u.next?.teaser||"Exciting new concepts ahead"})]}),n>=p.pathForward+15&&d.jsx("div",{style:{position:"absolute",bottom:140,left:"50%",transform:"translateX(-50%)",...x(p.pathForward+15,28)},children:d.jsx("p",{style:{fontFamily:W.fonts.marker.primary,fontSize:34,color:c.path,margin:0,textAlign:"center"},children:u.cta||"Let's keep going!"})})]})})]})},Iw="1.0",Fw="whiteboard_ted_v1",Aw=30,zw=30,Lw={title:"Currency Moves Like Tides",tags:["module:economy","topic:currency","pedagogy:analogy","difficulty:beginner","tone:playful","format:whiteboard"]},Nw={colors:{bg:"#fafafa",board:"#fff",boardStroke:"#e8e8e8",ink:"#0e0e0e",accent:"#732282",support:"#86BC25"},fonts:{title:{family:"Syncopate, sans-serif",weight:700,size:54},subtitle:{family:"Syncopate, sans-serif",weight:400,size:28},body:{family:"Permanent Marker, sans-serif",weight:400,size:34}}},Dw={canvas:{w:1920,h:1080}},Ow={texts:{title:"Currency Moves Like Tides",subtitle:"Knodovia Whiteboard — Lesson 01",b1:"Full moon doubles value",b2:"Compliment triggers a short spike",b3:"Check the lunar calendar first"},images:{image_right_large:"https://api.dicebear.com/7.x/shapes/svg?seed=moon",image_right_small:"https://api.dicebear.com/7.x/shapes/svg?seed=wave"},character:{pose:"teacher"}},Vw={strategy:"chunked",clips:[]},Bw=[{t:0,action:"boardIn",duration:.6},{t:.4,action:"drawText",target:"title",duration:.6},{t:.8,action:"drawText",target:"subtitle",duration:.6},{t:1,action:"characterEnter",anchor:"character_anchor",duration:.8},{t:2,action:"drawImage",target:"image_right_large",duration:.7},{t:2.8,action:"drawImage",target:"image_right_small",duration:.6},{t:1,action:"drawText",target:"b1",duration:.8},{t:6.5,action:"drawText",target:"b2",duration:.8},{t:14,action:"drawText",target:"b3",duration:.8},{t:1.1,action:"arrowTo",from:"character_anchor",target:"b1",duration:1.2},{t:11,action:"arrowTo",from:"character_anchor",target:"image_right_large",duration:1},{t:14.2,action:"arrowTo",from:"character_anchor",target:"b3",duration:1}],Ww={schema_version:Iw,template_id:Fw,duration_s:Aw,fps:zw,meta:Lw,style_tokens:Nw,layout:Dw,fill:Ow,audio:Vw,timeline:Bw},Hw="1.0",Uw="two_column_v1",qw=30,Yw=30,Qw={title:"Compliment Tax vs Insult Discount",tags:["module:laws","topic:commerce","pedagogy:compare","difficulty:beginner","tone:playful","format:comparison"]},Gw={colors:{bg:"#fafafa",board:"#fff",boardStroke:"#e8e8e8",ink:"#0e0e0e",accent:"#732282",support:"#86BC25"},fonts:{title:{family:"Syncopate, sans-serif",weight:700,size:54},subtitle:{family:"Syncopate, sans-serif",weight:400,size:28},body:{family:"Permanent Marker, sans-serif",weight:400,size:34}}},Kw={canvas:{w:1920,h:1080}},Xw={texts:{title:"Compliment Tax vs Insult Discount",left_h1:"Compliment Tax",left_h2:"2% surcharge if praise is given",right_h1:"Insult Discount",right_h2:"1% off per mild insult (cap 5%)"},images:{image_left:"https://api.dicebear.com/7.x/shapes/svg?seed=smile",image_right:"https://api.dicebear.com/7.x/shapes/svg?seed=grimace"}},Jw={strategy:"chunked",clips:[]},Zw=[{t:.3,action:"drawText",target:"title"},{t:1,action:"drawTextL",target:"left_h1"},{t:1.2,action:"drawTextL",target:"left_h2"},{t:1.6,action:"drawImageL",target:"image_left"},{t:3.2,action:"drawTextR",target:"right_h1"},{t:3.4,action:"drawTextR",target:"right_h2"},{t:3.8,action:"drawImageR",target:"image_right"},{t:5.5,action:"arrowSwap",target:"left_h1"},{t:7,action:"arrowSwap",target:"right_h1"},{t:9,action:"tick",target:"left_h2"},{t:9.6,action:"cross",target:"right_h2"}],e2={schema_version:Hw,template_id:Uw,duration_s:qw,fps:Yw,meta:Qw,style_tokens:Gw,layout:Kw,fill:Xw,audio:Jw,timeline:Zw},t2="1.0",n2="timeline_v1",r2=30,o2=30,i2={title:"5-Step Greeting Ritual",tags:["module:culture","topic:greetings","pedagogy:sequence","difficulty:beginner","tone:playful","format:timeline"]},s2={colors:{bg:"#fafafa",board:"#fff",boardStroke:"#e8e8e8",ink:"#0e0e0e",accent:"#732282",support:"#86BC25"},fonts:{title:{family:"Syncopate, sans-serif",weight:700,size:54},subtitle:{family:"Syncopate, sans-serif",weight:400,size:28},body:{family:"Permanent Marker, sans-serif",weight:400,size:34}}},a2={canvas:{w:1920,h:1080}},l2={texts:{title:"5-Step Greeting Ritual",s1:"Step 1: Brow Nod",s2:"Step 2: Moon Hand",s3:"Step 3: Compliment",s4:"Step 4: Two Paces Back",s5:"Step 5: Return & Smile"},images:{i1:"https://api.dicebear.com/7.x/shapes/svg?seed=brow",i2:"https://api.dicebear.com/7.x/shapes/svg?seed=moonhand",i3:"https://api.dicebear.com/7.x/shapes/svg?seed=compliment",i4:"https://api.dicebear.com/7.x/shapes/svg?seed=twopaces",i5:"https://api.dicebear.com/7.x/shapes/svg?seed=smile"}},c2={strategy:"chunked",clips:[]},u2=[{t:.4,action:"drawText",target:"title"},{t:1,action:"stepIn",target:"s1"},{t:2,action:"connectorReveal",target:"s1->s2"},{t:2.2,action:"stepIn",target:"s2"},{t:3.2,action:"connectorReveal",target:"s2->s3"},{t:3.4,action:"stepIn",target:"s3"},{t:4.4,action:"connectorReveal",target:"s3->s4"},{t:4.6,action:"stepIn",target:"s4"},{t:5.6,action:"connectorReveal",target:"s4->s5"},{t:5.8,action:"stepIn",target:"s5"},{t:7,action:"badge",target:"s5"}],d2={schema_version:t2,template_id:n2,duration_s:r2,fps:o2,meta:i2,style_tokens:s2,layout:a2,fill:l2,audio:c2,timeline:u2},f2="2.0",p2="whiteboard_ted_enhanced",h2=20,m2=30,g2={title:"How Ideas Spread",description:"A TED-style explainer on the science of viral ideas",tags:["module:psychology","topic:communication","pedagogy:explainer","format:whiteboard"],difficulty:"intermediate",tone:"casual"},y2={colors:{bg:"#fafafa",board:"#ffffff",ink:"#2d3436",accent:"#4a9c3b",support:"#8bc34a",highlight:"#ffd93d"},fonts:{title:{family:"Cabin Sketch, cursive",size:72,weight:700},subtitle:{family:"Cabin Sketch, cursive",size:42,weight:400},body:{family:"Patrick Hand, cursive",size:32,weight:400},label:{family:"Patrick Hand, cursive",size:24,weight:400}}},v2={canvas:{w:1920,h:1080}},x2={texts:{title:"How Ideas Spread",subtitle:"The Science of Going Viral",point1:"Simple & Clear",point2:"Emotionally Resonant",point3:"Easy to Share",point4:"Right Timing",conclusion:"💡 Connect + Amplify = Impact"},images:{icon1:"https://api.dicebear.com/7.x/shapes/svg?seed=lightbulb&backgroundColor=4a9c3b",icon2:"https://api.dicebear.com/7.x/shapes/svg?seed=heart&backgroundColor=e74c3c",icon3:"https://api.dicebear.com/7.x/shapes/svg?seed=network&backgroundColor=3498db",icon4:"https://api.dicebear.com/7.x/shapes/svg?seed=clock&backgroundColor=f39c12"}},w2=[{t:0,action:"fadeIn",target:"title",duration:1,comment:"Title appears"},{t:.5,action:"fadeIn",target:"subtitle",duration:.8,comment:"Subtitle follows"},{t:1,action:"scaleIn",target:"mainIcon",duration:.7,comment:"Main icon bounces in"},{t:2,action:"slideIn",target:"point1",duration:.8,comment:"First box appears"},{t:2.5,action:"fadeIn",target:"icon1",duration:.5,comment:"First icon"},{t:2.8,action:"drawConnector",target:"connector1",duration:.5,comment:"Arrow to second box"},{t:3,action:"slideIn",target:"point2",duration:.8,comment:"Second box appears"},{t:3.5,action:"fadeIn",target:"icon2",duration:.5,comment:"Second icon"},{t:3.8,action:"drawConnector",target:"connector2",duration:.5,comment:"Arrow to third box"},{t:4,action:"slideIn",target:"point3",duration:.8,comment:"Third box appears"},{t:4.5,action:"fadeIn",target:"icon3",duration:.5,comment:"Third icon"},{t:4.8,action:"drawConnector",target:"connector3",duration:.5,comment:"Arrow to fourth box"},{t:5,action:"slideIn",target:"point4",duration:.8,comment:"Fourth box appears"},{t:5.5,action:"fadeIn",target:"icon4",duration:.5,comment:"Fourth icon"},{t:8,action:"highlight",target:"point1",duration:2,comment:"Highlight first point"},{t:10,action:"highlight",target:"point2",duration:2,comment:"Highlight second point"},{t:12,action:"highlight",target:"point3",duration:2,comment:"Highlight third point"},{t:14,action:"highlight",target:"point4",duration:2,comment:"Highlight fourth point"},{t:16,action:"fadeIn",target:"conclusion",duration:1.5,comment:"Final takeaway appears"},{t:17,action:"scaleIn",target:"conclusion",duration:1,comment:"Conclusion scales for emphasis"}],Ec={schema_version:f2,template_id:p2,duration_s:h2,fps:m2,meta:g2,style_tokens:y2,layout:v2,fill:x2,timeline:w2},b2="3.0",k2="hook_story",S2="hook",C2=30,E2=30,_2={title:"Resilience Hook - J.K. Rowling Story",description:"Story-driven hook about resilience and turning failure into success",tags:["pedagogy:hook","topic:resilience","format:story"],difficulty:"beginner",tone:"inspiring"},$2={canvas:{w:1920,h:1080}},j2={texts:{opening:"📖 In 1994, a young wizard faced an impossible choice...",character:"J.K. Rowling sat in a small café, manuscript rejected by 12 publishers. Single mom. Broke. Dream dying.",conflict:"⚡ One more publisher. One last chance. Everything on the line.",moment1:"📚 Publisher #13 said YES",moment2:"🌟 Book became phenomenon",moment3:"🎯 Created billion $ empire",hook:"What if your biggest failure is actually your greatest beginning?"},images:{character:"img_thinking",icon1:"img_book",icon2:"img_star",icon3:"img_trophy"}},R2={colors:{bg:"#faf5f0",accent:"#8e44ad",support:"#e74c3c",ink:"#2c3e50",highlight:"#f39c12"},fonts:{title:{family:"Cabin Sketch, cursive",size:72,weight:700},body:{family:"Patrick Hand, cursive",size:34,weight:400},story:{family:"Patrick Hand, cursive",size:38,weight:400}}},M2=[],P2={schema_version:b2,template_id:k2,pillar:S2,duration_s:C2,fps:E2,meta:_2,layout:$2,fill:j2,style_tokens:R2,timeline:M2},T2="3.0",I2="explain_timeline",F2="explain",A2=30,z2=30,L2={title:"Photosynthesis Timeline",description:"Sequential timeline explaining the 5-phase photosynthesis process",tags:["pedagogy:explain","topic:biology","format:timeline"],difficulty:"intermediate",tone:"educational"},N2={canvas:{w:1920,h:1080}},D2={texts:{title:"⏱️ How Photosynthesis Works",subtitle:"The 5-step energy conversion process",phase1:"Light Absorption",desc1:"Chlorophyll captures sunlight",phase2:"Water Splitting",desc2:"H₂O breaks into H, O₂",phase3:"Energy Transfer",desc3:"ATP & NADPH created",phase4:"Carbon Fixation",desc4:"CO₂ captured from air",phase5:"Glucose Made",desc5:"Sugar for plant energy",summary:"Sunlight + Water + CO₂ → Oxygen + Sugar!"},images:{icon1:"img_sun",icon2:"img_water",icon3:"img_lightning",icon4:"img_atom",icon5:"img_plant"}},O2={colors:{bg:"#f0f8f5",accent:"#27ae60",support:"#86BC25",ink:"#2d3436",line:"#95a5a6"},fonts:{title:{family:"Cabin Sketch, cursive",size:64,weight:700},milestone:{family:"Patrick Hand, cursive",size:28,weight:600},body:{family:"Patrick Hand, cursive",size:24,weight:400}}},V2=[],B2={schema_version:T2,template_id:I2,pillar:F2,duration_s:A2,fps:z2,meta:L2,layout:N2,fill:D2,style_tokens:O2,timeline:V2},W2="3.0",H2="apply_compare",U2="apply",q2=30,Y2=30,Q2={title:"Study Habits Transformation",description:"Before/after comparison showing how active recall transforms study outcomes",tags:["pedagogy:apply","topic:study-skills","format:comparison"],difficulty:"beginner",tone:"motivational"},G2={canvas:{w:1920,h:1080}},K2={texts:{title:"🔄 Transform Your Study Habits",beforeLabel:"Old Way",before1:"Cramming night before exam",before2:"Passive re-reading notes",before3:"Stressed, anxious, forgetting",action:"Apply Active Recall",afterLabel:"New Way",after1:"Spaced repetition over weeks",after2:"Testing yourself actively",after3:"Confident, retaining, succeeding",result:"2x better retention, half the stress!"},images:{beforeImage:"img_stressed",afterImage:"img_celebrate"}},X2={colors:{bg:"#fafafa",before:"#e74c3c",after:"#27ae60",ink:"#2d3436"},fonts:{title:{family:"Cabin Sketch, cursive",size:64,weight:700},label:{family:"Cabin Sketch, cursive",size:48,weight:700},body:{family:"Patrick Hand, cursive",size:28,weight:400}}},J2=[],Z2={schema_version:W2,template_id:H2,pillar:U2,duration_s:q2,fps:Y2,meta:Q2,layout:G2,fill:K2,style_tokens:X2,timeline:J2},eb="3.0",tb="reflect_mindmap",nb="reflect",rb=30,ob=30,ib={title:"Learning Styles Mind Map",description:"Mind map reflection connecting different learning modalities",tags:["pedagogy:reflect","topic:metacognition","format:mindmap"],difficulty:"intermediate",tone:"thoughtful"},sb={canvas:{w:1920,h:1080}},ab={texts:{title:"🧠 Your Learning Web",central:"How I Learn Best",branch1:"Visual Learning",desc1:"Diagrams, mind maps, color coding",branch2:"Active Practice",desc2:"Hands-on, testing, teaching others",branch3:"Social Learning",desc3:"Study groups, discussions, collaboration",branch4:"Reflective Time",desc4:"Journaling, connecting ideas, metacognition",insight:"My unique learning style combines all four!"},images:{centralIcon:"img_brain",icon1:"img_palette",icon2:"img_tool",icon3:"img_people",icon4:"img_mirror"}},lb={colors:{bg:"#f5f8fa",center:"#9b59b6",branch1:"#3498db",branch2:"#27ae60",branch3:"#e74c3c",branch4:"#f39c12",ink:"#2d3436"},fonts:{title:{family:"Cabin Sketch, cursive",size:56,weight:700},center:{family:"Cabin Sketch, cursive",size:48,weight:700},branch:{family:"Patrick Hand, cursive",size:26,weight:600},insight:{family:"Patrick Hand, cursive",size:32,weight:600}}},cb=[],ub={schema_version:eb,template_id:tb,pillar:nb,duration_s:rb,fps:ob,meta:ib,layout:sb,fill:ab,style_tokens:lb,timeline:cb},db="3.0",fb="hook",pb="hook",hb=25,mb=30,gb={title:"Mapping the Land - Hook",description:"A map unlike any other - introduces Knodovia",tags:["module:welcome-knodovia","pedagogy:hook","topic:four-regions"],difficulty:"beginner",tone:"intriguing"},yb={colors:{bg:"#FFF9F0",accent:"#8B7355",ink:"#1A1A1A"}},vb={canvas:{w:1920,h:1080}},xb={texts:{questionPart1:"What if geography was measured",questionPart2:"in mindsets, not miles?",icon:"🗺️",spark1:"Every hill represents curiosity",spark2:"Rivers flow with reflection",spark3:"Skylines built on mastery",challenge:"Welcome to Knodovia — where learning becomes a landscape."}},wb=[],bb={schema_version:db,template_id:fb,pillar:pb,duration_s:hb,fps:mb,meta:gb,style_tokens:yb,layout:vb,fill:xb,timeline:wb},kb="3.0",Sb="hook_1a",Cb="hook",Eb="1A",_b=20,$b=30,jb={title:"HOOK 1A: Question Burst - Knodovia Map",description:"Provocative question about geography and mindsets",tags:["module:welcome-knodovia","pedagogy:hook","variant:1A","pattern:question-burst"],difficulty:"beginner",tone:"thoughtful",narrative_pattern:"What if...?",visual_archetype:"kinetic type, soft texture",compatible_next:["explain_2a","explain_2b","explain_2e"]},Rb={colors:{bg:"#FFF9F0",accent:"#E74C3C",accent2:"#E67E22",ink:"#1A1A1A"}},Mb={canvas:{w:1920,h:1080}},Pb={texts:{questionPart1:"What if geography",questionPart2:"was measured in mindsets?",subtitle:"Welcome to Knodovia..."}},Tb=[],Ib={schema_version:kb,template_id:Sb,pillar:Cb,variant:Eb,duration_s:_b,fps:$b,meta:jb,style_tokens:Rb,layout:Mb,fill:Pb,timeline:Tb},Fb="3.0",Ab="hook_1e",zb="hook",Lb="1E",Nb=15,Db=30,Ob={title:"HOOK 1E: Ambient Mystery",description:"Build intrigue through atmospheric question with fog and mystery",tags:["pedagogy:hook","variant:1E","pattern:ambient-mystery","tone:mysterious"],difficulty:"beginner",tone:"mysterious",narrative_pattern:"In the shadows of...",visual_archetype:"fog particles, whisper text, dim spotlight",compatible_next:["explain_2a","explain_2b","explain_2e"]},Vb={colors:{bg:"#1A1F2E",fog:"#4A5568",accent:"#8E44AD",accent2:"#6C7A89",ink:"#E8F4FD",spotlight:"#F39C12"}},Bb={canvas:{w:1920,h:1080}},Wb={texts:{whisper:"In the depths of Knodovia...",question:"What secrets shape the land?",hint:"Let's discover together..."}},Hb=[],Ub={schema_version:Fb,template_id:Ab,pillar:zb,variant:Lb,duration_s:Nb,fps:Db,meta:Ob,style_tokens:Vb,layout:Bb,fill:Wb,timeline:Hb},qb="3.0",Yb="explain_sequential",Qb="explain",Gb=70,Kb=30,Xb={title:"The Four Regions of Learning",description:"Sequential reveal of Learnville, Reviseton, Evalua City, Playport",tags:["module:welcome-knodovia","pedagogy:explain","topic:four-regions"],difficulty:"beginner",tone:"educational"},Jb={colors:{bg:"#FFF9F0",accent:"#8B7355",ink:"#1A1A1A"}},Zb={canvas:{w:1920,h:1080}},ek={title:"🗺️ The Four Regions of Learning",regions:[{name:"Learnville",icon:"💡",color:"#FF8C42",description:"The city of sparks. Streets hum with curiosity, every building asks 'what if?'",annotation:"where ideas are born"},{name:"Reviseton",icon:"📝",color:"#4ECDC4",description:"Home of reflection. Learning sticks when you sketch it, explain it, teach it back.",annotation:"notebooks for memory, not neatness"},{name:"Evalua City",icon:"✅",color:"#86BC25",description:"The proving ground. Test what you know and celebrate the gaps you uncover.",annotation:"every answer earns XP, every mistake earns insight"},{name:"Playport",icon:"🎮",color:"#9B59B6",description:"The coastal playground. Experimentation isn't optional — it's currency.",annotation:"joyful trial-and-error"}],summary:"Four regions. One journey. Endless pathways."},tk=[],Dp={schema_version:qb,template_id:Yb,pillar:Qb,duration_s:Gb,fps:Kb,meta:Xb,style_tokens:Jb,layout:Zb,fill:ek,timeline:tk},nk="3.0",rk="explain_2a",ok="explain",ik="2A",sk=30,ak=30,lk={title:"EXPLAIN 2A: Concept Breakdown",description:"Break complex concept into clear, digestible parts with branching structure",tags:["pedagogy:explain","variant:2A","pattern:breakdown","tone:clear"],difficulty:"beginner",tone:"clear",narrative_pattern:"X is made of Y, Z, A...",visual_archetype:"branching structure, labeled nodes",compatible_next:["apply_3a","apply_3b"]},ck={colors:{bg:"#FFF9F0",accent:"#2E7FE4",accent2:"#27AE60",accent3:"#8E44AD",ink:"#1A1A1A"}},uk={canvas:{w:1920,h:1080}},dk={concept:{title:"Knodovia's Geography",concept:"Four Distinct Regions",parts:[{label:"Pragmatica",description:"Logic and efficiency drive every decision"},{label:"Empathios",description:"Connection and understanding guide the way"},{label:"Innovara",description:"Creativity and possibility fuel progress"}]}},fk=[],pk={schema_version:nk,template_id:rk,pillar:ok,variant:ik,duration_s:sk,fps:ak,meta:lk,style_tokens:ck,layout:uk,fill:dk,timeline:fk},hk="3.0",mk="explain_2b",gk="explain",yk="2B",vk=25,xk=30,wk={title:"EXPLAIN 2B: Analogy",description:"Explain concept through relatable comparison",tags:["pedagogy:explain","variant:2B","pattern:analogy","tone:relatable"],tone:"relatable"},bk={colors:{bg:"#FFF9F0",accent:"#E67E22",accent2:"#2E7FE4",ink:"#1A1A1A"}},kk={canvas:{w:1920,h:1080}},Sk={analogy:{title:"Think of it like this...",familiar:{label:"A Compass",description:"Points you in the right direction, shows you where North is, helps you navigate unfamiliar territory."},newConcept:{label:"A Mindset",description:"Guides your decisions, shows you what matters most, helps you navigate life's challenges."},connection:"works like"}},Ck=[],Ek={schema_version:hk,template_id:mk,pillar:gk,variant:yk,duration_s:vk,fps:xk,meta:wk,style_tokens:bk,layout:kk,fill:Sk,timeline:Ck},_k="3.0",$k="apply_quiz",jk="apply",Rk=30,Mk=30,Pk={title:"Test Your Bearings",description:"Multiple choice quiz about the four regions",tags:["module:welcome-knodovia","pedagogy:apply","topic:four-regions"],difficulty:"beginner",tone:"playful"},Tk={colors:{bg:"#FFF9F0",accent:"#86BC25",correct:"#86BC25",incorrect:"#999",ink:"#1A1A1A"}},Ik={canvas:{w:1920,h:1080}},Fk={texts:{context:"All four regions glow on the map, connected by neural pathways.",explanation:"Exactly. Reflection turns information into understanding. That's why Knodovians never finish a journey without looking back."},quiz:{question:"If a Knodovian wants to reinforce what they've learned, which region should they visit?",optionA:"Learnville",optionB:"Reviseton",optionC:"Evalua City",optionD:"Playport",correctAnswer:"B"}},Ak=[],Op={schema_version:_k,template_id:$k,pillar:jk,duration_s:Rk,fps:Mk,meta:Pk,style_tokens:Tk,layout:Ik,fill:Fk,timeline:Ak},zk="3.0",Lk="apply_3a",Nk="apply",Dk="3A",Ok=18,Vk=30,Bk={title:"APPLY 3A: Micro Quiz",description:"Quick knowledge check with immediate feedback",tags:["pedagogy:apply","variant:3A","pattern:quiz","tone:energetic"],tone:"energetic"},Wk={colors:{bg:"#FAFBFC",accent:"#27AE60",wrong:"#E74C3C",ink:"#1A1A1A"}},Hk={canvas:{w:1920,h:1080}},Uk={quiz:{question:"Which region values logic and efficiency?",options:["Empathios","Pragmatica","Innovara"],correctIndex:1}},qk=[],Yk={schema_version:zk,template_id:Lk,pillar:Nk,variant:Dk,duration_s:Ok,fps:Vk,meta:Bk,style_tokens:Wk,layout:Hk,fill:Uk,timeline:qk},Qk="3.0",Gk="apply_3b",Kk="apply",Xk="3B",Jk=28,Zk=30,eS={title:"APPLY 3B: Scenario Choice",description:"Present decision point with branching paths",tags:["pedagogy:apply","variant:3B","pattern:scenario","tone:thoughtful"],tone:"thoughtful"},tS={colors:{bg:"#FFF9F0",accent:"#8E44AD",path1:"#2E7FE4",path2:"#E67E22",ink:"#1A1A1A"}},nS={canvas:{w:1920,h:1080}},rS={scenario:{scenario:"You're visiting Knodovia for the first time",prompt:"Which region do you explore first?",choices:[{label:"Start in Pragmatica",description:"Learn the rules and structure first",outcome:"Build a logical foundation"},{label:"Begin in Empathios",description:"Connect with the people and culture",outcome:"Understand the heart of the land"}]}},oS=[],iS={schema_version:Qk,template_id:Gk,pillar:Kk,variant:Xk,duration_s:Jk,fps:Zk,meta:eS,style_tokens:tS,layout:nS,fill:rS,timeline:oS},sS="3.0",aS="reflect",lS="reflect",cS=35,uS=30,dS={title:"Where Would You Start?",description:"Reflection on the four regions and personal journey",tags:["module:welcome-knodovia","pedagogy:reflect","topic:four-regions"],difficulty:"beginner",tone:"inspirational"},fS={colors:{bg:"#FFF9F0",accent:"#8B7355",ink:"#1A1A1A"}},pS={canvas:{w:1920,h:1080}},hS={texts:{title:"Your Learning Journey",insight1:"Every explorer travels Knodovia in their own order",insight2:"Some crave the spark of Learnville, others the calm of Reviseton",insight3:"What matters isn't where you start — it's that you keep moving",question:"Which region calls to you first? Where does your learning journey begin?",nextSteps:"The map of learning is never finished. Keep exploring! 🗺️"}},mS=[],gS={schema_version:sS,template_id:aS,pillar:lS,duration_s:cS,fps:uS,meta:dS,style_tokens:fS,layout:pS,fill:hS,timeline:mS},yS="3.0",vS="reflect_4a",xS="reflect",wS="4A",bS=22,kS=30,SS={title:"REFLECT 4A: Key Takeaways",description:"Summarize core lessons in memorable list",tags:["pedagogy:reflect","variant:4A","pattern:takeaways","tone:affirming"],tone:"affirming"},CS={colors:{bg:"#FAFBFC",accent:"#27AE60",accent2:"#2E7FE4",ink:"#1A1A1A"}},ES={canvas:{w:1920,h:1080}},_S={reflection:{title:"Key Takeaways",takeaways:["Geography can be understood through mindsets, not just physical borders","Each region of Knodovia reflects a different way of thinking","Understanding these perspectives helps us navigate complex ideas"]}},$S=[],jS={schema_version:yS,template_id:vS,pillar:xS,variant:wS,duration_s:bS,fps:kS,meta:SS,style_tokens:CS,layout:ES,fill:_S,timeline:$S},RS="3.0",MS="reflect_4d",PS="reflect",TS="4D",IS=20,FS=30,AS={title:"REFLECT 4D: Forward Link",description:"Connect current lesson to next learning step",tags:["pedagogy:reflect","variant:4D","pattern:forward-link","tone:encouraging"],tone:"encouraging"},zS={colors:{bg:"#FFF9F0",accent:"#8E44AD",accent2:"#E67E22",path:"#2E7FE4",ink:"#1A1A1A"}},LS={canvas:{w:1920,h:1080}},NS={forward:{title:"Your Journey Continues",current:{label:"You learned:",summary:"How Knodovia's four regions represent different mindsets and ways of thinking"},connection:"leads to",next:{label:"Coming up:",teaser:"Exploring how these mindsets interact and combine to solve real problems"},cta:"Ready to dive deeper?"}},DS=[],OS={schema_version:RS,template_id:MS,pillar:PS,variant:TS,duration_s:IS,fps:FS,meta:AS,style_tokens:zS,layout:LS,fill:NS,timeline:DS},_c={whiteboard_ted_v2:bw,whiteboard_ted_enhanced:sm,two_column_v1:rw,timeline_v1:ow,hook:ii,hook_1a:Ew,hook_1e:_w,hook_story:Kh,explain:Kc,explain_sequential:Sw,explain_timeline:Xh,explain_2a:$w,explain_2b:jw,apply:Xc,apply_quiz:Cw,apply_compare:Jh,apply_3a:Rw,apply_3b:Mw,reflect:Jc,reflect_mindmap:Zh,reflect_4a:Pw,reflect_4d:Tw},VS={whiteboard_ted_v2:Ww,whiteboard_ted_enhanced:Ec,two_column_v1:e2,timeline_v1:d2,hook:Zc,hook_story:P2,explain:eu,explain_sequential:Dp,explain_timeline:B2,apply:tu,apply_quiz:Op,apply_compare:Z2,reflect:nu,reflect_mindmap:ub,hook_knodovia:bb,hook_1a_knodovia:Ib,hook_1e_mystery:Ub,explain_knodovia:Dp,explain_2a_breakdown:pk,explain_2b_analogy:Ek,apply_knodovia:Op,apply_3a_quiz:Yk,apply_3b_scenario:iS,reflect_knodovia:gS,reflect_4a_takeaways:jS,reflect_4d_forward:OS},BS=r=>{const n=[];try{if(r.template_id||n.push("Missing required field: template_id"),r.duration_s||n.push("Missing required field: duration_s"),r.fps||n.push("Missing required field: fps"),r.fill||n.push("Missing required field: fill"),(!r.timeline||!Array.isArray(r.timeline))&&n.push("Missing or invalid timeline array"),r.template_id&&!_c[r.template_id]&&n.push(`Unknown template_id: ${r.template_id}. Valid options: ${Object.keys(_c).join(", ")}`),r.timeline&&r.fill){const i=Object.keys(r.fill.texts||{}),s=Object.keys(r.fill.images||{}),l=[...i,...s],c=["character_anchor","mainIcon","connector1","connector2","connector3","connector4"];r.timeline.forEach((u,h)=>{u.target&&!u.target.includes("->")&&!l.includes(u.target)&&!c.includes(u.target)&&n.push(`Timeline action ${h} references missing target: "${u.target}"`),u.from&&!l.includes(u.from)&&!c.includes(u.from)&&n.push(`Timeline action ${h} references missing 'from' target: "${u.from}"`),u.action||n.push(`Timeline action ${h} is missing 'action' field`),u.t===void 0&&n.push(`Timeline action ${h} is missing 't' (time) field`)})}r.fill?.texts&&Object.entries(r.fill.texts).forEach(([i,s])=>{s&&s.length>100&&n.push(`Text field "${i}" may be too long (${s.length} chars). Consider shortening.`)})}catch(i){n.push(`Validation error: ${i.message}`)}return n};function WS(){const[r,n]=y.useState("wizard"),[i,s]=y.useState("whiteboard_ted_enhanced"),[l,c]=y.useState(JSON.stringify(Ec,null,2)),[u,h]=y.useState(Ec),[p,g]=y.useState([]),[x,S]=y.useState(null),v=E=>{s(E);const R=VS[E];c(JSON.stringify(R,null,2)),h(R),g([]),S(null)},k=()=>{try{const E=JSON.parse(l);E.duration_s||(E.duration_s=E.duration||30),E.fps||(E.fps=30),E.layout||(E.layout={canvas:{w:1920,h:1080}}),E.meta||(E.meta={title:E.fill?.texts?.title||"Untitled Scene",tags:[]}),E.timeline||(E.timeline=[]);const R=BS(E);g(R),S(null),R.length===0&&(h(E),s(E.template_id))}catch(E){S(`Invalid JSON: ${E.message}`)}},w=_c[u.template_id]||sm;console.log("Remotion debug — currentScene:",u),console.log("Remotion debug — Component:",w);const[b,C]=y.useState(!1);return r==="wizard"?d.jsxs("div",{style:{position:"relative"},children:[d.jsx(nw,{}),d.jsx("button",{onClick:()=>n("legacy"),style:{position:"fixed",bottom:20,right:20,padding:"10px 20px",fontSize:13,backgroundColor:"#666",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:9999},children:"Switch to Legacy Mode"})]}):d.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#f5f5f5",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[d.jsxs("header",{style:{backgroundColor:"#fff",borderBottom:"1px solid #e0e0e0",padding:"20px 40px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[d.jsx("h1",{style:{margin:0,fontSize:28,fontWeight:700,color:"#732282"},children:"Remotion Scene Previewer (Legacy Mode)"}),d.jsx("p",{style:{margin:"8px 0 0 0",fontSize:14,color:"#666"},children:"JSON-driven content factory for Knodovia"})]}),d.jsxs("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #e0e0e0",padding:"16px 40px",display:"flex",alignItems:"center",gap:16},children:[d.jsx("label",{style:{fontSize:14,fontWeight:600,color:"#333"},children:"Template:"}),d.jsxs("select",{value:i,onChange:E=>v(E.target.value),style:{padding:"8px 16px",fontSize:14,borderRadius:6,border:"1px solid #ddd",backgroundColor:"#fff",cursor:"pointer",outline:"none"},children:[d.jsxs("optgroup",{label:"🎨 NEW: Rough.js Templates (9+/10)",children:[d.jsx("option",{value:"hook_1a_knodovia",children:"🔥 Hook 1A: Question Burst (20s)"}),d.jsx("option",{value:"hook_1e_mystery",children:"🌫️ Hook 1E: Ambient Mystery (15s)"}),d.jsx("option",{value:"explain_2a_breakdown",children:"📊 Explain 2A: Concept Breakdown (30s)"}),d.jsx("option",{value:"explain_2b_analogy",children:"🔄 Explain 2B: Analogy (25s)"}),d.jsx("option",{value:"apply_3a_quiz",children:"✅ Apply 3A: Micro Quiz (18s)"}),d.jsx("option",{value:"apply_3b_scenario",children:"🛤️ Apply 3B: Scenario Choice (28s)"}),d.jsx("option",{value:"reflect_4a_takeaways",children:"💡 Reflect 4A: Key Takeaways (22s)"}),d.jsx("option",{value:"reflect_4d_forward",children:"➡️ Reflect 4D: Forward Link (20s)"})]}),d.jsxs("optgroup",{label:"🗺️ Knodovia Video - Mapping the Land",children:[d.jsx("option",{value:"hook_knodovia",children:"Hook: A Map Unlike Any Other (25s)"}),d.jsx("option",{value:"explain_knodovia",children:"Explain: Four Regions Sequential (70s)"}),d.jsx("option",{value:"apply_knodovia",children:"Apply: Region Quiz (30s)"}),d.jsx("option",{value:"reflect_knodovia",children:"Reflect: Your Journey (35s)"})]}),d.jsxs("optgroup",{label:"🎯 Hook Templates",children:[d.jsx("option",{value:"hook",children:"Cinematic Write-On Hook (Sleep Science)"}),d.jsx("option",{value:"hook_story",children:"Story-Driven Hook (Resilience)"})]}),d.jsxs("optgroup",{label:"📚 Explain Templates",children:[d.jsx("option",{value:"explain",children:"4-Step Breakdown (Growth Mindset)"}),d.jsx("option",{value:"explain_sequential",children:"Sequential Regions (Knodovia)"}),d.jsx("option",{value:"explain_timeline",children:"Timeline Process (Photosynthesis)"})]}),d.jsxs("optgroup",{label:"🛠️ Apply Templates",children:[d.jsx("option",{value:"apply",children:"Scenario-Based (Growth Mindset)"}),d.jsx("option",{value:"apply_quiz",children:"Multiple Choice Quiz (Knodovia)"}),d.jsx("option",{value:"apply_compare",children:"Before/After Compare (Study Habits)"})]}),d.jsxs("optgroup",{label:"🤔 Reflect Templates",children:[d.jsx("option",{value:"reflect",children:"Question-Driven Reflection (Growth Mindset)"}),d.jsx("option",{value:"reflect_mindmap",children:"Mind Map Synthesis (Learning Styles)"})]}),d.jsxs("optgroup",{label:"🔖 Legacy Templates",children:[d.jsx("option",{value:"whiteboard_ted_enhanced",children:"✨ Whiteboard TED Enhanced (How Ideas Spread)"}),d.jsx("option",{value:"whiteboard_ted_v2",children:"Whiteboard TED v2 (Economy)"}),d.jsx("option",{value:"two_column_v1",children:"Two-Column Compare (Laws)"}),d.jsx("option",{value:"timeline_v1",children:"Timeline / Process Steps (Culture)"})]})]}),d.jsx("div",{style:{flex:1}}),d.jsx("button",{onClick:()=>n("wizard"),style:{padding:"8px 16px",fontSize:14,fontWeight:600,backgroundColor:"#732282",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:"Switch to Wizard Mode"}),d.jsxs("div",{style:{fontSize:12,color:"#666"},children:[u.duration_s,"s • ",u.fps," fps • ",u.layout.canvas.w,"×",u.layout.canvas.h]})]}),d.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[d.jsxs("div",{style:{width:"45%",display:"flex",flexDirection:"column",backgroundColor:"#fff",borderRight:"1px solid #e0e0e0"},children:[d.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsx("h2",{style:{margin:0,fontSize:16,fontWeight:600,color:"#333"},children:"Scene JSON"}),d.jsx("button",{onClick:k,style:{padding:"8px 20px",fontSize:14,fontWeight:600,backgroundColor:"#732282",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:E=>E.target.style.backgroundColor="#5a1b66",onMouseOut:E=>E.target.style.backgroundColor="#732282",children:"Apply Changes"})]}),d.jsx("textarea",{value:l,onChange:E=>c(E.target.value),style:{flex:1,padding:20,fontSize:13,fontFamily:'Monaco, Consolas, "Courier New", monospace',border:"none",outline:"none",resize:"none",lineHeight:1.6},spellCheck:!1}),(x||p.length>0)&&d.jsxs("div",{style:{borderTop:"1px solid #e0e0e0",padding:20,backgroundColor:"#fff3cd",maxHeight:200,overflowY:"auto"},children:[x&&d.jsxs("div",{style:{color:"#721c24",backgroundColor:"#f8d7da",padding:"8px 12px",borderRadius:4,fontSize:13,marginBottom:8},children:[d.jsx("strong",{children:"JSON Error:"})," ",x]}),p.map((E,R)=>d.jsxs("div",{style:{color:"#856404",fontSize:13,marginBottom:6,display:"flex",alignItems:"flex-start",gap:8},children:[d.jsx("span",{style:{color:"#f39c12"},children:"⚠"}),d.jsx("span",{children:E})]},R))]}),p.length===0&&!x&&d.jsxs("div",{style:{borderTop:"1px solid #e0e0e0",padding:"12px 20px",backgroundColor:"#d4edda",color:"#155724",fontSize:13},children:[d.jsx("span",{style:{color:"#28a745",marginRight:8},children:"✓"}),"Scene validated successfully"]})]}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#f8f8f8",alignItems:"center",justifyContent:"center",padding:40},children:[d.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:8,overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"},children:[d.jsx(xc,{component:w,inputProps:{scene:u},durationInFrames:u.duration_s*u.fps,fps:u.fps,compositionWidth:u.layout.canvas.w,compositionHeight:u.layout.canvas.h,controls:!0,style:{width:"100%",maxWidth:960,aspectRatio:"16/9"}}),d.jsx("div",{style:{margin:"12px 20px"},children:d.jsxs("label",{style:{fontSize:13,marginRight:8},children:[d.jsx("input",{type:"checkbox",checked:b,onChange:E=>C(E.target.checked)})," ","Debug render (no Player iframe)"]})}),b&&d.jsx("div",{style:{border:"2px dashed #e74c3c",margin:"0 20px 20px",padding:12,background:"#fff"},children:d.jsx(w,{scene:u})})]}),d.jsxs("div",{style:{marginTop:24,padding:"12px 24px",backgroundColor:"#fff",borderRadius:6,fontSize:13,color:"#666",textAlign:"center"},children:[d.jsx("strong",{children:u.meta.title}),d.jsx("div",{style:{marginTop:4,fontSize:12},children:u.meta.tags.slice(0,3).join(" • ")})]})]})]})]})}ig.createRoot(document.getElementById("root")).render(d.jsx(Ce.StrictMode,{children:d.jsx(WS,{})}));
